(function(e){function t(t){for(var o,r,s=t[0],l=t[1],c=t[2],u=0,p=[];u<s.length;u++)r=s[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);d&&d(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(o=!1)}o&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},a={app:0},i=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0545":function(e,t,n){"use strict";var o=n("dd95"),a=n.n(o);a.a},"090b":function(e,t,n){"use strict";n.r(t),t["default"]={coral:"coral | corals",reef:{base:"reef | reefs",lady:"Damsel Fish reef | Damsel Fish reefs",butterfly:"Butterfly Fish reef | Butterfly Fish reefs",napoleon:"Napoleon Fish reef | Napoleon Fish reefs",tooltip:"A reef is composed of several corals.<br>You can adopt a reef of 30, 75 or 150 corals."},gift:"gift",onehsot:"one-off",monthly:"monthly",ui:{continue:"Continue",previous:"Previous"},rules:{required:"This field is required",minLength:"This field must be at least {count} characters long",email:"Invalid email",specialChar:"Characters not allowed",digitOnly:"This field must contain digits only",minValue:"This field must be superior to {min}"},stripe:{payment:{success:"Your payment has been successfully completed!",processing:"Your payment is being validated",error:"An error has occurred, please try again",refused:"Your payment has been declined, please try again"}},deduction:{description:"I wish to make a <b>donation</b> of {donation} ‚Ç¨."},stepper:{header:{adoption:"Adoption",customization:"Personalisation",donation:"Donation",information:"Information",payment:"Payment",friend:"Your recipient",recipients:"Recipients",gift:"Gift",full:{setup:"What do you wish to do?",adoption:"What do you wish to adopt?"},customizationSend:"Email customisation",thanks:"Thank you!"},adoption:{title:"Adopt a {item} | Adopt {item}",description:"<b>For {donation} ‚Ç¨</b>, bring endangered marine ecosystems back to life.",corals:{hint:{individual:"Adopt an entire reef of 30 corals by clicking here \"<a href='/en/adopt-a-reef-individuals/'>Adopt a reef</a>\"!",company:"Adopt an entire reef of 30 corals by clicking here \"<a href='/en/adopt-a-reef-company/'>Adopt a reef</a>\"!"}},reefs:{lady:{title:"Damsel Fish",description:"Damsel Fish Reef of <b>30 corals</b> (from 900 ‚Ç¨)"},butterfly:{title:"Butterfly Fish",description:"Butterfly Fish Reef of <b>75 corals</b> (from 2250 ‚Ç¨)"},napoleon:{title:"Napoleon Fish",description:"Napoleon Fish Reef of <b>150 corals</b> (from 4500 ‚Ç¨)"},max:"Do you wish to adopt more than {max} {item} ? <a href='/en/contact/'>Contact-us directly</a>!"},customAmount:{label:"Amount:",hint:"The donation surplus will be used to support all of our actions."}},adoptionSetup:{error:"Please select the type of adoption."},bankTransferThanks:{title:"Your payment by bank transfer is pending",description:"As soon as your transfer is validated, you will receive an email with a link to continue the custom adoption process.",seeYouSoon:"See you soon!"},choice:{title:"Adopt a {item}!",buttons:{me:{text:"Adopt a {item}",tooltip:"You will be able to choose the name of the adopted {item} and directly download your personalised adoption certificate(s)."},friend:{text:"Adopt a {item} as a gift",tooltip:"Your recipient will immediately receive a code allowing them to choose the name(s) of the adopted {item} and download the corresponding certificate(s)."},company:"I am a company",offered:"I received a code to adopt a {item}!"}},customization:{title:"Name your {item} | Name your {item}",description:"Give a name to your adopted {item}, you can choose the one you want! |Give a name to each of your adopted {item}, you can choose the one you want!",input:{label:"Name of your {item} | Certificate n¬∞{number}",placeholder:"Name of your {item}"},downloadCsv:{label:"By clicking on the button below, you will download a file that will allow you to name your corals.<br>Once you have filled it in, you can send the file to us by email.",btnLabel:"Download the Excel sheet"}},customizationSend:{message:{title:"Write a message",description:"You can write a message to your recipients.<br>This message will be common to all recipients.",placeholder:"Your message"},send:{title:"Schedule sending",description1:"You can schedule for the gift codes to be sent to your recipients at a later date. This way the email will be sent on the morning of the day you selected.",description2:"If you do not schedule the sending, the gift codes will be sent immediately after you complete the payment.",checkbox:"I wish to choose at which date my gift code is sent"}},donation:{title:"Support Coral Guardian",description:"Every donation counts! Take part in restoring coral reef ecosystems.",buttons:{unique:"Donate once",recurrent:"Donate monthly",uniques:"Donate once"}},friend:{title:"Fill in your recipient's information",form:{firstname:"First name",name:"Surname",mail:"Email",message:"Personal message"}},setup:{adopt:"Adopt",offer:"Gift",donation:"Donate",tooltips:{me:"You can choose the name of your adoption(s) and download the personalised adoption certificate(s) directly.",recipient:"Your recipients will immediately receive a code allowing them to name their adoption(s) and download the corresponding adoption certificate(s)."}},gift:{title:"Your gift",description:"Did someone adopt a gift for you?<br>To adopt it, enter the gift code you received by email.",input:{label:"Gift code",placeholder:"Your gift code"}},information:{title:"Please provide us with the following information",description:"The requested information is used for the sole purpose of editing your tax receipt.",company:{cols:{information:{companyName:"Company name*",firstname:"First name of main contact*",name:"Last name of main contact*",mail:"Email of main contact*"},contact:{address:"Head office address*"}}},cols:{information:{title:"Information",firstname:"First name",name:"Surname",mail:"Email"},contact:{title:"Billing details",address:"Address",postalCode:"Postal code",city:"Town",country:"Country"}}},monthlyDonation:{description:"Ensure the evolution of the restoration area through a monthly donation which will help us continue to protect, restore and raise awareness."},multipleAdoption:{description:"Give a name to your {item}, you can choose whatever name you want! 2 solutions are available to you : | Give a name to each one of your {item}, pick the name you want! 2 solutions are available to you:",tabs:{fields:{title:"Fill in the fields",description:"I fill in each name for my {item} in the fields below :"},file:{title:"Send a file",subtitle:"I have a lot of {item} to name? I would rather send a file with all the names for my {item}.",description:"I download the Excel file provided for me. Once completed, I go to the address given in the confirmation email I received, and deposit my file in the field provided.",button:"Download the Excel file",upload:{label:"Your file",description:"Submit your completed Excel sheet with the names you have chosen here:"}}}},multipleRecipient:{description:"Fill in the details of your recipients so that they receive their respective gift codes. You have 2 options:",tabs:{fields:{title:"Fill in the fields",description:"I fill in the details of each of my recipients in the fields below:",recipient:"Recipient n¬∞{index}"},file:{title:"Send a file",subtitle:"I would rather send a file later with the details of my recipients",description:"I download the Excel file provided to me. Once filled in, I go to the address given in the confirmation email I received and I deposit my file in the field provided for this purpose.",button:"Download the file",upload:{label:"Your file",description:"Upload your recipient excel file here :"}}}},payment:{methods:{card:{tab:"Card",button:"I wish to pay by card"},bank:{tab:"Bank transfer",button:"Download the IBAN",description:"To pay by bank transfer, download the IBAN of the NGO and make the payment via your bank.",hint:"A processing time of 2 to 5 days is to be expected while validating the payment. Once validated, you will receive an email allowing you to continue your order."}},title:"Proceed to payment",description:"The payment is secured through the Stripe payment module üîí",reminder:{title:"Review your donation",adoption:{description:"{count} {item} transplanted on Hatamin island in Indonesia. | {count} {item} transplanted on Hatamin island in Indonesia."},donation:{description:"Your {item} donation will help us continue all of our actions."}},errors:{card:"Please provide your payment details"}},finalAdoption:{title:"Congratulations and thank you, you have adopted {count} {item}",description:"Your tax receipt and adoption certificate have been sent by email. You can also download them directly by clicking <a href='{link}' target='_blank'>here</a>.| Your tax receipt and adoption certificates have been sent to you by email. You can also download them directly by clicking <a href='{link}' target='_blank'>here</a>.",description_no_certif:"Your tax receipt has been sent to you by email.  You will receive your adoption certificates once you have sent us your file with the names you wish to give your corals.| Your tax receipt has been sent to you by email. You will receive your adoption certificates once you have sent us your file with the names you wish to give your corals.",description_file:"Your tax receipt has been sent by email.<br>You have chosen to send us the name of your {item} using the file provided. Your tax receipt has been sent by email. You have chosen to send us the names of your {item} using the file provided. Once you have completed it, you can send it back to us at the address given in the confirmation email you have just received."},finalFriendAdoption:{title:"Congratulations and thank you, you have adopted {count} {item} for your recipient",description:"Your tax receipt has been sent to you by email. <br><br>Your recipient's coupon code is: {orderToken}.<br><br>Your recipient will receive an email to personalize their adoption certificate!"},finalFriendGift:{title:"Congratulations and thank you, you have adopted {count} {item}",description:"Your certificate of adoption has been sent to you by email. You can also download them directly by clicking <a href='{link}' target='_blank'>here</a>.| Your adoption certificates have been sent to you by email. You can also download them directly by clicking <a href='{link}' target='_blank'>here</a>."},finalDonation:{title:"Congratulations and thanks for your support",description:"Your tax receipt will be sent to you by email.<br><br>Do you wish to receive news of all our actions and projects? Subscribe to our newsletter right <a href='/en/newsletter-coral-guardian/'>here</a>!<br>For any question, write to us at <a href='mailto:info@coralguardian.org'>info@coralguardian.org</a>",bankTransfer:"Your transfer is pending. Once validated, you will receive an email containing your tax receipt."},finalRecurrentDonation:{title:"Congratulations and thank you for your monthly donation",description:"Your tax receipt summarizing all your donations for the current fiscal year will be sent to you by email next January.<br><br>Do not hesitate to subscribe to our newsletter <a href='/en/newsletter-coral-guardian/'>here</a> to receive news on the progress of our projects every month."},finalRecipient:{title:"Congratulations and thank you, you have made a gift of {count} {item}",description:"Your tax receipt has been sent by email.",description2:"If you have chosen to send us the names of your recipients using the file provided, you can fill it in and send it back to us at the address indicated in the confirmation email you just received."}},errors:{base:"An error occurred, please try again later.",already_named:"This code has already been used to name the adopted {item}.",order_incompatible_type:"This code doesn't seem to correspond to the related adoption.",invalid_type:"This code does not correspond to any coral adoption.",download_file:"Please download the file before continuing.",wrong_token:"The order number appears to be invalid. If the problem persists, please contact us directly."},donation:{monthly:{description:"Keep supporting our daily actions to protect coral reefs with a monthly donation!"}},newsletter:{title:"Subscribe to our newsletter",description:"Receive monthly updates on the progress of our projects.",label:"I would like to subscribe to the Coral Guardian monthly newsletter.",otherEmail:{description:"If you wish to sign up with <b>another email address</b> than the one entered in the form, please fill in the field below.",email:"Email"}},giftCustom:{title:"Gift code sending options*",radios:{dont:"I wish to receive the gift code(s) on my email address",send:"I want to fill in the email addresses of the recipient(s) so that they receive their code directly (importing a contact file is possible)"}}}},"0bc8":function(e,t,n){},1352:function(e,t,n){"use strict";var o=n("f529"),a=n.n(o);a.a},"141e":function(e,t,n){},"16ee":function(e,t,n){"use strict";var o=n("f179"),a=n.n(o);a.a},1707:function(e,t,n){},"1e05":function(e,t,n){},"1fb5":function(e,t,n){},"1fe9":function(e,t,n){"use strict";var o=n("1707"),a=n.n(o);a.a},2409:function(e,t,n){"use strict";var o=n("5c2a"),a=n.n(o);a.a},"269b":function(e,t,n){},"29f6":function(e,t,n){"use strict";var o=n("d03e"),a=n.n(o);a.a},"307c":function(e,t,n){},"3c61":function(e,t,n){},"43a6":function(e,t,n){"use strict";var o=n("141e"),a=n.n(o);a.a},4790:function(e,t,n){var o={"./en.js":"090b","./fr.js":"4b7f"};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}a.keys=function(){return Object.keys(o)},a.resolve=i,e.exports=a,a.id="4790"},"4b7f":function(e,t,n){"use strict";n.r(t),t["default"]={coral:"corail | coraux",reef:{base:"r√©cif | r√©cifs",lady:"r√©cif Demoiselle Bleue | r√©cifs Demoiselle Bleue",butterfly:"r√©cif Poisson-papillon | r√©cifs Poisson-papillon",napoleon:"r√©cif Napol√©on | r√©cifs Napol√©on",tooltip:"Un r√©cif est compos√© de plusieurs coraux.<br>Vous pourrez adopter un r√©cif de 30, 75 ou 150 coraux."},gift:"cadeau",oneshot:"ponctuel",monthly:"mensuel",ui:{continue:"Continuer",previous:"Pr√©c√©dent"},rules:{required:"Ce champ est requis",minLength:"Ce champ doit comporter {count} caract√®res minimum",email:"Email non valide",specialChar:"Caract√®re(s) non admis",digitOnly:"Ce champ ne doit comporter que des chiffres",minValue:"Ce champ doit √™tre sup√©rieur √† {min}"},stripe:{payment:{success:"Votre paiement a √©t√© r√©alis√© avec succ√®s !",processing:"Votre paiement est en cours de validation",error:"Une erreur est survenue, veuillez r√©essayer",refused:"Votre paiement a √©t√© refus√©, veuillez r√©essayer"}},deduction:{description:"Je fais <b>un don</b> de {donation} ‚Ç¨,<br><b>soit {deduction} ‚Ç¨</b> apr√®s d√©duction fiscale."},stepper:{header:{adoption:"Adoption",customization:"Personnalisation",donation:"Don",information:"Informations",payment:"Paiement",friend:"Votre destinataire",recipients:"Destinataires",gift:"Cadeau",full:{setup:"Que souhaitez-vous faire ?",adoption:"Que souhaitez-vous adopter ?"},customizationSend:"Personnalisation de l'envoi",thanks:"Merci !"},adoption:{title:"Adoptez un {item} | Adoptez des {item}",description:"<b>Pour {donation} ‚Ç¨</b>, redonnez vie aux √©cosyst√®mes marins en danger.",corals:{hint:{individual:"Adopter un r√©cif entier √† partir de 30 coraux sur notre page d√©di√©e \"<a href='/adopter-un-recif-particuliers/'>Adopter un r√©cif</a>\" !",company:"Adopter un r√©cif entier √† partir de 30 coraux sur notre page d√©di√©e \"<a href='/adoptez-un-recif-entreprises/'>Adopter un r√©cif</a>\" !"}},reefs:{lady:{title:"Demoiselle Bleue",description:"R√©cif Demoiselle Bleue de <b>30 coraux</b> (base de 900 ‚Ç¨)"},butterfly:{title:"Poisson-papillon",description:"R√©cif Poisson-papillon de <b>75 coraux</b> (base de 2250 ‚Ç¨)"},napoleon:{title:"Napol√©on",description:"R√©cif Napol√©on de <b>150 coraux</b> (base de 4500 ‚Ç¨)"},max:"Vous souhaitez adopter plus de {max} {item} ? <a href='mailto:a.maillard@coralguardian.org'>Contactez-nous directement</a> !"},customAmount:{label:"Montant :",hint:"Le surplus de don sera utilis√© pour soutenir l'ensemble de nos actions."}},adoptionSetup:{error:"Veuillez s√©lectionner un type d'adoption."},bankTransferThanks:{title:"Votre paiement par virement est en attente",description:"D√®s que votre virement sera valid√©, vous recevrez un email contenant un lien vous permettant de continuer le processus d'adoption personnalis√©.",seeYouSoon:"A tr√®s vite !"},certificate:{gift:{email:"Votre certificat d'adoption vous sera envoy√© par email d'ici une quinzaine de minutes.| Vos certificats d'adoption vous seront envoy√©s par email d'ici une quinzaine de minutes."},adoption:{email:"Votre re√ßu fiscal et votre certificat d'adoption vous seront envoy√©s par email d'ici une quinzaine de minutes. | Votre re√ßu fiscal et vos certificats d'adoption vous seront envoy√©s par email d'ici une quinzaine de minutes."}},choice:{title:"C‚Äôest parti pour adopter un {item} !",buttons:{me:{text:"J'adopte un {item}",tooltip:"Vous pourrez choisir vous m√™me le nom du ou des {item} adopt√©(s) et t√©l√©charger directement le(s) certificat(s) d'adoption personnalis√©(s)."},friend:{text:"J'offre l'adoption d'un {item}",tooltip:"Votre destinataire recevra imm√©diatement un code lui permettant de choisir le(s) nom(s) du ou des {item} adopt√©(s) et t√©l√©charger le(s) certificat(s) correspondant(s)."},company:"Je suis une entreprise"}},customization:{title:"Nommez votre {item} | Nommez vos {item}",description:"Donnez un nom √† votre {item} adopt√©, vous pouvez choisir celui que vous souhaitez ! |Donnez un nom √† chacun de vos {item} adopt√©s, vous pouvez choisir ceux que vous souhaitez !",input:{label:"Nom de votre {item} | Certificat n¬∞{number}",placeholder:"Nom de votre {item}"},downloadCsv:{label:"En cliquant sur le bouton suivant vous pourrez t√©l√©charger un fichier excel afin de nommer vos coraux.<br>Une fois rempli vous pourrez nous le renvoyer par email.",btnLabel:"T√©l√©charger votre fichier excel"}},customizationSend:{message:{title:"Ecrire un message",description:"Vous pouvez √©crire un message √† l'intention de vos destinataires.<br>Ce message sera commun √† l'ensemble des destinataires.",placeholder:"Votre message"},send:{title:"Programmer l'envoi",description1:"Vous avez la possibilit√© de programmer l'envoi des bons cadeaux √† vos destinataires √† une date ult√©rieure. L'email sera envoy√© le matin du jour s√©lectionn√©.",description2:"Si vous ne programmez pas l'envoi, les codes cadeaux seront envoy√©s √† la fin de la commande.",checkbox:"Je souhaite programmer mon envoi"}},donation:{title:{france:"Soutenez Coral Guardian",spain:"Soutenez le projet S.O.S Corales"},description:"Votre don nous aidera √† poursuivre l'ensemble de nos actions.",buttons:{unique:"Je donne une fois",recurrent:"Je donne tous les mois"}},friend:{title:"Renseignez les informations de votre destinataire",form:{firstname:"Pr√©nom",name:"Nom",mail:"Email",message:"Message √† son intention"}},setup:{adopt:"J'adopte",offer:"J'offre",donation:"Je fais un don",tooltips:{me:"Vous pourrez choisir vous m√™me le nom de votre ou de vos adoptions et t√©l√©charger directement le(s) certificat(s) d'adoption personnalis√©(s).",recipient:"Votre ou vos destinataire(s) recevront imm√©diatement ou en diff√©r√© un code leur permettant de choisir le(s) nom(s) du ou des coraux/r√©cifs adopt√©(s) et t√©l√©charger le(s) certificat(s) correspondant(s)."}},gift:{title:"Votre cadeau",description:"Pour adopter votre cadeau et lui donner un nom, saisissez votre code cadeau re√ßu par email.",input:{label:"code cadeau",placeholder:"Votre code cadeau"}},information:{title:"Renseignez vos informations",description:"Les informations demand√©es sont utilis√©es pour √©diter votre re√ßu fiscal et pour proc√©der au paiement.",company:{cols:{information:{companyName:"Nom de l'entreprise*",firstname:"Pr√©nom du contact principal*",name:"Nom du contact principal*",mail:"Email du contact principal*"},contact:{address:"Adresse du si√®ge*"}}},cols:{information:{title:"Informations",firstname:"Pr√©nom*",name:"Nom*",mail:"Email*"},contact:{title:"Coordonn√©es",address:"Adresse*",postalCode:"Code postal*",city:"Commune*",country:"Pays*"}}},monthlyDonation:{description:"Assurez la poursuite de nos actions de recherche, de restauration et de sensibilisation au quotidien avec un don mensuel."},multipleAdoption:{description:"Donnez un nom √† votre {item}, vous pouvez choisir celui que vous souhaitez ! Deux solutions s'offrent √† vous : | Donnez un nom √† chacun de vos {item}, vous pouvez choisir ceux que vous souhaitez ! Deux solutions s'offrent √† vous :",tabs:{fields:{title:"Je remplis les champs",description:"Je renseigne chaque nom de {item} dans les champs ci-dessous :"},file:{title:"J'envoie un fichier",subtitle:"J'ai beaucoup de {item} √† nommer ? J'envoie un fichier avec les personnalisations.",description:"Je t√©l√©charge le fichier excel mis √† ma disposition. Une fois rempli, je me rends √† l'adresse communiqu√©e dans le mail de confirmation re√ßu et je d√©pose mon fichier dans le champ pr√©vu √† cet effet.",button:"T√©l√©charger le fichier",upload:{label:"Votre fichier",description:"D√©posez votre fichier excel de noms compl√©t√© ici :"}}}},multipleRecipient:{description:"Renseignez les coordonn√©es de vos destinataires afin qu'ils re√ßoivent leur code cadeau respectif. Deux solutions s'offrent √† vous :",tabs:{fields:{title:"Je remplis les champs",description:"Je renseigne les coordonn√©es de chacun de mes destinataires dans les champs ci-dessous :",recipient:"Destinataire n¬∞{index}"},file:{title:"J'envoie un fichier",subtitle:"J'envoie un fichier avec les coordonn√©es de mes destinataires",description:"Je t√©l√©charge le fichier excel mis √† ma disposition. Une fois rempli, je me rends √† l'adresse communiqu√©e dans le mail de confirmation re√ßu et je d√©pose mon fichier dans le champ pr√©vu √† cet effet.",button:"T√©l√©charger le fichier",upload:{label:"Votre fichier",description:"D√©posez votre fichier excel de destinataires ici :"}}}},payment:{methods:{card:{tab:"Carte",button:"Je souhaite payer par carte"},bank:{tab:"Virement",button:"T√©l√©charger le RIB",description:"Pour payer par virement bancaire, t√©l√©charger le RIB de l'association et proc√©dez au paiement via votre √©tablissement bancaire.",hint:"Un d√©lai de traitement de 2 √† 5 jours est √† pr√©voir le temps de valider le paiement. Une fois valid√©, vous recevrez un email vous permettant de continuer votre commande."}},title:"Proc√©dez au paiement",description:"Le paiement est s√©curis√© avec Stripe üîí",reminder:{title:"Rappel de votre don",adoption:{description:"{count} {item} transplant√© sur l'√Æle d'Hatamin en Indon√©sie. | {count} {item} transplant√©s sur l'√Æle d'Hatamin en Indon√©sie."},donation:{description:"Votre don {item} nous aidera √† poursuivre l'ensemble de nos actions."}},errors:{card:"Veuillez renseigner les informations de votre carte bancaire."}},finalAdoption:{title:"Bravo et merci, vous avez adopt√© {count} {item}",description:"Vous pouvez aussi directement t√©l√©charger le certificat en cliquant <a class='font-weight-bold text-decoration-underline' href='{link}' target='_blank'>ici</a>.|Vous pouvez aussi directement t√©l√©charger les certificats en cliquant <a class='font-weight-bold text-decoration-underline' href='{link}' target='_blank'>ici</a>.",description_no_certif:"Votre re√ßu fiscal a √©t√© envoy√© par email. Vous recevrez votre certificat par email une fois que vous nous aurez retourn√© votre fichier de noms.| Votre re√ßu fiscal a √©t√© envoy√© par email. Vous recevrez vos certificats par email une fois que vous nous aurez retourn√© votre fichier de noms.",description_file:"Votre re√ßu fiscal et votre certificat ont √©t√© envoy√©s par email.| Votre re√ßu fiscal et vos certificats ont √©t√© envoy√©s par email."},finalFriendAdoption:{title:"Bravo et merci, vous avez adopt√© {count} {item} pour votre destinataire",description:"Votre re√ßu fiscal a √©t√© envoy√© par email.<br><br>Le code cadeau de votre destinataire est le suivant : {orderToken}<br><br>Il/elle recevra un email pour personnaliser votre cadeau !"},finalFriendGift:{title:"Bravo et merci, vous avez adopt√© {count} {item}",description:"Vous pouvez aussi directement le t√©l√©charger en cliquant <a class='font-weight-bold text-decoration-underline' href='{link}' target='_blank'>ici</a>.| Vous pouvez aussi directement les t√©l√©charger en cliquant <a class='font-weight-bold text-decoration-underline' href='{link}' target='_blank'>ici</a>.",descriptionNoEmail:"Vous pouvez t√©l√©charger votre certificat directement en cliquant <a class='font-weight-bold text-decoration-underline' href='{link}' target='_blank'>ici</a>."},finalDonation:{title:"Bravo et merci pour votre soutien",description:"Votre re√ßu fiscal a √©t√© envoy√© par email.",bankTransfer:"Votre virement est en attente de r√©ception. Une fois celui ci valid√©, vous recevrez un email contenant votre re√ßu fiscal."},finalRecurrentDonation:{title:"Bravo et merci pour votre don mensuel",description:"Votre re√ßu fiscal r√©capitulant l‚Äôensemble de vos dons de l‚Äôann√©e fiscale en cours vous sera envoy√© par email au mois de janvier prochain."},finalRecipient:{title:"Bravo et merci, vous avez adopt√© {count} {item} pour votre destinataire | Bravo et merci, vous avez adopt√© {count} {item} pour vos destinataires",description:{base:"Votre re√ßu fiscal vous a √©t√© envoy√© par email.<br>Les codes cadeaux ont √©t√© envoy√©s √† vos destinataires.",sendToMe:"Votre re√ßu fiscal a √©t√© envoy√© par email ainsi que l'ensemble des codes cadeaux.<br>En se rendant sur le site Coral Guardian, vos destinataires pourront personnaliser leur cadeau !",scheduled:"Votre re√ßu fiscal vous a √©t√© envoy√© par email.<br>Les codes cadeaux seront envoy√©s √† vos destinataires √† la date programm√©e."},description2:"Si vous avez choisi de nous faire parvenir les noms de vos destinataires gr√¢che aux fichier √† disposition, vous pouvez le remplir et nous le renvoyer √† l'adresse inscrite dans l'email de confirmation que vous venez de recevoir."}},errors:{base:"Une erreur est survenue, veuillez r√©essayer ult√©rieurement.",already_named:"Ce code a d√©j√† √©t√© utilis√©.",order_incompatible_type:"Ce code ne semble pas correspondre √† l'adoption souhait√©e.",invalid_type:"Ce code ne correspond √† aucune commande.",download_file:"Veuillez t√©l√©charger le fichier avant de continuer.",wrong_token:"Le num√©ro de commande semble invalide. Si le probl√®me persiste, veuillez nous contacter directement.",select_date:"Veuillez s√©lectionner une date si vous souhaitez pr√©ciser la date d'envoi.",incorrect_file_data:"Les donn√©es du fichier semblent incorrects, veuillez v√©rifier vos informations et r√©essayer.",code_not_found:"Le code cadeau semble invalide. Si le probl√®me persiste, veuillez nous contacter directement."},donation:{monthly:{description:"Continuez √† soutenir nos actions au quotidien pour les oc√©ans avec un don mensuel !"}},newsletter:{title:"Inscrivez-vous √† la newsletter",description:"Recevez des nouvelles de l'avanc√©e de nos projets tous les mois.",label:"Je souhaite m'inscrire √† la newsletter mensuelle de Coral Guardian",otherEmail:{description:"Si vous souhaitez vous inscrire avec <b>une autre adresse email</b> que celle renseign√©e dans le formulaire, merci de renseigner le champ ci-dessous.",email:"Email"}},giftCustom:{title:"Options d'envoi des codes cadeaux*",radios:{dont:"Je souhaite recevoir le(s) code(s) cadeau(x) sur mon adresse email",send:"Je souhaite renseigner les adresses emails du ou des destinataire(s) afin qu'il(s) re√ßoive(nt) leur code directement (l'import d'un fichier de contact est possible)"}}}},"555e":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("base-form",e._b({},"base-form",e.form,!1))],1)},i=[],r=n("5530"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex justify-center"},[n("div",{staticClass:"form-container"},[n("transition",{attrs:{name:"fade"}},[e.displayAlert?n("v-alert",{staticClass:"tooltip white--text",attrs:{color:"red",dismissible:""}},[e._v(e._s(e.$t(e.alert,{singular:e.singular}))+" ")]):e._e()],1),n("v-tabs",{directives:[{name:"show",rawName:"v-show",value:"ChoiceStep"!==e.currentStep.component,expression:"currentStep.component !== 'ChoiceStep'"}],attrs:{value:e.stepNumber,"background-color":"primary",grow:"",centered:"","center-active":"","active-class":"step-active","hide-slider":""}},e._l(e.tabs,(function(t,o){return n("v-tab",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"tab.visible"}],key:o,staticClass:"text-no-transform",class:t.class?t.class:"",attrs:{disabled:""}},[t.title?n("span",[e._v(e._s(e.$t(t.title)))]):e._e()])})),1),n("v-tabs-items",{attrs:{value:e.stepNumber,touchless:""}},e._l(e.steps,(function(t,o){return n("v-tab-item",{key:o},[n("step",{class:t.classes,attrs:{title:t.title,"is-singular":t.singularTitle,"is-specific":t.specificTitle,id:t.component}},[t.component===e.currentStep.component&&o===e.stepNumber?n(t.component,e._b({tag:"component"},"component",t.props,!1)):e._e()],1)],1)})),1),"ChoiceStep"!==e.currentStep.component?n("form-footer"):e._e()],1)])},l=[],c=(n("a623"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-stepper-footer d-flex",class:e.displayPreviousButton?"justify-space-between":"justify-end"},[e.displayPreviousButton?n("v-btn",{on:{click:e.decrementStep}},[e._v(" "+e._s(e.$t("default.ui.previous"))+" ")]):e._e(),e.currentStep.isLast?e._e():n("v-btn",{staticClass:"black--text align-self-end",attrs:{color:"secondary",loading:e.isLoading},on:{click:e.validate}},[e._v(" "+e._s(e.$t("default.ui.continue"))+" ")])],1)}),d=[],u=n("2f62"),p={name:"form-footer",data:function(){return{isLoading:!1,customPreviousHide:!1}},computed:Object(r["a"])(Object(r["a"])({},Object(u["c"])({step:"step",stepCount:"stepCount",currentStep:"getCurrentStep"})),{},{displayPreviousButton:function(){return this.step>0&&!1!==this.currentStep.back&&!this.customPreviousHide}}),methods:Object(r["a"])(Object(r["a"])({},Object(u["b"])({incrementStep:"incrementStep",decrementStep:"decrementStep"})),{},{validate:function(){this.currentStep.validate?(this.isLoading=!0,this.$root.$emit(this.currentStep.component+"Validation",this.currentStep.customValidation)):(this.customPreviousHide=!1,this.incrementStep())}}),mounted:function(){var e=this;setTimeout((function(){e.$root.$on("StepValid",(function(){e.currentStep.api?e.$root.$emit(e.currentStep.component+"Api"):(e.customPreviousHide=!1,e.isLoading=!1,e.incrementStep())})),e.$root.$on("ApiValid",(function(){e.customPreviousHide=!1,e.isLoading=!1,e.incrementStep()})),e.$root.$on("IsLoaded",(function(){e.customPreviousHide=!1,e.isLoading=!1})),e.$root.$on("hidePreviousButton",(function(){return e.customPreviousHide=!0}))}),100)},beforeDestroy:function(){this.$root.$off("StepValid"),this.$root.$off("ApiValid"),this.$root.$off("IsLoaded"),this.$root.$off("hidePreviousButton")}},m=p,f=(n("84c4"),n("2877")),h=n("6544"),b=n.n(h),v=n("8336"),y=Object(f["a"])(m,c,d,!1,null,"07ac17c7",null),g=y.exports;b()(y,{VBtn:v["a"]});var _=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"text-center form-step cbo-smoothscroll",attrs:{elevation:"0",id:e.id}},[n("p",{staticClass:"text-uppercase pb-5 text-h6 font-weight-bold poppins-police"},[e.isSpecific?n("span",[e._v(" "+e._s(e.$tc(e.title,e.count,e.specific))+" ")]):e.isSingular?n("span",[e._v(" "+e._s(e.$tc(e.title,e.count,e.singular))+" ")]):n("span",[e._v(" "+e._s(e.$tc(e.title,e.count,e.translation))+" ")])]),e._t("default")],2)},$=[],O={computed:Object(r["a"])(Object(r["a"])({},Object(u["c"])({order:"getOrder",defaultTranslation:"getDefaultTranslation",specificTranslation:"getSpecificTranslation"})),{},{count:function(){return this.order.quantity},translation:function(){return{item:this.$tc(this.defaultTranslation,this.count)}},singular:function(){return{item:this.$tc(this.defaultTranslation,1)}},plural:function(){return{item:this.$tc(this.defaultTranslation,2)}},specific:function(){return{item:this.$tc(this.specificTranslation,this.count)}}})},x={name:"step",mixins:[O],props:{id:{type:String,default:""},title:{type:String,required:!0},isSingular:{type:Boolean,default:!1},isSpecific:{type:Boolean,default:!1}}},j=x,S=(n("ce5c"),n("b0af")),k=Object(f["a"])(j,_,$,!1,null,"980bc882",null),w=k.exports;b()(k,{VCard:S["a"]});var C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex justify-center align-center"},[n("div",{staticClass:"incrementor d-flex justify-space-around align-center",class:{big:e.big}},[n("incrementor-btn",{attrs:{increment:!1,count:e.options.count,icon:"mdi-minus",big:e.big}}),n("div",{staticClass:"d-flex counter primary justify-center text--primary flex-column text-body-2",class:{big:e.big}},[n("span",{staticClass:"text-center font-weight-bold"},[e._v(e._s(e.options.count))]),n("span",[e._v(e._s(e.item))])]),n("incrementor-btn",{attrs:{icon:"mdi-plus",count:e.options.count,max:e.options.maxCount,big:e.big}})],1)])},F=[],T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{class:{big:e.big},attrs:{disabled:!e.increment&&e.count<=1||e.increment&&e.max&&e.count>=e.max,fab:"",rounded:"",outlined:"",elevation:"0"},on:{click:function(t){e.increment?e.incrementCount():e.decrementCount()}}},[n("v-icon",{attrs:{color:"black"}},[e._v(" "+e._s(e.icon)+" ")])],1)},A=[],D=(n("a9e3"),{name:"incrementor-btn",props:{increment:{type:Boolean,default:!0},icon:{type:String,required:!0},count:{type:Number},max:{type:Number},big:{type:Boolean,default:!1}},methods:Object(r["a"])({},Object(u["b"])({incrementCount:"incrementCount",decrementCount:"decrementCount"}))}),E=D,P=(n("0545"),n("132d")),V=Object(f["a"])(E,T,A,!1,null,"8c7c37b2",null),N=V.exports;b()(V,{VBtn:v["a"],VIcon:P["a"]});var I={name:"incrementor",components:{IncrementorBtn:N},props:{options:{type:Object,required:!0},item:{type:String,required:!0},big:{type:Boolean,default:!1}}},z=I,q=(n("9601"),Object(f["a"])(z,C,F,!1,null,"02512bc8",null)),L=q.exports,M={me:0,friend:1,offered:2,reefs:{lady:{baseElementPrice:900,specificType:"reef.lady"},butterfly:{baseElementPrice:2250,specificType:"reef.butterfly"},napoleon:{baseElementPrice:4500,specificType:"reef.napoleon"}}},B=M,R={data:function(){return{adoptionConstants:{me:B.me,friend:B.friend,offered:B.offered},reefs:B.reefs}}},U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",{staticClass:"pb-2",domProps:{innerHTML:e._s(e.$t("default.stepper.adoption.description",{donation:e.order.price}))}}),n("adoption-count-block",{attrs:{options:e.localOptions,big:!0}})],1)},G=[],Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("adoption-count-block",{attrs:{options:e.options,big:""}})},H=[],J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.options.displayAlert?n("v-alert",{staticClass:"text-body-2",attrs:{text:"",color:"tertiary"},domProps:{innerHTML:e._s(e.options.message)}}):e._e(),n("div",{staticClass:"pa-2"},[n("incrementor",{attrs:{options:e.options,item:e.options.item,big:e.big}})],1),n("custom-amount",{ref:"customAmount",on:{input:e.updateCustomAmount},model:{value:e.order.price,callback:function(t){e.$set(e.order,"price",t)},expression:"order.price"}}),n("v-divider",{staticClass:"primary"}),n("deduction",{attrs:{donation:e.order.price,big:e.big}})],1)},W=[],Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{class:{"text-body-1":e.big},attrs:{id:"deduction"},domProps:{innerHTML:e._s(e.$t("default.deduction.description",e.options))}})},K=[],Q=(n("8ba4"),n("b680"),{name:"deduction",props:{donation:{types:Number,default:0},big:{type:Boolean,default:!1}},computed:Object(r["a"])(Object(r["a"])({},Object(u["c"])({fiscalReduction:"getFiscalReduction"})),{},{options:function(){return{donation:this.donation,deduction:this.getFormattedDeduction}},getFormattedDeduction:function(){var e=this.fiscalReduction*this.donation,t=this.donation-e;return Number.isInteger(t)||(t=t.toFixed(2)),t}})}),X=Q,ee=(n("8e7b"),Object(f["a"])(X,Z,K,!1,null,"c8198662",null)),te=ee.exports,ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"custom-amount"},[n("v-row",{staticClass:"align-center justify-center",attrs:{dense:""}},[n("v-col",{attrs:{cols:"6",sm:"4"}},[n("span",{staticClass:"text-body-2"},[e._v(e._s(e.$t("default.stepper.adoption.customAmount.label")))])]),n("v-col",{attrs:{cols:"3"}},[n("v-text-field",{ref:"customAmountInput",staticClass:"input-right",attrs:{value:e.value,type:"number",color:"tertiary",suffix:"‚Ç¨",rules:[e.rules.minValue,e.rules.required]},on:{change:e.emit}})],1),e.hint?n("v-col",{attrs:{cols:"1"}},[e._v("*")]):e._e()],1),e.hint?n("v-row",{staticClass:"text-caption",attrs:{dense:""}},[e._v(" * "+e._s(e.$t("default.stepper.adoption.customAmount.hint"))+" ")]):e._e()],1)},oe=[],ae=(n("4160"),n("d3b7"),n("ac1f"),n("466d"),n("1276"),n("498a"),n("159b"),n("ddb0"),n("a925"));function ie(){var e=n("4790"),t={};return e.keys().forEach((function(n){var o=n.match(/([A-Za-z0-9-_]+)\./i);if(o&&o.length>1){var a=o[1];t[a]=e(n)}})),t}function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={countryCodeOnly:!1},n=Object(r["a"])(Object(r["a"])({},t),e),o=void 0!==navigator.languages?navigator.languages[0]:navigator.language;if(o){var a=n.countryCodeOnly?o.trim().split(/-|_/)[0]:o.trim();return a}}o["a"].use(ae["a"]);var se="undefined"!==typeof siteLocale&&null!==siteLocale?siteLocale[0].trim().split(/-|_/)[0]:re({countryCodeOnly:!0}),le=new ae["a"]({locale:se,fallbackLocale:"en",messages:ie()}),ce={data:function(){var e=this;return{valid:!1,minLength:2,min:0,rules:{required:function(e){return!!e||le.t("default.rules.required")},notNull:function(e){return null!==e},minLength:function(t){return!!t&&t.length>=e.minLength||le.t("default.rules.minLength",{count:e.minLength})},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||le.t("default.rules.email")},specialChar:function(e){var t=/^[a-zA-Z0-9√©√®√™√Æ√¥√ª√†√Ø√´√∂√±√ß '&/.-]+$/;return t.test(e)||le.t("default.rules.specialChar")},message:function(e){var t=/^[a-zA-Z0-9√©√®√™√Æ√¥√ª√†√Ø√´√∂√±√ß ,&‚Ç¨$'.?!-)/(]+$/;return t.test(e)||le.t("default.rules.specialChar")},digitOnly:function(e){var t=/^[0-9+]+$/;return t.test(e)||le.t("default.rules.digitOnly")},minValue:function(t){return Number(t)>=e.min||le.t("default.rules.minValue",{min:e.min})}}}},computed:{validationEventName:function(){return this.$options._componentTag+"Validation"},validationErrorEventName:function(){return this.$options._componentTag+"ValidationError"},formRefName:function(){return this.$options._componentTag+"Form"},customValidationEventName:function(){return"CustomValid"}},methods:{setMinLengthRule:function(e){this.minLength=e},validForm:function(){this.$refs[this.formRefName]&&this.$refs[this.formRefName].validate()?this.$root.$emit("StepValid"):(this.$root.$emit(this.validationErrorEventName),this.$root.$emit("IsLoaded"))}},mounted:function(){var e=this;this.$root.$on(this.validationEventName,(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?e.$root.$emit(e.customValidationEventName):e.validForm()}))},beforeDestroy:function(){this.$root.$off(this.validationEventName)}},de={name:"custom-amount",props:{value:{validator:function(e){return"number"===typeof e||null===e},required:!0},hint:{type:Boolean,default:!0}},mixins:[ce],data:function(){return{}},methods:{setMinInput:function(e){this.min=e,this.getInput().$el.querySelector("input").min=e},getInput:function(){return this.$refs.customAmountInput},emit:function(e){e<this.min&&(this.getInput().$data.lazyValue=this.min,e=this.min),this.$emit("input",Number(e))}}},ue=de,pe=n("62ad"),me=n("0fd9"),fe=n("8654"),he=Object(f["a"])(ue,ne,oe,!1,null,"253d1a7e",null),be=he.exports;b()(he,{VCol:pe["a"],VRow:me["a"],VTextField:fe["a"]});var ve={name:"adoption-count-block",components:{Incrementor:L,Deduction:te,CustomAmount:be},mixins:[O],props:{options:{type:Object,required:!0},big:{type:Boolean,default:!1}},data:function(){return{}},computed:Object(r["a"])(Object(r["a"])({},Object(u["c"])({order:"getOrder"})),Object(u["d"])({baseElementPrice:function(e){return e.data.baseElementPrice}})),watch:{order:{deep:!0,handler:function(e){this.setMinInput(e.quantity*this.baseElementPrice)}}},methods:Object(r["a"])(Object(r["a"])({},Object(u["b"])({updateForm:"updateForm"})),{},{updateCustomAmount:function(e){this.$refs.customAmount.getInput().$data.lazyValue=e,this.updateForm({order:{price:e,customAmount:!0}})},setMinInput:function(e){this.$refs.customAmount.setMinInput(e)}}),mounted:function(){this.setMinInput(this.order.quantity*this.baseElementPrice)}},ye=ve,ge=(n("2409"),n("0798")),_e=n("ce7e"),$e=Object(f["a"])(ye,J,W,!1,null,"64d96640",null),Oe=$e.exports;b()($e,{VAlert:ge["a"],VDivider:_e["a"]});var xe={name:"adoption-step",components:{AdoptionCountBlock:Oe},mixins:[O],computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(u["c"])({order:"getOrder"})),Object(u["d"])({maxCount:function(e){return e.data.max}})),{},{options:function(){return{maxCount:this.maxCount,count:this.order.quantity}}})},je=xe,Se=Object(f["a"])(je,Y,H,!1,null,"f64ad492",null),ke=Se.exports,we=n("2ef0"),Ce={name:"coral-adoption-step",extends:ke,computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(u["d"])({interval:"interval"})),Object(u["c"])({donatorNature:"getDonatorNature"})),{},{localOptions:function(){var e=this.options;return e.item=this.translation.item,!Object(we["isEmpty"])(this.interval)&&this.order.quantity>=this.interval.min&&this.order.quantity<=this.interval.max&&(e.displayAlert=!0,e.message=this.$t("default.stepper.adoption.corals.hint.individual",{max:this.maxCount,item:this.plural.item}),this.$vuetify.goTo("#deduction",{container:"#CoralAdoptionStep"})),e}})},Fe=Ce,Te=(n("8f2c"),Object(f["a"])(Fe,U,G,!1,null,"7d7a7b2c",null)),Ae=Te.exports,De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex flex-column justify-space-around form-starter"},[n("transition",{attrs:{name:"fade"}},[e.showTooltip?n("v-alert",{staticClass:"tooltip white--text",attrs:{color:"#28335f"}},[e._v(e._s(e.tooltip)+" ")]):e._e()],1),n("choice-btn",{attrs:{text:e.$t("default.stepper.choice.buttons.me.text",e.singular),tooltip:e.$t("default.stepper.choice.buttons.me.tooltip",e.plural)},on:{openForm:function(t){return e.openForm({target:e.adoptionConstants.me,adoption:{type:"direct"}})},showTooltip:e.displayTooltip,hideTooltip:function(t){e.showTooltip=!1}}}),n("choice-btn",{attrs:{text:e.$t("default.stepper.choice.buttons.friend.text",e.singular),tooltip:e.$t("default.stepper.choice.buttons.friend.tooltip",e.plural)},on:{openForm:function(t){return e.openForm({target:e.adoptionConstants.friend,adoption:{type:"gift"}})},showTooltip:e.displayTooltip,hideTooltip:function(t){e.showTooltip=!1}}}),n("a",{staticClass:"black--text text-capitalize-first",attrs:{href:e.companyUrl}},[e._v(" "+e._s(e.$t("default.stepper.choice.buttons.company",e.singular))+" ")])],1)},Ee=[],Pe={computed:Object(r["a"])(Object(r["a"])({},Object(u["d"])({coralForm:"data"})),Object(u["c"])({step:"step"})),methods:Object(r["a"])({},Object(u["b"])({updateForm:"updateForm"}))},Ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex justify-space-between"},[n("v-btn",{staticClass:"black--text text-no-transform",attrs:{large:"",color:"secondary"},on:{click:e.openForm}},[e._v(" "+e._s(e.text)+" "),e.$vuetify.breakpoint.xs?e._e():n("tooltip",{on:{showTooltip:function(t){return e.$emit("showTooltip",e.tooltip)},hideTooltip:function(t){return e.$emit("hideTooltip")}}})],1),e.$vuetify.breakpoint.xs?n("tooltip",{staticClass:"ml-2",on:{showTooltip:function(t){return e.$emit("showTooltip",e.tooltip)},hideTooltip:function(t){return e.$emit("hideTooltip")}}}):e._e()],1)},Ne=[],Ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-icon",{on:{mouseenter:e.showTooltip,mouseleave:e.hideTooltip}},[e._v(" mdi-information-outline ")])},ze=[],qe={name:"tooltip",methods:{showTooltip:function(){this.$emit("showTooltip")},hideTooltip:function(){this.$emit("hideTooltip")}}},Le=qe,Me=Object(f["a"])(Le,Ie,ze,!1,null,"7e2273a6",null),Be=Me.exports;b()(Me,{VIcon:P["a"]});var Re={name:"ChoiceBtn",components:{Tooltip:Be},mixins:[O],props:{text:{type:String,required:!0},tooltip:{type:String,required:!0}},methods:{openForm:function(){this.$emit("openForm")}}},Ue=Re,Ge=(n("fd41"),Object(f["a"])(Ue,Ve,Ne,!1,null,"dc509dea",null)),Ye=Ge.exports;b()(Ge,{VBtn:v["a"]});var He={name:"choice-step",components:{ChoiceBtn:Ye},mixins:[Pe,R,O],data:function(){return{tooltip:"",showTooltip:!1}},computed:{companyUrl:function(){return window.location.origin+("fr"===this.$i18n.locale?"/adoption-entreprise":"/company")}},methods:{openForm:function(e){var t=this;this.updateForm(e).then((function(){t.updateForm({step:1})}))},displayTooltip:function(e){this.tooltip=e,this.showTooltip=!0}}},Je=He,We=(n("f65e"),Object(f["a"])(Je,De,Ee,!1,null,"64a9c8cb",null)),Ze=We.exports;b()(We,{VAlert:ge["a"]});var Ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",{domProps:{innerHTML:e._s(e.$tc("default.stepper.customization.description",e.order.quantity,e.translation))}}),n("v-form",{ref:e.formRefName,model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("div",{staticClass:"d-flex flex-wrap"},[e.order.quantity>=20?n("div",[n("br"),n("p",{staticClass:"font-weight-bold",domProps:{innerHTML:e._s(e.$t("default.stepper.customization.downloadCsv.label"))}}),n("br"),n("v-btn",{attrs:{primary:"",loading:e.loading,disabled:e.loading},on:{click:e.downloadExcelFile}},[e._v(" "+e._s(e.$t("default.stepper.customization.downloadCsv.btnLabel"))+" ")])],1):e._l(e.order.quantity,(function(t){return n("div",{key:t,class:e.order.quantity>1?"col-6":"col-12"},[n("text-input",{attrs:{rules:[e.rules.required,e.rules.minLength,e.rules.specialChar],label:e.$tc("default.stepper.customization.input.label",e.order.quantity,{number:t,item:e.translation.item}),placeholder:e.$t("default.stepper.customization.input.placeholder",e.singular)},model:{value:e.names[t-1],callback:function(n){e.$set(e.names,t-1,n)},expression:"names[n-1]"}})],1)}))],2)])],1)},Qe=[],Xe=(n("3ca3"),n("2b3d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.label?n("p",{staticClass:"text-left subtitles"},[e._v(" "+e._s(e.label)+" ")]):e._e(),n("v-text-field",{attrs:{dense:"",color:"tertiary",outlined:"",placeholder:e.placeholder,rules:e.rules,value:e.value},on:{input:function(t){return e.$emit("input",t)}}})],1)}),et=[],tt={name:"text-input",props:{value:null,label:{type:String},placeholder:{type:String,default:""},rules:{type:Array}}},nt=tt,ot=Object(f["a"])(nt,Xe,et,!1,null,"01598994",null),at=ot.exports;b()(ot,{VTextField:fe["a"]});n("b64b");var it=n("bc3a"),rt=n.n(it),st={computed:Object(r["a"])(Object(r["a"])({},Object(u["c"])({apiData:"getApiData",apiNameSpace:"getApiNamespace"})),{},{apiEventName:function(){return this.$options._componentTag+"Api"},baseUrl:function(){return"/wp-json/"+this.apiNameSpace+"/"}}),methods:{post:function(e,t,n){var o=this;return new Promise((function(a,i){var r=o.baseUrl+t;rt.a.post(r,e,n).then((function(e){a(e)})).catch((function(e){o.$root.$emit("IsLoaded"),o.$root.$emit("displayError"),i(e)}))}))},get:function(e){var t=this;return new Promise((function(n,o){var a=t.getGetUrl(e);rt.a.get(a).then((function(e){n(e)})).catch((function(e){o(e)}))}))},getByUrl:function(e){return new Promise((function(t,n){rt.a.get(e).then((function(e){t(e)})).catch((function(e){n(e)}))}))},getGetUrl:function(e){if(this.apiData){var t=this.baseUrl+this.apiData.endpoint;Object(we["isEmpty"])(e)||(t+="?");var n=0;return Object.keys(e).forEach((function(o){n>0&&(t+="&"),t+=o+"="+e[o],n++})),t}console.error("Pas de donn√©es API dans l'√©tape en cours.")},getGetUrlNoApiData:function(e,t){var n=this.baseUrl+t;Object(we["isEmpty"])(e)||(n+="?");var o=0;return Object.keys(e).forEach((function(t){o>0&&(n+="&"),n+=t+"="+e[t],o++})),n}}},lt={name:"customization-step",components:{TextInput:at},mixins:[O,ce,st],data:function(){return{names:[],namesFile:null,loading:!1,hasDownloaded:!1}},computed:Object(r["a"])({},Object(u["c"])({order:"getOrder",postAdoptionData:"getPostAdoptionsData",orderToken:"getOrderToken"})),methods:Object(r["a"])(Object(r["a"])({},Object(u["b"])({updateForm:"updateForm"})),{},{postNames:function(){var e=this;this.names.length===this.order.quantity?this.updateForm({adoption:{names:this.names}}).then((function(){e.post(e.postAdoptionData,e.apiData.endpoint).then((function(){e.$root.$emit("ApiValid")}))})):this.hasDownloaded?(this.updateForm({hasDownloaded:this.hasDownloaded}),this.$root.$emit("ApiValid")):(this.$root.$emit("displayError","download_file"),this.$root.$emit("IsLoaded"))},downloadExcelFile:function(){var e=this;this.loading=!0,this.get({responseType:"blob",params:{token:this.orderToken}},"excel_template").then((function(t){var n=URL.createObjectURL(new Blob([t.data],{type:"application/vnd.ms-excel"})),o=document.createElement("a");o.href=n,o.setAttribute("download","coralguardian-coral-sheet-name.xlsx"),document.body.appendChild(o),o.click(),e.hasDownloaded=!0})).catch((function(){e.$root.$emit("displayError")})).finally((function(){e.loading=!1}))}}),mounted:function(){this.$root.$on(this.apiEventName,this.postNames)},beforeDestroy:function(){this.$root.$off(this.apiEventName)}},ct=lt,dt=n("4bd4"),ut=Object(f["a"])(ct,Ke,Qe,!1,null,"1f90a6a3",null),pt=ut.exports;b()(ut,{VBtn:v["a"],VForm:dt["a"]});var mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v(e._s(e.$t("default.stepper.donation.description")))]),n("v-tabs",{attrs:{color:"tertiary",centered:"",grow:"",vertical:e.windowWidth<=450}},[n("v-tab",{staticClass:"text-no-transform",on:{click:function(t){return e.updateForm({donation:{type:e.donationEnum.oneshot}})}}},[e._v(" "+e._s(e.$t("default.stepper.donation.buttons.unique"))+" ")]),n("v-tab",{staticClass:"text-no-transform",on:{click:function(t){return e.updateForm({donation:{type:e.donationEnum.monthly}})}}},[e._v(" "+e._s(e.$t("default.stepper.donation.buttons.recurrent"))+" ")])],1),n("v-form",{ref:e.formRefName,model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("donation-block")],1)],1)},ft=[],ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex justify-center align-center",attrs:{id:"donationBlock"}},[n("div",[e.final?n("div",[n("p",{staticClass:"mt-5"},[e._v("* * * * * * *")]),n("p",{staticClass:"text-subtitle-1 font-weight-bold mt-4"},[e._v(" "+e._s(e.$t("default.donation.monthly.description"))+" ")])]):e._e(),n("div",[n("price-button",{attrs:{title:"5 ‚Ç¨"},on:{click:function(t){return e.updateCustomAmount(5)}}}),n("price-button",{attrs:{title:"10 ‚Ç¨"},on:{click:function(t){return e.updateCustomAmount(10)}}}),n("price-button",{attrs:{title:"20 ‚Ç¨"},on:{click:function(t){return e.updateCustomAmount(20)}}}),n("price-button",{attrs:{title:"50 ‚Ç¨"},on:{click:function(t){return e.updateCustomAmount(50)}}})],1),n("custom-amount",{ref:"customAmount",attrs:{value:e.donation.price,hint:!1},on:{input:function(t){return e.updateForm({donation:{price:t}})}}}),n("deduction",{attrs:{donation:e.donation.price}})],1)])},bt=[],vt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{staticClass:"tertiary--text",attrs:{depressed:"",color:"primary"},on:{click:function(t){return e.$emit("click")}}},[e._v(" "+e._s(e.title)+" ")])},yt=[],gt={name:"price-button",props:{title:{type:String,required:!0}}},_t=gt,$t=(n("db3b"),Object(f["a"])(_t,vt,yt,!1,null,"4b7015a0",null)),Ot=$t.exports;b()($t,{VBtn:v["a"]});var xt={name:"donation-block",components:{Deduction:te,CustomAmount:be,PriceButton:Ot},mixins:[ce],props:{final:{type:Boolean,default:!1}},computed:Object(r["a"])({},Object(u["c"])({currentStep:"getCurrentStep",donation:"getDonation"})),methods:Object(r["a"])(Object(r["a"])({},Object(u["b"])({updateForm:"updateForm"})),{},{updateCustomAmount:function(e){this.updateForm({donation:{price:e}}),this.$vuetify.goTo("#deduction",{container:"#"+this.currentStep.component})}}),mounted:function(){this.$refs.customAmount.setMinInput(0)}},jt=xt,St=Object(f["a"])(jt,ht,bt,!1,null,"48f46bb9",null),kt=St.exports,wt={name:"donation-step",components:{DonationBlock:kt},mixins:[O,ce],data:function(){return{windowWidth:null}},computed:Object(r["a"])({},Object(u["c"])({donation:"getDonation",donationEnum:"getDonationEnum"})),methods:Object(r["a"])({},Object(u["b"])({updateForm:"updateForm"})),mounted:function(){this.windowWidth=window.innerWidth}},Ct=wt,Ft=(n("99cc"),n("71a3")),Tt=n("fe57"),At=Object(f["a"])(Ct,mt,ft,!1,null,"003250ab",null),Dt=At.exports;b()(At,{VForm:dt["a"],VTab:Ft["a"],VTabs:Tt["a"]});var Et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-form",{ref:e.formRefName,model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("div",{staticClass:"double-input-container"},[n("div",{staticClass:"double-input-item"},[n("text-input",{attrs:{placeholder:e.$t("default.stepper.friend.form.firstname"),rules:[e.rules.required,e.rules.specialChar]},model:{value:e.friend.first_name,callback:function(t){e.$set(e.friend,"first_name",t)},expression:"friend.first_name"}})],1),n("div",{staticClass:"double-input-item"},[n("text-input",{attrs:{placeholder:e.$t("default.stepper.friend.form.name"),rules:[e.rules.required,e.rules.specialChar]},model:{value:e.friend.last_name,callback:function(t){e.$set(e.friend,"last_name",t)},expression:"friend.last_name"}})],1)]),n("text-input",{attrs:{placeholder:e.$t("default.stepper.friend.form.mail"),rules:[e.rules.required,e.rules.email]},model:{value:e.friend.email,callback:function(t){e.$set(e.friend,"email",t)},expression:"friend.email"}}),n("v-textarea",{attrs:{rows:"3","no-resize":"",color:"tertiary",outlined:"",placeholder:e.$t("default.stepper.friend.form.message"),rules:[e.rules.required],maxlength:"490",counter:""},model:{value:e.friend.message,callback:function(t){e.$set(e.friend,"message",t)},expression:"friend.message"}})],1)],1)},Pt=[],Vt={name:"friend-information-step",components:{TextInput:at},mixins:[ce],data:function(){return{message:""}},computed:Object(r["a"])({},Object(u["c"])({friend:"getFriend"})),mounted:function(){var e=this;this.$root.$on(this.validationEventName,(function(){e.updateForm({order:{type:"gift"}})}))},methods:Object(r["a"])({},Object(u["b"])({updateForm:"updateForm"}))},Nt=Vt,It=n("a844"),zt=Object(f["a"])(Nt,Et,Pt,!1,null,"f5459ab6",null),qt=zt.exports;b()(zt,{VForm:dt["a"],VTextarea:It["a"]});var Lt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"gift-step"}},[n("p",{staticClass:"mb-10",domProps:{innerHTML:e._s(e.$t("default.stepper.gift.description"))}}),n("v-form",{ref:e.formRefName,model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("text-input",{attrs:{rules:[e.rules.required],label:e.$t("default.stepper.gift.input.label"),placeholder:e.$t("default.stepper.gift.input.placeholder")},model:{value:e.order.giftCode,callback:function(t){e.$set(e.order,"giftCode",t)},expression:"order.giftCode"}})],1)],1)},Mt=[],Bt={name:"gift-step",components:{TextInput:at},mixins:[ce,st],data:function(){return{}},computed:Object(r["a"])({},Object(u["c"])({order:"getOrder"})),methods:Object(r["a"])(Object(r["a"])({},Object(u["b"])({updateForm:"updateForm"})),{},{checkOrderToken:function(){var e=this;this[this.apiData.method]({gift_code:this.order.giftCode},this.apiData.endpoint).then((function(t){var n=t.data.type.split("."),o={order:{uuid:t.data.uuid,productType:n[0],quantity:t.data.quantity},adopter:{send_to_friend:t.data.sendToFriend}};void 0!==n[1]&&(o.order.specificType=n[1]),e.updateForm(o).then((function(){return e.$root.$emit("ApiValid")})),e.$root.$emit("IsLoaded")})).catch((function(t){e.$root.$emit("displayError",t.response.data),e.$root.$emit("IsLoaded")}))}}),mounted:function(){this.$root.$on(this.apiEventName,this.checkOrderToken)},beforeDestroy:function(){this.$root.$off(this.apiEventName)}},Rt=Bt,Ut=(n("9ecc"),Object(f["a"])(Rt,Lt,Mt,!1,null,"008e69c1",null)),Gt=Ut.exports;b()(Ut,{VForm:dt["a"]});var Yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v(e._s(e.$t("default.stepper.information.description")))]),n("v-form",{ref:e.formRefName,model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("p",{staticClass:"subtitles poppins-police"},[e._v(" "+e._s(e.$t("default.stepper.information.cols.information.title"))+" ")]),e.isCompany?n("text-input",{attrs:{placeholder:e.$t("default.stepper.information."+e.informationSubstring+"cols.information.companyName"),rules:[e.rules.required,e.rules.minLength]},model:{value:e.adopter.company_name,callback:function(t){e.$set(e.adopter,"company_name",t)},expression:"adopter.company_name"}}):e._e(),n("text-input",{attrs:{placeholder:e.$t("default.stepper.information."+e.informationSubstring+"cols.information.firstname"),rules:[e.rules.required,e.rules.minLength,e.rules.specialChar]},model:{value:e.adopter.first_name,callback:function(t){e.$set(e.adopter,"first_name",t)},expression:"adopter.first_name"}}),n("text-input",{attrs:{placeholder:e.$t("default.stepper.information."+e.informationSubstring+"cols.information.name"),rules:[e.rules.required,e.rules.minLength,e.rules.specialChar]},model:{value:e.adopter.last_name,callback:function(t){e.$set(e.adopter,"last_name",t)},expression:"adopter.last_name"}}),n("text-input",{attrs:{placeholder:e.$t("default.stepper.information."+e.informationSubstring+"cols.information.mail"),rules:[e.rules.required,e.rules.email]},model:{value:e.adopter.email,callback:function(t){e.$set(e.adopter,"email",t)},expression:"adopter.email"}})],1),n("div",{staticClass:"col-6"},[n("p",{staticClass:"subtitles poppins-police"},[e._v(" "+e._s(e.$t("default.stepper.information.cols.contact.title"))+" ")]),n("text-input",{attrs:{placeholder:e.$t("default.stepper.information."+e.informationSubstring+"cols.contact.address"),rules:[e.rules.required]},model:{value:e.adopter.address,callback:function(t){e.$set(e.adopter,"address",t)},expression:"adopter.address"}}),e.isCompany?e._e():n("div",{staticClass:"double-input-container"},[n("div",{staticClass:"double-input-item"},[n("text-input",{attrs:{placeholder:e.$t("default.stepper.information.cols.contact.postalCode"),rules:[e.rules.required]},model:{value:e.adopter.postal_code,callback:function(t){e.$set(e.adopter,"postal_code",t)},expression:"adopter.postal_code"}})],1),n("div",{staticClass:"double-input-item"},[n("text-input",{attrs:{placeholder:e.$t("default.stepper.information.cols.contact.city"),rules:[e.rules.required]},model:{value:e.adopter.city,callback:function(t){e.$set(e.adopter,"city",t)},expression:"adopter.city"}})],1)]),e.isCompany?n("text-input",{attrs:{placeholder:e.$t("default.stepper.information.cols.contact.postalCode"),rules:[e.rules.required]},model:{value:e.adopter.postal_code,callback:function(t){e.$set(e.adopter,"postal_code",t)},expression:"adopter.postal_code"}}):e._e(),e.isCompany?n("text-input",{attrs:{placeholder:e.$t("default.stepper.information.cols.contact.city"),rules:[e.rules.required]},model:{value:e.adopter.city,callback:function(t){e.$set(e.adopter,"city",t)},expression:"adopter.city"}}):e._e(),n("text-input",{attrs:{id:"country-input",placeholder:e.$t("default.stepper.information.cols.contact.country"),rules:[e.rules.required,e.rules.minLength]},model:{value:e.adopter.country,callback:function(t){e.$set(e.adopter,"country",t)},expression:"adopter.country"}})],1),e.isGiftCustom?n("div",{staticClass:"col-12"},[n("gift-custom-block")],1):e._e(),n("div",{staticClass:"col-12"},[n("newsletter-block",{attrs:{full:e.newsletterFullBlock},model:{value:e.adopter.wants_newsletter,callback:function(t){e.$set(e.adopter,"wants_newsletter",t)},expression:"adopter.wants_newsletter"}})],1)])])],1)},Ht=[],Jt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-left"},[n("p",{staticClass:"subtitles poppins-police"},[e._v(" "+e._s(e.$t("default.newsletter.title"))+" ")]),n("p",[e._v(" "+e._s(e.$t("default.newsletter.description"))+" ")]),n("v-checkbox",{staticClass:"mt-0",attrs:{color:"tertiary","input-value":e.value},on:{change:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"label",fn:function(){return[n("p",{staticClass:"black--text"},[e._v(e._s(e.$t("default.newsletter.label")))])]},proxy:!0}])}),e.full&&e.value?n("div",[n("p",{staticClass:"mb-2",domProps:{innerHTML:e._s(e.$t("default.newsletter.otherEmail.description"))}}),n("text-input",{attrs:{placeholder:e.$t("default.newsletter.otherEmail.email")},model:{value:e.adopter.alternate_newsletter_email,callback:function(t){e.$set(e.adopter,"alternate_newsletter_email",t)},expression:"adopter.alternate_newsletter_email"}})],1):e._e()],1)},Wt=[],Zt={name:"newsletter-block",components:{TextInput:at},props:{value:null,full:{type:Boolean,default:!1}},computed:Object(r["a"])({},Object(u["c"])({adopter:"getAdopter"}))},Kt=Zt,Qt=n("ac7c"),Xt=Object(f["a"])(Kt,Jt,Wt,!1,null,"4887193a",null),en=Xt.exports;b()(Xt,{VCheckbox:Qt["a"]});var tn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-left"},[n("p",{staticClass:"subtitles poppins-police"},[e._v(" "+e._s(e.$t("default.giftCustom.title"))+" ")]),n("v-radio-group",{attrs:{rules:[e.rules.notNull]},model:{value:e.adopter.send_to_friend,callback:function(t){e.$set(e.adopter,"send_to_friend",t)},expression:"adopter.send_to_friend"}},[n("v-radio",{attrs:{color:"tertiary",value:!1},scopedSlots:e._u([{key:"label",fn:function(){return[n("p",[e._v(e._s(e.$t("default.giftCustom.radios.dont")))])]},proxy:!0}])}),n("v-radio",{attrs:{color:"tertiary",value:!0},scopedSlots:e._u([{key:"label",fn:function(){return[n("p",[e._v(e._s(e.$t("default.giftCustom.radios.send")))])]},proxy:!0}])})],1)],1)},nn=[],on={name:"gift-custom-block",mixins:[ce],components:{},props:{value:null,full:{type:Boolean,default:!1}},computed:Object(r["a"])({},Object(u["c"])({adopter:"getAdopter"}))},an=on,rn=n("67b6"),sn=n("43a66"),ln=Object(f["a"])(an,tn,nn,!1,null,"1edd5eb3",null),cn=ln.exports;b()(ln,{VRadio:rn["a"],VRadioGroup:sn["a"]});var dn={name:"information-step",components:{TextInput:at,NewsletterBlock:en,GiftCustomBlock:cn},mixins:[ce,st],props:{newsletterFullBlock:{type:Boolean,default:!1},isCompany:{type:Boolean,default:!1},isGiftCustom:{type:Boolean,default:!1}},data:function(){return{}},computed:Object(r["a"])(Object(r["a"])({},Object(u["c"])({adopter:"getAdopter",customerModel:"getCustomerModel"})),{},{informationSubstring:function(){return this.newsletterFullBlock?"company.":""}}),methods:Object(r["a"])({},Object(u["b"])({updateForm:"updateForm"})),mounted:function(){var e=this;this.$root.$on(this.validationEventName,(function(){e.updateForm({adopter:e.adopter})})),this.$root.$on(this.apiEventName,(function(){e.post(e.customerModel,e.apiData.endpoint).then((function(t){e.updateForm({adopter:{id:t.data.uuid}}).then((function(){return e.$root.$emit("ApiValid")}))}))})),this.$root.$on(this.validationErrorEventName,(function(){e.$vuetify.goTo("#country-input",{container:"#InformationStep"})}))},beforeDestroy:function(){this.$root.$off(this.validationEventName),this.$root.$off(this.apiEventName),this.$root.$off(this.validationErrorEventName)}},un=dn,pn=Object(f["a"])(un,Yt,Ht,!1,null,"ebf39216",null),mn=pn.exports;b()(pn,{VForm:dt["a"]});var fn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.cardDisplay?n("div",[n("p",[e._v(e._s(e.$t("default.stepper.payment.description")))]),n("stripe-card-data",{ref:"cardData",attrs:{mode:e.mode}})],1):""!==e.message.text?n("v-alert",{class:e.message.class,attrs:{dense:"",text:"",type:e.message.type}},[e._v(" "+e._s(e.$t("default."+e.message.text))+" ")]):e._e(),e.displayPaymentMethod?n("payment-method-block",{ref:"paymentMethod",attrs:{mode:e.mode}}):e._e(),n("div",{staticClass:"text-left"},[n("p",{staticClass:"mt-4 mb-4 text-h6 font-weight-bold poppins-police"},[e._v(" "+e._s(e.$t("default.stepper.payment.reminder.title"))+" ")]),n("v-card",{attrs:{outlined:""}},[n("div",[n("span",{staticClass:"text-body-1"},[e._v(e._s(e.paymentDescription))])]),n("div",{staticClass:"paymentDetail text-body-1"},[e._v(" "+e._s(e.paymentReminder)+" ")])])],1)],1)},hn=[],bn=(n("96cf"),n("1da1")),vn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex flex-column mt-5"},[n("v-skeleton-loader",{directives:[{name:"show",rawName:"v-show",value:!e.isFormLoaded,expression:"!isFormLoaded"}],attrs:{type:"article"}}),n("form",{directives:[{name:"show",rawName:"v-show",value:e.isFormLoaded,expression:"isFormLoaded"}],staticClass:"d-flex flex-column",attrs:{id:"payment-form"}},[n("div",{ref:"paymentElement",staticClass:"m-2"}),n("div",{staticClass:"hidden",attrs:{id:"payment-message"}}),n("span",{staticClass:"error-message red--text mt-3"},[e._v(e._s(e.errorMessage))])])],1)},yn=[],gn=(n("25f0"),n("841c"),{data:function(){return{spk:"pk_test_rbBgcSSVkOOmFfH9HpA7vFls",stripe:null}},computed:Object(r["a"])({},Object(u["c"])({order:"getOrder"})),methods:{createStripe:function(){this.stripe=Stripe(this.spk)},cleanLocalStorage:function(){var e=new URLSearchParams(window.location.search);e.delete("payment_intent"),e.delete("redirect_status"),e.delete("payment_intent_client_secret"),window.history.replaceState({},document.title,window.location.pathname+e.toString()),this.order.clientSecret&&localStorage.removeItem(this.order.clientSecret)},checkPaymentStepForBasicForms:function(){var e=new URLSearchParams(window.location.search).get("payment_intent_client_secret");if(e){var t=localStorage.getItem(e);t?this.$store.dispatch("redirectToPaymentStep",t):this.cleanLocalStorage()}}}}),_n={name:"stripe-card-data",mixins:[st,gn],props:{mode:{type:String,default:"adoption"}},data:function(){return{paymentElement:void 0,elements:null,isFormLoaded:!1,isCompleted:!1,errorMessage:""}},computed:Object(r["a"])(Object(r["a"])({},Object(u["c"])({postPaymentData:"getPostPaymentDataAdoption",donation:"getDonation",order:"getOrder"})),{},{element:function(){return"adoption"===this.mode?this.order:this.donation}}),methods:Object(r["a"])(Object(r["a"])({},Object(u["b"])({updateForm:"updateForm"})),{},{createPaymentIntent:function(){var e=this;return new Promise((function(t,n){var o;o="adoption"===e.mode?e.postPaymentData:e.$store.getters.getPostPaymentDataDonation,e[e.apiData.method](o,e.apiData.endpoint).then((function(n){var o="adoption"===e.mode?{order:n.data}:{donation:n.data};e.updateForm(o).then((function(){t()}))})).catch((function(){e.errorMessage=e.$t("default.stripe.payment.error"),n()}))}))},purchase:function(){var e=this;return Object(bn["a"])(regeneratorRuntime.mark((function t(){var n,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.storePaymentData(),n=e.elements,t.next=4,e.stripe.confirmPayment({elements:n,confirmParams:{return_url:window.location.href}});case 4:o=t.sent,a=o.error,e.cleanLocalStorage(),e.errorMessage=a.message,e.$root.$emit("IsLoaded");case 9:case"end":return t.stop()}}),t)})))()},storePaymentData:function(){localStorage.setItem(this.element.clientSecret,JSON.stringify(this.$store.state.data))},checkCompletion:function(e){this.errorMessage="",e.complete?this.isCompleted=!0:e.error&&(this.errorMessage=e.error.message)},handleStripe:function(){var e=this;this.createStripe();var t=this.element.clientSecret;this.elements=this.stripe.elements({clientSecret:t}),this.paymentElement=this.elements.create("payment"),this.paymentElement.mount(this.$refs.paymentElement),this.paymentElement.on("change",(function(t){return e.checkCompletion(t)})),this.isFormLoaded=!0},validateCard:function(){this.isCompleted?this.$root.$emit("StepValid"):(this.$root.$emit("IsLoaded"),this.errorMessage=this.$t("default.stepper.payment.errors.card"))}}),mounted:function(){var e=this;this.createPaymentIntent().then((function(){return e.handleStripe()}))}},$n=_n,On=(n("16ee"),n("3129")),xn=Object(f["a"])($n,vn,yn,!1,null,"75aa8ca1",null),jn=xn.exports;b()(xn,{VSkeletonLoader:On["a"]});var Sn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-tabs",{staticClass:"black--text",attrs:{"fixed-tabs":"","background-color":"primary","active-class":"tertiary-tab-active"},model:{value:e.paymentTab,callback:function(t){e.paymentTab=t},expression:"paymentTab"}},[n("v-tab",{on:{change:function(t){e.updateForm(e.getData("credit_card"))}}},[e._v(" "+e._s(e.$t("default.stepper.payment.methods.card.tab"))+" ")]),n("v-tab",{on:{change:function(t){e.updateForm(e.getData("bank_transfert"))}}},[e._v(" "+e._s(e.$t("default.stepper.payment.methods.bank.tab"))+" ")])],1),n("v-tabs-items",{model:{value:e.paymentTab,callback:function(t){e.paymentTab=t},expression:"paymentTab"}},[n("v-tab-item",[e.cardDisplay?n("stripe-card-data",{ref:"cardData",attrs:{mode:e.mode}}):n("v-btn",{staticClass:"black--text mt-5",attrs:{color:"secondary"},on:{click:function(t){e.cardDisplay=!0}}},[e._v(" "+e._s(e.$t("default.stepper.payment.methods.card.button"))+" ")])],1),n("v-tab-item",[n("bank-transfer-block")],1)],1)],1)},kn=[],wn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-left"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("p",[e._v(e._s(e.$t("default.stepper.payment.methods.bank.description")))])]),n("div",{staticClass:"col-12"},[n("v-btn",{attrs:{color:"secondary",href:e.ribUrl,target:"_blank"}},[e._v(" "+e._s(e.$t("default.stepper.payment.methods.bank.button"))+" ")])],1),n("div",{staticClass:"col-12"},[n("p",{staticClass:"font-weight-bold",domProps:{innerHTML:e._s(e.$t("default.stepper.payment.methods.bank.hint"))}})])])])},Cn=[],Fn={name:"bank-transfer-block",computed:{ribUrl:function(){return window.location.origin+"/app/uploads/RIB.png"}}},Tn=Fn,An=Object(f["a"])(Tn,wn,Cn,!1,null,"962fc3c6",null),Dn=An.exports;b()(An,{VBtn:v["a"]});var En={name:"payment-method-block",components:{StripeCardData:jn,BankTransferBlock:Dn},data:function(){return{paymentTab:null,cardDisplay:!1}},props:{mode:{type:String,default:"adoption"}},methods:Object(r["a"])(Object(r["a"])({},Object(u["b"])({updateForm:"updateForm"})),{},{getData:function(e){return"adoption"===this.mode?{order:{payment_method:{type:e}}}:{donation:{payment_method:{type:e}}}}})},Pn=En,Vn=n("c671"),Nn=n("aac8"),In=Object(f["a"])(Pn,Sn,kn,!1,null,"4cd32e89",null),zn=In.exports;b()(In,{VBtn:v["a"],VTab:Ft["a"],VTabItem:Vn["a"],VTabs:Tt["a"],VTabsItems:Nn["a"]});var qn=n("d4ec"),Ln=n("bee2"),Mn=n("ade3"),Bn=function(){function e(){Object(qn["a"])(this,e),Object(Mn["a"])(this,"coralTag","AW-962379492/tJtfCI3JwJoCEOT98soD"),Object(Mn["a"])(this,"reefTag","AW-962379492/kg71COCr2IwCEOT98soD"),Object(Mn["a"])(this,"donationTag","AW-962379492/RODNCK7buZoCEOT98soD")}return Object(Ln["a"])(e,[{key:"executeTag",value:function(e,t){var n;return n="adoption"!==t?this.donationTag:"coral"===e.productType?this.coralTag:this.reefTag,gtag("event","conversion",{send_to:n,transaction_id:"",event_callback:this.reportConversion}),!1}},{key:"reportConversion",value:function(e){return function(){"undefined"!=typeof e&&(window.location=e)}}}]),e}(),Rn={name:"payment-step",components:{StripeCardData:jn,PaymentMethodBlock:zn},mixins:[O,ce,gn,st],props:{mode:{type:String,default:"adoption"},bankTransfer:{type:Boolean,default:!1}},data:function(){return{displayPaymentMethod:!1,cardDisplay:!1,message:{text:"",type:"success",class:"green--text"}}},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(u["c"])({order:"getOrder",donation:"getDonation",formType:"getFormType",donationEnum:"getDonationEnum"})),Object(u["d"])({baseElementPrice:function(e){return e.data.baseElementPrice}})),{},{element:function(){return"adoption"===this.mode?this.order:this.donation},paymentReminder:function(){var e="";return e="adoption"===this.mode?this.order.customAmount?this.$t("default.stepper.adoption.customAmount.label")+" "+this.order.price:this.order.quantity+" * "+this.baseElementPrice+" = "+this.order.price:this.$t("default.stepper.adoption.customAmount.label")+" "+this.donation.price,e+" ‚Ç¨"},paymentDescription:function(){var e="";return e="adoption"===this.mode?this.$tc("default.stepper.payment.reminder.adoption.description",this.order.quantity,{count:this.order.quantity,item:this.specificTranslation?this.specific.item:this.translation.item}):this.$t("default.stepper.payment.reminder.donation.description",{item:this.$t("default."+this.donation.type)}),e}}),methods:Object(r["a"])(Object(r["a"])({},Object(u["b"])({updateForm:"updateForm",loadPaymentNextSteps:"loadPaymentNextSteps",loadForm:"loadForm"})),{},{displayCard:function(){if("pending"===this.element.status)return this.checkPaymentStatus();this.cardDisplay=!0},checkPaymentStatus:function(){var e=this;return Object(bn["a"])(regeneratorRuntime.mark((function t(){var n,o,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.createStripe(),n=e.element.clientSecret,t.next=4,e.stripe.retrievePaymentIntent(n);case 4:o=t.sent,a=o.paymentIntent,i=!1,t.t0=a.status,t.next="succeeded"===t.t0?10:"processing"===t.t0?16:"requires_payment_method"===t.t0?18:21;break;case 10:return e.message={text:"stripe.payment.success",type:"success",class:"green--text"},e.$root.$emit("hidePreviousButton"),e.updateElementStatus("success"),e.$root.$off(e.customValidationEventName),e.$root.$on(e.customValidationEventName,(function(){e.element.type!==e.donationEnum.monthly&&"advanced"===e.formType?e.loadPaymentNextSteps().then((function(){return e.$root.$emit("ApiValid")})):e.$root.$emit("ApiValid")})),t.abrupt("break",23);case 16:return e.message={text:"stripe.payment.processing",type:"warning",class:"orange--text"},t.abrupt("break",23);case 18:return e.message={text:"stripe.payment.refused",type:"error",class:"red--text"},i=!0,t.abrupt("break",23);case 21:e.message={text:"stripe.payment.error",type:"error",class:"red--text"},i=!0;case 23:return i&&e.$root.$on(e.customValidationEventName,(function(){e.$root.$emit(e.validationErrorEventName),e.$root.$emit("IsLoaded")})),t.abrupt("return",i);case 25:case"end":return t.stop()}}),t)})))()},validation:function(){this.message={text:""},"bank_transfert"===this.element.payment_method.type?this.$root.$emit("StepValid"):this.displayPaymentMethod?this.$refs.paymentMethod.cardDisplay?this.$refs.paymentMethod.$refs.cardData.validateCard():(this.$root.$emit("IsLoaded"),this.message={text:"stepper.payment.errors.card",type:"error",class:"red--text"}):this.cardDisplay?this.$refs.cardData.validateCard():(this.$root.$emit("IsLoaded"),this.message={text:"stepper.payment.errors.card",type:"error",class:"red--text"})},purchase:function(){var e,t=this;(this.updateElementStatus("pending"),"bank_transfert"===this.element.payment_method.type)?(e="adoption"===this.mode?this.$store.getters.getPostPaymentDataAdoption:this.$store.getters.getPostPaymentDataDonation,this[this.apiData.method](e,this.apiData.endpoint).then((function(e){console.log(e);var n="adoption"===t.mode?{order:e.data}:{donation:e.data};t.updateForm(n).then((function(){t.loadPaymentNextSteps().then((function(){return t.$root.$emit("ApiValid")}))}))})).catch((function(){console.log("erreur")}))):this.displayPaymentMethod?this.$refs.paymentMethod.$refs.cardData.purchase():this.$refs.cardData.purchase()},updateElementStatus:function(e){var t="adoption"===this.mode?{order:{status:e}}:{donation:{status:e}};this.updateForm(t)}}),mounted:function(){(new Bn).executeTag(this.element,this.mode),this.bankTransfer&&!this.element.clientSecret&&this.element.type!==this.donationEnum.monthly?this.displayPaymentMethod=!0:this.displayCard(),this.$root.$on(this.customValidationEventName,this.validation),this.$root.$on(this.apiEventName,this.purchase)},beforeDestroy:function(){this.$root.$off(this.customValidationEventName),this.$root.$off(this.apiEventName)}},Un=Rn,Gn=(n("978b"),Object(f["a"])(Un,fn,hn,!1,null,"a8976094",null)),Yn=Gn.exports;b()(Gn,{VAlert:ge["a"],VCard:S["a"]});var Hn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"reef-adoption-step"}},[n("v-tabs",{attrs:{grow:"","hide-slider":"",centered:"","center-active":"",color:"tertiary","active-class":"tab-active"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",{on:{click:function(t){return e.updateForm(e.reefs.lady)}}},[e._v(e._s(e.$t("default.stepper.adoption.reefs.lady.title")))]),n("v-tab",{on:{click:function(t){return e.updateForm(e.reefs.butterfly)}}},[e._v(e._s(e.$t("default.stepper.adoption.reefs.butterfly.title")))]),n("v-tab",{on:{click:function(t){return e.updateForm(e.reefs.napoleon)}}},[e._v(e._s(e.$t("default.stepper.adoption.reefs.napoleon.title")))])],1),n("v-tabs-items",{staticClass:"text-body-2",model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{domProps:{innerHTML:e._s(e.$t("default.stepper.adoption.reefs.lady.description"))}}),n("v-tab-item",{domProps:{innerHTML:e._s(e.$t("default.stepper.adoption.reefs.butterfly.description"))}}),n("v-tab-item",{domProps:{innerHTML:e._s(e.$t("default.stepper.adoption.reefs.napoleon.description"))}})],1),n("adoption-count-block",{attrs:{options:e.localOptions}})],1)},Jn=[],Wn={name:"reef-adoption-step",extends:ke,mixins:[R],data:function(){return{tab:0}},computed:{localOptions:function(){var e=this.options;return e.item=this.translation.item,this.count===this.maxCount&&(e.displayAlert=!0,e.message=this.$t("default.stepper.adoption.reefs.max",{max:this.maxCount,item:this.plural.item}),this.$vuetify.goTo("#deduction",{container:"#ReefAdoptionStep"})),e}},methods:{updateForm:function(e){var t=Object(r["a"])(Object(r["a"])({},e),{},{order:{price:this.order.quantity*e.baseElementPrice}});this.$store.dispatch("updateForm",t)}}},Zn=Wn,Kn=(n("6363"),Object(f["a"])(Zn,Hn,Jn,!1,null,"53890516",null)),Qn=Kn.exports;b()(Kn,{VTab:Ft["a"],VTabItem:Vn["a"],VTabs:Tt["a"],VTabsItems:Nn["a"]});var Xn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["file"===e.adoption.type?n("p",{domProps:{innerHTML:e._s(e.$tc("default.stepper.finalAdoption.description_file",e.order.quantity,e.translation))}}):e.hasDownloaded?n("p",{domProps:{innerHTML:e._s(e.$tc("default.stepper.finalAdoption.description_no_certif",e.order.quantity))}}):n("div",[n("p",[e._v(e._s(e.$tc("default.stepper.certificate.adoption.email",e.order.quantity)))]),e.order.quantity<=3?n("p",{domProps:{innerHTML:e._s(e.$tc("default.stepper.finalAdoption.description",e.order.quantity,{link:this.getGetUrl({order_uuid:e.order.uuid})}))}}):e._e()]),n("social-share-block"),n("v-form",{ref:e.formRefName,model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("donation-block",{attrs:{final:""}})],1)],1)},eo=[],to={computed:Object(r["a"])({},Object(u["c"])({order:"getOrder"}))},no=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex justify-space-around my-5",attrs:{id:"social-share"}},[n("a",{staticClass:"facebook",attrs:{target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u="+e.sharingUrl}},[n("img",{attrs:{src:e.path+"/img/social/facebook.png",alt:""}}),n("span",[e._v("Partager")])]),n("a",{staticClass:"linkedin",attrs:{target:"_blank",href:"https://www.linkedin.com/sharing/share-offsite/?url="+e.sharingUrl}},[n("img",{attrs:{src:e.path+"/img/social/linkedin.png",alt:""}}),n("span",[e._v("Partager")])])])},oo=[],ao={name:"social-share-block",computed:Object(r["a"])(Object(r["a"])({},Object(u["c"])({path:"getImgPath"})),{},{sharingUrl:function(){return window.location.origin+"/adopte-corail/"}})},io=ao,ro=(n("43a6"),Object(f["a"])(io,no,oo,!1,null,"3d399aac",null)),so=ro.exports,lo={name:"final-adoption-step",components:{DonationBlock:kt,SocialShareBlock:so},mixins:[st,to,ce,O,gn],computed:Object(r["a"])({},Object(u["c"])({hasDownloaded:"hasDownloaded",adoption:"getAdoption"})),mounted:function(){var e=this;this.cleanLocalStorage(),this.$root.$on(this.apiEventName,(function(){return e.$root.$emit("ApiValid")}))},beforeDestroy:function(){this.$root.$off(this.apiEventName)}},co=lo,uo=Object(f["a"])(co,Xn,eo,!1,null,"368279d6",null),po=uo.exports;b()(uo,{VForm:dt["a"]});var mo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",{domProps:{innerHTML:e._s(e.$t("default.stepper.finalFriendAdoption.description",{orderToken:e.order.giftCode}))}}),n("social-share-block"),n("v-form",{ref:e.formRefName,model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("donation-block",{attrs:{final:""}})],1)],1)},fo=[],ho={name:"final-friend-adoption-step",components:{DonationBlock:kt,SocialShareBlock:so},mixins:[to,gn,ce],mounted:function(){this.cleanLocalStorage()}},bo=ho,vo=Object(f["a"])(bo,mo,fo,!1,null,"eaa9e166",null),yo=vo.exports;b()(vo,{VForm:dt["a"]});var go=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.adopter.send_to_friend?n("p",[e._v(e._s(e.$tc("default.stepper.certificate.gift.email",e.order.quantity)))]):e._e(),n("p",{domProps:{innerHTML:e._s(e.description)}}),n("v-form",{ref:e.formRefName,model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("donation-block",{attrs:{final:""}})],1)],1)},_o=[],$o={name:"final-friend-gift-adoption-step",mixins:[st,to,ce,gn],components:{DonationBlock:kt},computed:Object(r["a"])(Object(r["a"])({},Object(u["c"])({adopter:"getAdopter"})),{},{description:function(){return this.adopter.send_to_friend?this.$tc("default.stepper.finalFriendGift.description",this.order.quantity,{link:this.getGetUrl({gift_code:this.order.giftCode})}):this.$tc("default.stepper.finalFriendGift.descriptionNoEmail",null,{link:this.getGetUrl({gift_code:this.order.giftCode})})}}),mounted:function(){this.cleanLocalStorage()}},Oo=$o,xo=Object(f["a"])(Oo,go,_o,!1,null,"0f6ca1f6",null),jo=xo.exports;b()(xo,{VForm:dt["a"]});var So=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.donation.type===e.donationEnum.oneshot&&"credit_card"===e.donation.payment_method.type?n("p",{domProps:{innerHTML:e._s(e.$t("default.stepper.finalDonation.description"))}}):e.donation.type===e.donationEnum.monthly?n("p",{domProps:{innerHTML:e._s(e.$t("default.stepper.finalRecurrentDonation.description"))}}):"bank_transfert"===e.donation.payment_method.type?n("p",[e._v(" "+e._s(e.$t("default.stepper.finalDonation.bankTransfer"))+" ")]):e._e()])},ko=[],wo={name:"final-donation-step",mixins:[st,to,gn],computed:Object(r["a"])({},Object(u["c"])({donation:"getDonation",donationEnum:"getDonationEnum"})),mounted:function(){this.cleanLocalStorage()}},Co=wo,Fo=Object(f["a"])(Co,So,ko,!1,null,"1d0700e9",null),To=Fo.exports,Ao={CoralAdoptionStep:Ae,ChoiceStep:Ze,CustomizationStep:pt,DonationStep:Dt,FriendStep:qt,GiftStep:Gt,InformationStep:mn,PaymentStep:Yn,ReefAdoptionStep:Qn,FinalAdoptionStep:po,FinalFriendAdoptionStep:yo,FinalFriendGiftAdoptionStep:jo,FinalDonationStep:To},Do={name:"base-form",components:Object(r["a"])({FormFooter:g,Step:w,Incrementor:L},Ao),mixins:[R,O],props:{tabs:{type:Array,required:!0,validator:function(e){return Array.isArray(e)&&e.every((function(e){return e instanceof Object&&e.hasOwnProperty("visible")&&e.hasOwnProperty("title")}))}},steps:{type:Array,required:!0,validator:function(e){return Array.isArray(e)&&e.every((function(e){return e instanceof Object&&e.hasOwnProperty("title")&&e.hasOwnProperty("component")}))}}},computed:Object(r["a"])({},Object(u["c"])({stepNumber:"step",currentStep:"getCurrentStep",defaultTranslation:"getDefaultTranslation"})),data:function(){return{componentName:this.steps[0].component,displayAlert:!1,alert:""}},mounted:function(){var e=this;this.$root.$on("displayError",(function(t){e.alert=t?"default.errors."+t:"default.errors.base",e.displayAlert=!0,setTimeout((function(){e.displayAlert=!1}),5e3)}))}},Eo=Do,Po=(n("fbfd"),Object(f["a"])(Eo,s,l,!1,null,"ae869f0a",null)),Vo=Po.exports;b()(Po,{VAlert:ge["a"],VTab:Ft["a"],VTabItem:Vn["a"],VTabs:Tt["a"],VTabsItems:Nn["a"]});var No={name:"app",mixins:[gn],components:{BaseForm:Vo},props:{donatorNature:{type:String,default:""}},computed:Object(r["a"])({},Object(u["c"])({form:"getForm"})),methods:{},mounted:function(){this.donatorNature.length&&this.$store.commit("updateForm",{adopter:{type:this.donatorNature}}),this.checkPaymentStepForBasicForms()}},Io=No,zo=(n("1352"),n("7496")),qo=Object(f["a"])(Io,a,i,!1,null,"2272cbc8",null),Lo=qo.exports;b()(qo,{VApp:zo["a"]});var Mo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("base-form",e._b({},"base-form",e.form,!1))],1)},Bo=[],Ro={name:"app",mixins:[gn],components:{BaseForm:Vo},props:{type:{type:String,default:""},donatorNature:{type:String,default:""}},computed:Object(r["a"])({},Object(u["c"])({form:"getForm"})),methods:Object(r["a"])({},Object(u["b"])({updateForm:"updateForm"})),mounted:function(){this.type.length&&this.updateForm({donationType:this.type,isDonationTypeSetByShortcode:!0}),this.donatorNature.length&&this.updateForm({donatorNature:this.donatorNature,isDonatorNatureSetByShortcode:!0}),this.checkPaymentStepForBasicForms()}},Uo=Ro,Go=(n("dadf"),Object(f["a"])(Uo,Mo,Bo,!1,null,"65ac000e",null)),Yo=Go.exports;b()(Go,{VApp:zo["a"]});var Ho=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("div",{attrs:{id:"full-form"}},[e.loading?n("v-progress-circular",{attrs:{color:"tertiary",indeterminate:""}}):n("v-stepper",{attrs:{vertical:""},model:{value:e.stepNumber,callback:function(t){e.stepNumber=t},expression:"stepNumber"}},e._l(e.stepCount,(function(t){return n("div",{key:t},[n("v-stepper-step",{directives:[{name:"show",rawName:"v-show",value:!e.form.tabs[t-1].hide||e.stepNumber>=t,expression:"!form.tabs[index - 1].hide || stepNumber >= index"}],key:"tab"+t,attrs:{color:"tertiary",complete:e.stepNumber>t,step:t}},[e._v(" "+e._s(e.$t(e.form.tabs[t-1].title))+" ")]),n("v-stepper-content",{key:"step"+t,attrs:{step:t}},[e.form.steps[t-1].component===e.currentStep.component&&t===e.stepNumber?n("transition",{attrs:{name:"fade"}},[n("step",{class:e.form.steps[t-1].larger?"large-step":"",attrs:{title:e.form.steps[t-1].title?e.form.steps[t-1].title:"","is-singular":e.form.steps[t-1].singularTitle,"is-specific":e.form.steps[t-1].specificTitle,id:e.form.steps[t-1].component}},[e.form.steps[t-1].component===e.currentStep.component&&t===e.stepNumber?n(e.form.steps[t-1].component,e._b({tag:"component"},"component",e.form.steps[t-1].props,!1)):e._e(),"SetupStep"!==e.currentStep.component&&e.form.steps[t-1].component===e.currentStep.component&&t===e.stepNumber?n("form-footer",{staticClass:"mt-5"}):e._e()],1)],1):e._e()],1)],1)})),0)],1)])},Jo=[],Wo=(n("a15b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"d-flex justify-space-between"},[n("setup-btn",{on:{click:function(t){return e.updateForm({target:e.adoptionConstants.me,order:{type:"regular"}})}},model:{value:e.isAdoptionForMe,callback:function(t){e.isAdoptionForMe=t},expression:"isAdoptionForMe"}},[n("img",{staticClass:"form-icon",attrs:{src:e.path+"/img/icons/certificat.svg",alt:""}}),e._v(" "+e._s(e.$t("default.stepper.setup.adopt"))+" "),n("btn-tooltip",[n("div",{staticClass:"text-center"},[n("span",[e._v(e._s(e.$t("default.stepper.setup.tooltips.me")))])])])],1),n("setup-btn",{on:{click:function(t){return e.updateForm({target:e.adoptionConstants.friend,order:{type:"gift"}})}},model:{value:e.isAdoptionToOffer,callback:function(t){e.isAdoptionToOffer=t},expression:"isAdoptionToOffer"}},[n("img",{staticClass:"form-icon",attrs:{src:e.path+"/img/icons/joffre.svg",alt:""}}),e._v(" "+e._s(e.$t("default.stepper.setup.offer"))+" "),n("btn-tooltip",[n("div",{staticClass:"text-center"},[n("span",[e._v(e._s(e.$t("default.stepper.setup.tooltips.recipient")))])])])],1),n("setup-btn",{on:{click:function(t){return e.updateForm({target:"donation"})}},model:{value:e.isDonation,callback:function(t){e.isDonation=t},expression:"isDonation"}},[n("img",{staticClass:"form-icon",attrs:{src:e.path+"/img/icons/don.svg",alt:""}}),e._v(" "+e._s(e.$t("default.stepper.setup.donation"))+" ")])],1),e.isAdoptionForMe||e.isAdoptionToOffer||e.isDonation?n("div",{staticClass:"text-right mt-5"},[n("v-btn",{attrs:{color:"secondary black--text"},on:{click:e.loadForm}},[e._v(" Continuer ")])],1):e._e()])}),Zo=[],Ko=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-tooltip",{staticClass:"btn-tooltip",attrs:{color:"tertiary","max-width":"350",attach:"#full-form"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,a=t.attrs;return[n("v-icon",e._g(e._b({staticClass:"setup-tooltip-icon",attrs:{small:""}},"v-icon",a,!1),o),[e._v(" mdi-information-outline ")])]}}])},[e._t("default")],2)},Qo=[],Xo={name:"btn-tooltip",data:function(){return{show:!0}}},ea=Xo,ta=(n("1fe9"),n("3a2f")),na=Object(f["a"])(ea,Ko,Qo,!1,null,"10ffcb5a",null),oa=na.exports;b()(na,{VIcon:P["a"],VTooltip:ta["a"]});var aa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{attrs:{height:"60",color:e.value?"tertiary":"primary"},on:{click:function(t){return e.$emit("click")}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[e._t("default")],2)},ia=[],ra={name:"setup-btn",props:{value:null}},sa=ra,la=Object(f["a"])(sa,aa,ia,!1,null,"f9470f0e",null),ca=la.exports;b()(la,{VBtn:v["a"]});var da={name:"setup-step",mixins:[R],components:{BtnTooltip:oa,SetupBtn:ca},computed:Object(r["a"])(Object(r["a"])({},Object(u["c"])({target:"getTarget",path:"getImgPath"})),{},{isAdoptionForMe:function(){return this.target===this.adoptionConstants.me},isAdoptionToOffer:function(){return this.target===this.adoptionConstants.friend},isDonation:function(){return"donation"===this.target}}),methods:Object(r["a"])(Object(r["a"])({},Object(u["b"])({updateForm:"updateForm",loadSetupNextSteps:"loadSetupNextSteps",resetForm:"resetForm",incrementStep:"incrementStep"})),{},{loadForm:function(){var e=this;this.loadSetupNextSteps().then((function(){return e.incrementStep()}))}}),mounted:function(){this.resetForm()}},ua=da,pa=Object(f["a"])(ua,Wo,Zo,!1,null,"376b6ab7",null),ma=pa.exports;b()(pa,{VBtn:v["a"]});var fa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"d-flex justify-space-around"},[n("setup-btn",{on:{click:function(t){return e.updateForm({order:{productType:"coral",price:30},baseElementPrice:30})}},model:{value:e.isCoral,callback:function(t){e.isCoral=t},expression:"isCoral"}},[n("img",{staticClass:"form-icon",attrs:{src:e.path+"/img/icons/corail.svg",alt:""}}),e._v(" "+e._s(e.$tc("default.coral",1))+" ")]),n("setup-btn",{on:{click:function(t){return e.updateForm({specificType:"reef.lady",order:{productType:"reef",price:900},baseElementPrice:900})}},model:{value:e.isReef,callback:function(t){e.isReef=t},expression:"isReef"}},[n("img",{staticClass:"form-icon",attrs:{src:e.path+"/img/icons/recif.svg",alt:""}}),e._v(" "+e._s(e.$tc("default.reef.base",1))+" "),n("btn-tooltip",[n("div",{staticClass:"text-center"},[n("span",{domProps:{innerHTML:e._s(e.$t("default.reef.tooltip"))}})])])],1)],1),e.displayErrorMessage?n("p",{staticClass:"error--text"},[e._v(" "+e._s(e.$t("default.stepper.adoptionSetup.error"))+" ")]):e._e()])},ha=[],ba={name:"adoption-setup-step",mixins:[ce],components:{BtnTooltip:oa,SetupBtn:ca},data:function(){return{displayErrorMessage:!1}},computed:Object(r["a"])(Object(r["a"])({},Object(u["c"])({order:"getOrder",path:"getImgPath"})),{},{isCoral:function(){return"coral"===this.order.productType},isReef:function(){return"reef"===this.order.productType}}),methods:Object(r["a"])({},Object(u["b"])({updateForm:"updateForm",loadAdoptionStep:"loadAdoptionStep"})),mounted:function(){var e=this;this.$root.$on(this.customValidationEventName,(function(){e.isCoral||e.isReef?e.loadAdoptionStep().then((function(){e.$root.$emit("StepValid"),e.$root.$emit("IsLoaded"),e.displayErrorMessage=!1})):(e.$root.$emit(e.validationErrorEventName),e.$root.$emit("IsLoaded"),e.displayErrorMessage=!0)}))},beforeDestroy:function(){this.$root.$off(this.customValidationEventName)}},va=ba,ya=Object(f["a"])(va,fa,ha,!1,null,"9797ec46",null),ga=ya.exports,_a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row text-left",attrs:{id:"multipleAdoption"}},[n("div",{staticClass:"col-12"},[n("p",{domProps:{innerHTML:e._s(e.$tc("default.stepper.multipleAdoption.description",e.order.quantity,e.translation))}}),n("v-tabs",{staticClass:"black--text mt-5",attrs:{"fixed-tabs":"","background-color":"primary","active-class":"tertiary-tab-active"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",{on:{change:function(t){return e.updateForm({adoption:{type:"fields"}})}}},[e._v(" "+e._s(e.$t("default.stepper.multipleAdoption.tabs.fields.title"))+" ")]),n("v-tab",{on:{change:function(t){return e.updateForm({adoption:{type:"file"}})}}},[e._v(" "+e._s(e.$t("default.stepper.multipleAdoption.tabs.file.title"))+" ")])],1),n("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticClass:"adoptions"},[n("p",{staticClass:"my-5"},[e._v(e._s(e.$t("default.stepper.multipleAdoption.tabs.fields.description",e.singular)))]),0===e.tab?n("v-form",{ref:e.formRefName,model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("div",{staticClass:"row"},e._l(e.order.quantity,(function(t){return n("div",{key:t,class:e.order.quantity>1?"col-6":"col-12"},[n("adoption-name-block",{attrs:{n:t},model:{value:e.adoption.names[t-1],callback:function(n){e.$set(e.adoption.names,t-1,n)},expression:"adoption.names[n-1]"}})],1)})),0)]):e._e()],1),n("v-tab-item",[n("p",{staticClass:"font-weight-bold my-5"},[e._v(e._s(e.$t("default.stepper.multipleAdoption.tabs.file.subtitle",e.plural)))]),n("p",[e._v(e._s(e.$t("default.stepper.multipleAdoption.tabs.file.description")))]),n("v-btn",{staticClass:"mt-5",attrs:{color:"secondary",href:e.adoptionFileUrl,target:"_blank"}},[e._v(" "+e._s(e.$t("default.stepper.multipleAdoption.tabs.file.button"))+" ")]),1===e.tab?n("v-form",{ref:e.formRefName,model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("p",{staticClass:"my-5"},[e._v(e._s(e.$t("default.stepper.multipleAdoption.tabs.file.upload.description")))]),n("v-file-input",{attrs:{chips:"",label:e.$t("default.stepper.multipleAdoption.tabs.file.upload.label"),outlined:"",dense:"",rules:[e.rules.required],accept:".xlsx"},model:{value:e.namesFile,callback:function(t){e.namesFile=t},expression:"namesFile"}})],1):e._e()],1)],1)],1)])},$a=[],Oa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("text-input",{attrs:{rules:[e.rules.required,e.rules.minLength,e.rules.specialChar],label:e.$tc("default.stepper.customization.input.label",e.order.quantity,{number:e.n,item:e.translation.item}),placeholder:e.$t("default.stepper.customization.input.placeholder",e.singular)},on:{input:function(t){return e.$emit("input",e.value)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})},xa=[],ja={name:"adoption-name-block",mixins:[ce,O],components:{TextInput:at},props:{value:null,n:{type:Number,default:1}}},Sa=ja,ka=Object(f["a"])(Sa,Oa,xa,!1,null,"0184aaaa",null),wa=ka.exports,Ca=(n("99af"),n("257e")),Fa=n("262e"),Ta=n("2caf"),Aa=function(){function e(){Object(qn["a"])(this,e),Object(Mn["a"])(this,"form",[])}return Object(Ln["a"])(e,[{key:"getForm",value:function(){return this.checkForm(),this.form}},{key:"checkForm",value:function(){if(!this.form.tabs)throw new Error("Form must have tabs");if(!this.form.steps)throw new Error("Form must have steps");if(this.form.tabs.length!==this.form.steps.length)throw new Error("Form must have equal tabs and steps")}}]),e}(),Da=function(e){Object(Fa["a"])(n,e);var t=Object(Ta["a"])(n);function n(){var e;Object(qn["a"])(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),Object(Mn["a"])(Object(Ca["a"])(e),"form",{tabs:[{hide:!0,title:"default.stepper.header.thanks"},{hide:!0,title:"default.stepper.header.payment"},{hide:!0,title:"default.stepper.header.thanks"}],steps:[{title:"default.stepper.finalRecipient.title",component:"FinalRecipientStep",validate:!0,back:!1},{title:"default.stepper.payment.title",component:"PaymentStep",props:{mode:"donation"},validate:!0,customValidation:!0,api:{method:"post",endpoint:"donate"}},{title:"default.stepper.finalDonation.title",component:"FinalDonationStep",back:!1}]}),e}return n}(Aa),Ea={mixins:[st],data:function(){return{params:{},loading:!1}},methods:Object(r["a"])(Object(r["a"])({},Object(u["b"])({updateForm:"updateForm",loadSetupNextSteps:"loadSetupNextSteps",loadPaymentNextSteps:"loadPaymentNextSteps",loadFormSteps:"loadForm"})),{},{fillParams:function(){var e=this;new URLSearchParams(window.location.search).forEach((function(t,n){e.params[n]=t}))},handleRedirection:function(){var e=this;return Object(we["isEmpty"])(this.params)&&this.fillParams(),new Promise((function(t,n){if(e.params.payment_intent_client_secret){var o=localStorage.getItem(e.params.payment_intent_client_secret);o?(o=JSON.parse(o),e.updateForm({target:o.target}).then((function(){return e.loadSetupNextSteps().then((function(){o.step>5?e.updateForm({order:o.order}).then((function(){return e.loadPaymentNextSteps().then((function(){return e.updateForm(o).then((function(){return e.loadFormSteps(new Da).then((function(){return t()}))}))}))})):e.updateForm(o).then((function(){return t()}))}))}))):n()}else if(e.params.adoptionUuid&&e.params.step){e.loading=!0;var a=e.getGetUrlNoApiData({adoptionUuid:e.params.adoptionUuid,step:e.params.step},"adoption/redirection");e.getByUrl(a).then((function(o){e.loading=!1;var a=o.data.type.split("."),i={order:{uuid:o.data.uuid,productType:a[0],quantity:o.data.quantity}};switch(void 0!==a[1]&&(i.order.specificType=a[1]),e.params.step){case"adoption":i=Object(r["a"])(Object(r["a"])({},i),{},{step:6,adoption:{type:"file",locked:!0}}),e.updateForm({target:B.me}).then((function(){return e.loadSetupNextSteps().then((function(){return e.updateForm({order:{type:"regular"}}).then((function(){return e.loadPaymentNextSteps().then((function(){return e.updateForm(i).then((function(){return t()}))}))}))}))}));break;case"recipient":i=Object(r["a"])(Object(r["a"])({},i),{},{step:7,recipient:{type:"file",locked:!0}}),e.updateForm({target:B.friend}).then((function(){return e.loadSetupNextSteps().then((function(){return e.updateForm({order:{type:"gift"},adopter:{send_to_friend:!0}}).then((function(){return e.loadPaymentNextSteps().then((function(){return e.updateForm(i).then((function(){return t()}))}))}))}))}));break;default:n()}})).catch((function(t){e.loading=!1,n(t)}))}}))},cleanUrl:function(){window.history.replaceState({},document.title,window.location.pathname)}})},Pa={name:"multiple-adoption-step",mixins:[ce,O,st,Ea],components:{AdoptionNameBlock:wa},data:function(){return{tab:null,namesFile:null}},computed:Object(r["a"])(Object(r["a"])({},Object(u["c"])({adoption:"getAdoption",adoptionModel:"getPostAdoptionsData"})),{},{adoptionFileUrl:function(){return this.baseUrl+"namingFile?adoption_uuid="+this.adoptionModel.adoptionUuid}}),methods:Object(r["a"])(Object(r["a"])({},Object(u["b"])({updateForm:"updateForm"})),{},{createAdoption:function(){var e=this;if(null!==this.namesFile&&"file"===this.adoption.type){var t={headers:{"Content-Type":"multipart/form-data"}},n=new FormData;n.append("adoption_file",this.namesFile),this.post(n,"namingFileImport",t).then((function(){e.cleanUrl(),e.$root.$emit("ApiValid")})).catch((function(t){alert(t.response.data),e.$root.$emit("IsLoaded")}))}else this[this.apiData.method](this.adoptionModel,this.apiData.endpoint).then((function(){e.cleanUrl(),e.$root.$emit("ApiValid")})).catch((function(t){console.error(t),e.$root.$emit("IsLoaded")}))},checkFileMode:function(){this.adoption.locked&&(this.tab=1)}}),mounted:function(){this.$root.$on(this.apiEventName,this.createAdoption),this.checkFileMode()},beforeDestroy:function(){this.$root.$off(this.apiEventName)}},Va=Pa,Na=(n("74c5"),n("23a7")),Ia=Object(f["a"])(Va,_a,$a,!1,null,"316db000",null),za=Ia.exports;b()(Ia,{VBtn:v["a"],VFileInput:Na["a"],VForm:dt["a"],VTab:Ft["a"],VTabItem:Vn["a"],VTabs:Tt["a"],VTabsItems:Nn["a"]});var qa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row text-left"},[n("v-form",{ref:e.formRefName,model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("div",{staticClass:"col-12"},[n("p",{staticClass:"subtitles poppins-police"},[e._v(" "+e._s(e.$t("default.stepper.customizationSend.message.title"))+" ")]),n("p",{domProps:{innerHTML:e._s(e.$t("default.stepper.customizationSend.message.description"))}}),n("v-textarea",{staticClass:"mt-5",attrs:{rows:"3","no-resize":"",color:"tertiary",outlined:"",placeholder:e.$t("default.stepper.customizationSend.message.placeholder"),maxlength:"490",counter:""},model:{value:e.gift.message,callback:function(t){e.$set(e.gift,"message",t)},expression:"gift.message"}})],1),n("div",{staticClass:"col-12"},[n("p",{staticClass:"subtitles poppins-police"},[e._v(" "+e._s(e.$t("default.stepper.customizationSend.send.title"))+" ")]),n("p",[e._v(e._s(e.$t("default.stepper.customizationSend.send.description1")))]),n("p",{staticClass:"mt-5"},[e._v(e._s(e.$t("default.stepper.customizationSend.send.description2")))]),n("v-checkbox",{attrs:{color:"tertiary"},scopedSlots:e._u([{key:"label",fn:function(){return[n("p",{staticClass:"black--text"},[e._v(e._s(e.$t("default.stepper.customizationSend.send.checkbox")))])]},proxy:!0}]),model:{value:e.scheduled,callback:function(t){e.scheduled=t},expression:"scheduled"}}),e.scheduled?n("v-date-picker",{attrs:{color:"tertiary","first-day-of-week":1,locale:e.$i18n.locale,min:e.tomorrow,max:e.maxDate},model:{value:e.gift.toSendOn,callback:function(t){e.$set(e.gift,"toSendOn",t)},expression:"gift.toSendOn"}}):e._e(),n("error-display",{attrs:{message:e.errorMessage}})],1)])],1)},La=[],Ma=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.message?n("p",{staticClass:"error--text"},[e._v(" "+e._s(e.message)+" ")]):e._e()},Ba=[],Ra={name:"error-display",props:{message:{type:String}}},Ua=Ra,Ga=Object(f["a"])(Ua,Ma,Ba,!1,null,"68856697",null),Ya=Ga.exports,Ha={name:"customization-send-step",mixins:[ce,st],components:{ErrorDisplay:Ya},data:function(){return{scheduled:!1,errorMessage:null}},computed:Object(r["a"])(Object(r["a"])({},Object(u["c"])({gift:"getGift",giftMessageModel:"getGiftMessageModel"})),{},{tomorrow:function(){var e=new Date(new Date);return e.setDate(e.getDate()+1),e.toISOString()},maxDate:function(){var e=new Date(new Date);return e.setDate(e.getDate()+365),e.toISOString()}}),watch:{scheduled:function(e){e||this.updateForm({gift:{toSendOn:null}})}},methods:Object(r["a"])(Object(r["a"])({},Object(u["b"])({updateForm:"updateForm"})),{},{check:function(){this.scheduled&&null===this.gift.toSendOn?(this.errorMessage=this.$t("default.errors.select_date"),this.$root.$emit("IsLoaded")):(this.errorMessage=null,this.$root.$emit("StepValid"))},sendMessageData:function(){var e=this;this[this.apiData.method](this.giftMessageModel,this.apiData.endpoint).then((function(){e.$root.$emit("ApiValid")})).catch((function(t){e.$root.$emit("displayError",t.response.data)})).finally((function(){e.$root.$emit("IsLoaded")}))}}),mounted:function(){var e=this;this.$root.$on(this.customValidationEventName,(function(){return e.check()})),this.$root.$on(this.apiEventName,(function(){return e.sendMessageData()}))},beforeDestroy:function(){this.$root.$off(this.customValidationEventName),this.$root.$off(this.apiEventName)}},Ja=Ha,Wa=n("2e4b"),Za=Object(f["a"])(Ja,qa,La,!1,null,"3049ff1d",null),Ka=Za.exports;b()(Za,{VCheckbox:Qt["a"],VDatePicker:Wa["a"],VForm:dt["a"],VTextarea:It["a"]});var Qa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row text-left",attrs:{id:"multipleRecipient"}},[n("div",{staticClass:"col-12"},[n("p",{domProps:{innerHTML:e._s(e.$t("default.stepper.multipleRecipient.description"))}}),n("v-tabs",{staticClass:"black--text mt-5",attrs:{"fixed-tabs":"","background-color":"primary","active-class":"tertiary-tab-active"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",{on:{change:function(t){return e.updateForm({recipient:{type:"fields"}})}}},[e._v(" "+e._s(e.$t("default.stepper.multipleRecipient.tabs.fields.title"))+" ")]),n("v-tab",{on:{change:function(t){return e.updateForm({recipient:{type:"file"}})}}},[e._v(" "+e._s(e.$t("default.stepper.multipleRecipient.tabs.file.title"))+" ")])],1),n("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticClass:"recipients"},[n("p",{staticClass:"my-5"},[e._v(" "+e._s(e.$t("default.stepper.multipleRecipient.tabs.fields.description"))+" ")]),0===e.tab?n("v-form",{ref:e.formRefName,model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},e._l(e.recipients,(function(t,o){return n("div",{key:o},[n("p",{staticClass:"mb-1"},[e._v(" "+e._s(e.$t("default.stepper.multipleRecipient.tabs.fields.recipient",{index:o+1}))+" ")]),n("recipient-block",{attrs:{value:t},on:{input:e.updateRecipients}})],1)})),0):e._e()],1),n("v-tab-item",[n("p",{staticClass:"font-weight-bold my-5"},[e._v(e._s(e.$t("default.stepper.multipleRecipient.tabs.file.subtitle")))]),n("p",[e._v(e._s(e.$t("default.stepper.multipleRecipient.tabs.file.description")))]),n("v-btn",{staticClass:"mt-5",attrs:{color:"secondary",href:e.recipientFileUrl,target:"_blank"}},[e._v(" "+e._s(e.$t("default.stepper.multipleRecipient.tabs.file.button"))+" ")]),1===e.tab?n("v-form",{ref:e.formRefName,model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("p",{staticClass:"my-5"},[e._v(e._s(e.$t("default.stepper.multipleRecipient.tabs.file.upload.description")))]),n("v-file-input",{attrs:{chips:"",label:e.$t("default.stepper.multipleRecipient.tabs.file.upload.label"),outlined:"",dense:"",rules:[e.rules.required],accept:".xlsx"},model:{value:e.namesFile,callback:function(t){e.namesFile=t},expression:"namesFile"}}),n("error-display",{attrs:{message:e.fileError}})],1):e._e()],1)],1)],1)])},Xa=[],ei=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"double-input-container"},[n("div",{staticClass:"double-input-item"},[n("text-input",{attrs:{placeholder:e.$t("default.stepper.friend.form.firstname"),rules:[e.rules.required,e.rules.specialChar]},on:{input:function(t){return e.$emit("input",e.value)}},model:{value:e.value.first_name,callback:function(t){e.$set(e.value,"first_name",t)},expression:"value.first_name"}})],1),n("div",{staticClass:"double-input-item"},[n("text-input",{attrs:{placeholder:e.$t("default.stepper.friend.form.name"),rules:[e.rules.required,e.rules.specialChar]},on:{input:function(t){return e.$emit("input",e.value)}},model:{value:e.value.last_name,callback:function(t){e.$set(e.value,"last_name",t)},expression:"value.last_name"}})],1)]),n("text-input",{attrs:{placeholder:e.$t("default.stepper.friend.form.mail"),rules:[e.rules.required,e.rules.email]},on:{input:function(t){return e.$emit("input",e.value)}},model:{value:e.value.email,callback:function(t){e.$set(e.value,"email",t)},expression:"value.email"}})],1)},ti=[],ni={name:"recipient-block",mixins:[ce],components:{TextInput:at},props:{value:null}},oi=ni,ai=Object(f["a"])(oi,ei,ti,!1,null,"15fdf89d",null),ii=ai.exports,ri={name:"multiple-recipient-step",mixins:[ce,st,Ea],components:{RecipientBlock:ii,ErrorDisplay:Ya},data:function(){return{tab:null,namesFile:null,recipients:[],fileError:null}},computed:Object(r["a"])(Object(r["a"])({},Object(u["c"])({order:"getOrder",recipient:"getRecipient",giftModel:"getGiftModel"})),{},{recipientFileUrl:function(){return this.baseUrl+"recipientsFile?adoption_uuid="+this.order.uuid}}),methods:Object(r["a"])(Object(r["a"])({},Object(u["b"])({updateForm:"updateForm",loadForm:"loadForm"})),{},{updateRecipients:function(){this.updateForm({gift:{recipients:this.recipients}})},createRecipients:function(){for(var e=[],t=0;t<this.order.quantity;t++)e.push({first_name:"",last_name:"",email:""});this.recipients=e},createGift:function(){var e=this;if(null!==this.namesFile&&"file"===this.recipient.type){var t={headers:{"Content-Type":"multipart/form-data"}},n=new FormData;n.append("recipient_file",this.namesFile),null!==this.giftModel.to_send_on&&n.append("to_send_on",this.giftModel.to_send_on),""!==this.giftModel.message&&n.append("message",this.giftModel.message),this.post(n,"recipientFileImport",t).then((function(){e.loadForm(new Da).then((function(){e.cleanUrl(),e.$root.$emit("ApiValid")}))})).catch((function(){e.fileError=e.$t("default.errors.incorrect_file_data"),e.$root.$emit("IsLoaded")}))}else this[this.apiData.method](this.giftModel,this.apiData.endpoint).then((function(){e.loadForm(new Da).then((function(){e.cleanUrl(),e.$root.$emit("ApiValid")}))})).catch((function(t){console.error(t),e.$root.$emit("IsLoaded")}))},checkFileMode:function(){this.recipient.locked?this.tab=1:this.createRecipients()}}),mounted:function(){this.$root.$on(this.apiEventName,this.createGift),this.checkFileMode()},beforeDestroy:function(){this.$root.$off(this.apiEventName)}},si=ri,li=(n("cb63"),Object(f["a"])(si,Qa,Xa,!1,null,"ae19d616",null)),ci=li.exports;b()(li,{VBtn:v["a"],VFileInput:Na["a"],VForm:dt["a"],VTab:Ft["a"],VTabItem:Vn["a"],VTabs:Tt["a"],VTabsItems:Nn["a"]});var di=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v(" "+e._s(e.$t("default.stepper.bankTransferThanks.description"))+" ")]),n("br"),n("p",[e._v(" "+e._s(e.$t("default.stepper.bankTransferThanks.seeYouSoon"))+" ")])])},ui=[],pi={name:"bank-transfer-thanks-step"},mi=pi,fi=Object(f["a"])(mi,di,ui,!1,null,"6efd90f0",null),hi=fi.exports,bi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",{domProps:{innerHTML:e._s(e.description)}}),n("social-share-block"),n("v-form",{ref:e.formRefName,model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("donation-block",{attrs:{final:""}})],1)],1)},vi=[],yi={name:"final-adoption-step",components:{DonationBlock:kt,SocialShareBlock:so},mixins:[st,to,ce,O,gn],computed:Object(r["a"])(Object(r["a"])({},Object(u["c"])({adopter:"getAdopter",gift:"getGift"})),{},{description:function(){var e="default.stepper.finalRecipient.description.";return this.adopter.send_to_friend?e+=null===this.gift.toSendOn?"base":"scheduled":e+="sendToMe",this.$t(e)}}),mounted:function(){var e=this;this.$root.$on(this.apiEventName,(function(){return e.$root.$emit("ApiValid")})),this.cleanLocalStorage()},beforeDestroy:function(){this.$root.$off(this.apiEventName)}},gi=yi,_i=Object(f["a"])(gi,bi,vi,!1,null,"aab160ea",null),$i=_i.exports;b()(_i,{VForm:dt["a"]});var Oi={SetupStep:ma,AdoptionSetupStep:ga,CoralAdoptionStep:Ae,InformationStep:mn,PaymentStep:Yn,MultipleAdoptionStep:za,FinalAdoptionStep:po,FinalDonationStep:To,ReefAdoptionStep:Qn,CustomizationSendStep:Ka,MultipleRecipientStep:ci,DonationStep:Dt,BankTransferThanksStep:hi,FinalRecipientStep:$i},xi={name:"full-form",mixins:[gn,Ea],components:Object(r["a"])({FormFooter:g,Step:w},Oi),props:{},computed:Object(r["a"])({},Object(u["c"])({form:"getForm",stepNumber:"step",currentStep:"getCurrentStep",stepCount:"stepCount"})),methods:{compare:function(e,t){Object(we["merge"])(e,t);var n=JSON.stringify(e),o=new Blob([n],{type:"text/plain"}),a=document.createEvent("MouseEvents"),i=document.createElement("a");i.download="test.json",i.href=window.URL.createObjectURL(o),i.dataset.downloadurl=["text/json",i.download,i.href].join(":"),a.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(a)}},mounted:function(){this.handleRedirection()}},ji=xi,Si=(n("29f6"),n("490a")),ki=n("7e85"),wi=n("e516"),Ci=n("56a4"),Fi=Object(f["a"])(ji,Ho,Jo,!1,null,"76667930",null),Ti=Fi.exports;b()(Fi,{VApp:zo["a"],VProgressCircular:Si["a"],VStepper:ki["a"],VStepperContent:wi["a"],VStepperStep:Ci["a"]});var Ai=n("f309");o["a"].use(Ai["a"]);var Di={theme:{options:{customProperties:!0},themes:{light:{primary:"#DDE8EE",secondary:"#E3FE93",tertiary:"#00456e"}}}},Ei=new Ai["a"](Di);n("7db0");function Pi(e,t){if(Array.isArray(e))return e.concat(t)}var Vi=Pi,Ni={individual:.66,company:.6},Ii=Ni,zi=function e(t){return Object(qn["a"])(this,e),{amount:t.donation.price,customerUUID:t.adopter.id,donationRecurrency:t.donation.type,lang:le.locale,paymentMethod:t.donation.payment_method.type}},qi=function e(t){Object(qn["a"])(this,e);var n={firstname:t.adopter.first_name,lastname:t.adopter.last_name,address:t.adopter.address,postalCode:t.adopter.postal_code,city:t.adopter.city,country:t.adopter.country,email:t.adopter.email,type:t.adopter.type,wantsNewsletter:t.adopter.wants_newsletter,language:le.locale};return"company"===t.adopter.type&&Object(we["merge"])(n,{alternateNewsletterEmail:t.adopter.alternate_newsletter_email,companyName:t.adopter.company_name}),n},Li={oneshot:"oneshot",monthly:"monthly"},Mi=Li,Bi="undefined"!==typeof publicPath&&null!==publicPath?publicPath[0]:"",Ri="undefined"!==typeof apiNamespace&&null!==apiNamespace?apiNamespace[0]:"",Ui=new URLSearchParams(window.location.search),Gi=Ui.has("prt")?Ui.get("prt"):"france",Yi=function e(){Object(qn["a"])(this,e),this.state={formType:"basic",baseImgPath:Bi,apiNamespace:Ri,data:{step:0,baseElementPrice:null,adopter:{id:null,type:"individual",first_name:"",last_name:"",email:"",address:"",postal_code:null,city:"",country:null,wants_newsletter:!1},order:{id:null,uuid:null,type:"regular",clientSecret:null,price:null,customAmount:!1,quantity:1,payment_method:{type:"credit_card"},status:null},orderToken:"",donation:{type:Mi.oneshot,price:0,project_key:Gi,payment_method:{type:"credit_card"},status:null}},baseForm:{tabs:[{visible:!1,title:null}],steps:[{title:"",component:null,singularTitle:!0,classes:null}]}},this.getters={getForm:function(e){return console.error("implement this method"),e.baseForm},step:function(e){return e.data.step},getCurrentStep:function(e,t){return t.getForm.steps[e.data.step]},stepCount:function(e,t){return t.getForm.steps.length},getDefaultTranslation:function(e){return"default."+e.data.order.productType},getPaymentData:function(e){return{customAmount:e.data.customAmount,donationAmount:e.data.donationAmount}},hasDonationTypeSetByShortcode:function(e){return e.data.isDonationTypeSetByShortcode},getApiData:function(e,t){return t.getCurrentStep.api?t.getCurrentStep.api:null},getOrderToken:function(e){return e.data.orderToken},getBillingDetails:function(e){var t=e.data.adopter;return{address:{city:t.city,line1:t.address,postal_code:t.postal_code},name:t.first_name+" "+t.last_name,email:t.email}},getPostPaymentDataDonation:function(e){return new zi(e.data)},getFiscalReduction:function(e){var t=Ii[e.data.adopter.type];if(t)return t;alert("Cette r√©duction fiscale n'existe pas.")},getAdopter:function(e){return e.data.adopter},getCustomerModel:function(e){return new qi(e.data)},getOrder:function(e){return e.data.order},getImgPath:function(e){return e.baseImgPath},getDonation:function(e){return e.data.donation},getFormType:function(e){return e.formType},getApiNamespace:function(e){return e.apiNamespace},getDonationEnum:function(){return Mi}},this.mutations={updateForm:function(e,t){Object(we["merge"])(e.data,t)},incrementStep:function(e){e.data.step++},decrementStep:function(e){e.data.step--}},this.actions={updateForm:function(e,t){return new Promise((function(n){e.commit("updateForm",t),n()}))},incrementStep:function(e){e.commit("incrementStep")},decrementStep:function(e){e.state.data.step>0&&e.commit("decrementStep")},redirectToPaymentStep:function(e,t){return new Promise((function(n){var o=JSON.parse(t);e.dispatch("updateForm",o).then((function(){n()}))}))}}},Hi=function e(t){Object(qn["a"])(this,e);var n={customerUUID:t.adopter.id,adoptedProduct:"reef"===t.order.productType?t.specificType:t.order.productType,quantity:t.order.quantity,amount:t.order.price,lang:le.locale,paymentMethod:t.order.payment_method.type};return"gift"===t.order.type&&(n.sendToFriend=null===t.adopter.send_to_friend||t.adopter.send_to_friend),n},Ji=n("99de"),Wi=function(e){Object(Fa["a"])(n,e);var t=Object(Ta["a"])(n);function n(e){var o;Object(qn["a"])(this,n);var a=o=t.call(this,e),i=e.gift&&e.gift.friends?e.gift.friends:[e.friend],r=[];return i.forEach((function(e){r.push({friendFirstname:e.first_name,friendLastname:e.last_name,friendEmail:e.email})})),Object(Ji["a"])(o,Object(we["merge"])(a,{friends:r,sendOn:e.gift&&e.gift.toSendOn?e.gift.toSendOn.replaceAll("-",""):null,message:e.gift?e.gift.message:e.friend.message}))}return n}(Hi),Zi=function e(t){Object(qn["a"])(this,e);var n={names:t.adoption.names,adoptionUuid:t.order.uuid};return t.order.giftCode&&(n.giftCode=t.order.giftCode),n},Ki=new Yi,Qi=function e(t,n,o){Object(qn["a"])(this,e);var a=t,i=n,s=o,l=function(){return Object(r["a"])(Object(r["a"])({},Ki.state),{},{data:Object(r["a"])(Object(r["a"])({},Ki.state.data),{},{baseElementPrice:i,order:Object(r["a"])(Object(r["a"])({},Ki.state.data.order),{},{price:i,productType:a}),max:s,target:null,adoption:{type:"fields",names:[]},recipient:{type:"fields"},friend:{first_name:"",last_name:"",email:"",message:""},donation:Object(r["a"])(Object(r["a"])({},Ki.state.data.donation),{},{type:Mi.monthly})}),baseForm:{tabs:[{visible:!1,title:null}],steps:[{title:"default.stepper.choice.title",component:"ChoiceStep",singularTitle:!0,classes:"choice-step"}]},forms:[]})};this.state=l(),this.getters=Object(r["a"])(Object(r["a"])({},Ki.getters),{},{getForm:function(e){if(null===e.data.target)return e.baseForm;var t=Object(we["cloneDeep"])(e.forms.find((function(t){return t.target===e.data.target}))),n=Object(we["cloneDeep"])(e.baseForm);return Object(we["mergeWith"])(n,t,Vi)},getTarget:function(e){return e.data.target},getCurrentStep:function(e,t){return t.getForm.steps[e.data.step]},getPostPaymentDataAdoption:function(e){return"gift"===e.data.order.type?new Wi(e.data):new Hi(e.data)},getPaymentData:function(e){return{count:e.data.count,price:e.data.price,customAmount:e.data.customAmount,donationAmount:e.data.donationAmount}},getPostAdoptionsData:function(e){return new Zi(e.data)},getAdoption:function(e){return e.data.adoption},getRecipient:function(e){return e.data.recipient},getFriend:function(e){return e.data.friend}}),this.mutations=Object(r["a"])(Object(r["a"])({},Ki.mutations),{},{incrementCount:function(e){e.data.order.quantity++,e.data.order.price=e.data.order.quantity*e.data.baseElementPrice},decrementCount:function(e){e.data.order.quantity--,e.data.order.price=e.data.order.quantity*e.data.baseElementPrice},resetState:function(e){e.data.target=null,e.data.order.quantity=1,e.data.order.price=e.data.baseElementPrice,e.data.order.customAmount=!1}}),this.actions=Object(r["a"])(Object(r["a"])({},Ki.actions),{},{decrementStep:function(e){1===e.state.data.step?(e.commit("decrementStep"),e.commit("resetState")):e.state.data.step>0&&e.commit("decrementStep")},incrementCount:function(e){e.commit("incrementCount")},decrementCount:function(e){e.state.data.order.quantity>0&&e.commit("decrementCount")}})},Xi=new Qi("coral",30,null);o["a"].use(u["a"]);var er=new u["a"].Store({state:Object(r["a"])(Object(r["a"])({},Xi.state),{},{interval:{min:20,max:30},forms:[{target:B.me,tabs:[{visible:!0,title:"default.stepper.header.adoption",class:"round-left-top"},{visible:!0,title:"default.stepper.header.information"},{visible:!0,title:"default.stepper.header.payment"},{visible:!0,title:"default.stepper.header.customization",class:"round-right-top"},{visible:!1,title:null},{visible:!1,title:null},{visible:!1,title:null}],steps:[{title:"default.stepper.adoption.title",component:"CoralAdoptionStep"},{title:"default.stepper.information.title",component:"InformationStep",validate:!0,api:{method:"post",endpoint:"customer"}},{title:"default.stepper.payment.title",component:"PaymentStep",validate:!0,customValidation:!0,api:{method:"post",endpoint:"adoption"}},{title:"default.stepper.customization.title",component:"CustomizationStep",validate:!0,back:!1,api:{method:"post",endpoint:"adoption/naming"}},{title:"default.stepper.finalAdoption.title",component:"FinalAdoptionStep",back:!1,validate:!0,api:{method:"get",endpoint:"getCertificates"}},{title:"default.stepper.payment.title",component:"PaymentStep",props:{mode:"donation"},validate:!0,customValidation:!0,api:{method:"post",endpoint:"donate"}},{title:"default.stepper.finalDonation.title",component:"FinalDonationStep",back:!1}]},{target:B.friend,tabs:[{visible:!0,title:"default.stepper.header.adoption",class:"round-left-top"},{visible:!0,title:"default.stepper.header.information"},{visible:!0,title:"default.stepper.header.friend"},{visible:!0,title:"default.stepper.header.payment",class:"round-right-top"},{visible:!1,title:null},{visible:!1,title:null},{visible:!1,title:null}],steps:[{title:"default.stepper.adoption.title",component:"CoralAdoptionStep"},{title:"default.stepper.information.title",component:"InformationStep",validate:!0,api:{method:"post",endpoint:"customer"}},{title:"default.stepper.friend.title",component:"FriendStep",validate:!0},{title:"default.stepper.payment.title",component:"PaymentStep",validate:!0,customValidation:!0,api:{method:"post",endpoint:"adoption/gift"}},{title:"default.stepper.finalFriendAdoption.title",component:"FinalFriendAdoptionStep",back:!1},{title:"default.stepper.payment.title",component:"PaymentStep",props:{mode:"donation"},validate:!0,customValidation:!0,api:{method:"post",endpoint:"donate"}},{title:"default.stepper.finalDonation.title",component:"FinalDonationStep",back:!1}]}]}),getters:Object(r["a"])(Object(r["a"])({},Xi.getters),{},{hasDownloaded:function(e){return e.data.hasDownloaded?e.data.hasDownloaded:null}}),mutations:Object(r["a"])({},Xi.mutations),actions:Object(r["a"])({},Xi.actions)}),tr=new Qi("reef",900,5);o["a"].use(u["a"]);var nr=new u["a"].Store({state:Object(r["a"])(Object(r["a"])({},tr.state),{},{data:Object(r["a"])(Object(r["a"])({},tr.state.data),{},{specificType:B.reefs.lady.specificType}),forms:[{target:B.me,tabs:[{visible:!0,title:"default.stepper.header.adoption",class:"round-left-top"},{visible:!0,title:"default.stepper.header.information"},{visible:!0,title:"default.stepper.header.payment"},{visible:!0,title:"default.stepper.header.customization",class:"round-right-top"},{visible:!1,title:null},{visible:!1,title:null},{visible:!1,title:null}],steps:[{title:"default.stepper.adoption.title",component:"ReefAdoptionStep"},{title:"default.stepper.information.title",component:"InformationStep",validate:!0,api:{method:"post",endpoint:"customer"}},{title:"default.stepper.payment.title",component:"PaymentStep",validate:!0,customValidation:!0,api:{method:"post",endpoint:"adoption"}},{title:"default.stepper.customization.title",component:"CustomizationStep",validate:!0,back:!1,api:{method:"post",endpoint:"adoption/naming"}},{title:"default.stepper.finalAdoption.title",component:"FinalAdoptionStep",back:!1,api:{endpoint:"getCertificates"}},{title:"default.stepper.payment.title",component:"PaymentStep",props:{mode:"donation"},validate:!0,customValidation:!0,api:{method:"post",endpoint:"donate"}},{title:"default.stepper.finalDonation.title",component:"FinalDonationStep",back:!1}]},{target:B.friend,tabs:[{visible:!0,title:"default.stepper.header.adoption",class:"round-left-top"},{visible:!0,title:"default.stepper.header.information"},{visible:!0,title:"default.stepper.header.friend"},{visible:!0,title:"default.stepper.header.payment",class:"round-right-top"},{visible:!1,title:null},{visible:!1,title:null},{visible:!1,title:null}],steps:[{title:"default.stepper.adoption.title",component:"ReefAdoptionStep"},{title:"default.stepper.information.title",component:"InformationStep",validate:!0,api:{method:"post",endpoint:"customer"}},{title:"default.stepper.friend.title",component:"FriendStep",validate:!0},{title:"default.stepper.payment.title",component:"PaymentStep",validate:!0,customValidation:!0,api:{method:"post",endpoint:"adoption/gift"}},{title:"default.stepper.finalFriendAdoption.title",component:"FinalFriendAdoptionStep",back:!1},{title:"default.stepper.payment.title",component:"PaymentStep",props:{mode:"donation"},validate:!0,customValidation:!0,api:{method:"post",endpoint:"donate"}},{title:"default.stepper.finalDonation.title",component:"FinalDonationStep",back:!1}]}]}),getters:Object(r["a"])(Object(r["a"])({},tr.getters),{},{getDefaultTranslation:function(e){return"default."+e.data.order.productType+".base"},getSpecificTranslation:function(e){return"default."+e.data.specificType}}),mutations:Object(r["a"])({},tr.mutations),actions:Object(r["a"])({},tr.actions)}),or=new Yi;o["a"].use(u["a"]);var ar=new u["a"].Store({state:Object(r["a"])(Object(r["a"])({},or.state),{},{data:Object(r["a"])({},or.state.data),form:{tabs:[{visible:!0,title:"default.stepper.header.donation",class:"round-left-top"},{visible:!0,title:"default.stepper.header.information"},{visible:!0,title:"default.stepper.header.payment",class:"round-right-top"},{visible:!1,title:null}],steps:[{title:"default.stepper.donation.title."+or.state.data.donation.project_key,component:"DonationStep",validate:!0},{title:"default.stepper.information.title",component:"InformationStep",validate:!0,api:{method:"post",endpoint:"customer"}},{title:"default.stepper.payment.title",component:"PaymentStep",validate:!0,customValidation:!0,props:{mode:"donation"},api:{method:"post",endpoint:"donate"}},{title:"default.stepper.finalDonation.title",component:"FinalDonationStep",back:!1,api:{endpoint:"getCertificates"}}]}}),getters:Object(r["a"])(Object(r["a"])({},or.getters),{},{getDefaultTranslation:function(e){return"default."+e.data.donation.type},getForm:function(e){return e.form},getDonation:function(e){return e.data.donation}}),mutations:Object(r["a"])({},or.mutations),actions:Object(r["a"])({},or.actions)}),ir=function(e){Object(Fa["a"])(n,e);var t=Object(Ta["a"])(n);function n(){var e;Object(qn["a"])(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),Object(Mn["a"])(Object(Ca["a"])(e),"form",{tabs:[{title:"default.stepper.header.full.adoption"},{title:"default.stepper.header.adoption"},{title:"default.stepper.header.information"},{title:"default.stepper.header.payment"}],steps:[{component:"AdoptionSetupStep",validate:!0,customValidation:!0},{title:"default.stepper.adoption.title",component:null,componentType:"adoption"},{title:"default.stepper.information.title",component:"InformationStep",validate:!0,api:{method:"post",endpoint:"customer"},props:{newsletterFullBlock:!0,isCompany:!0}},{title:"default.stepper.payment.title",component:"PaymentStep",validate:!0,customValidation:!0,api:{method:"post",endpoint:"adoption"},props:{bankTransfer:!0}}]}),e}return n}(Aa),rr=function(e){Object(Fa["a"])(n,e);var t=Object(Ta["a"])(n);function n(){var e;Object(qn["a"])(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),Object(Mn["a"])(Object(Ca["a"])(e),"form",{tabs:[{title:"default.stepper.header.full.adoption"},{title:"default.stepper.header.adoption"},{title:"default.stepper.header.information"},{title:"default.stepper.header.payment"}],steps:[{component:"AdoptionSetupStep",validate:!0,customValidation:!0},{title:"default.stepper.adoption.title",component:null,componentType:"adoption"},{title:"default.stepper.information.title",component:"InformationStep",validate:!0,api:{method:"post",endpoint:"customer"},props:{newsletterFullBlock:!0,isCompany:!0,isGiftCustom:!0}},{title:"default.stepper.payment.title",component:"PaymentStep",validate:!0,customValidation:!0,api:{method:"post",endpoint:"adoption/gift"},props:{bankTransfer:!0}}]}),e}return n}(Aa),sr=function(e){Object(Fa["a"])(n,e);var t=Object(Ta["a"])(n);function n(e){var o;return Object(qn["a"])(this,n),o=t.call(this),Object(Mn["a"])(Object(Ca["a"])(o),"project",void 0),Object(Mn["a"])(Object(Ca["a"])(o),"form",void 0),o.project=e,o.form={tabs:[{title:"default.stepper.header.donation"},{title:"default.stepper.header.information"},{title:"default.stepper.header.payment"},{hide:!0,title:"default.stepper.header.thanks"}],steps:[{title:"default.stepper.donation.title."+e,component:"DonationStep",validate:!0},{title:"default.stepper.information.title",component:"InformationStep",validate:!0,api:{method:"post",endpoint:"customer"},props:{newsletterFullBlock:!0,isCompany:!0}},{title:"default.stepper.payment.title",component:"PaymentStep",validate:!0,customValidation:!0,props:{mode:"donation",bankTransfer:!0},api:{method:"post",endpoint:"donate"}},{title:"default.stepper.finalDonation.title",component:"FinalDonationStep",back:!1,isLast:!0}]},o}return n}(Aa),lr=function(e){Object(Fa["a"])(n,e);var t=Object(Ta["a"])(n);function n(){var e;Object(qn["a"])(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),Object(Mn["a"])(Object(Ca["a"])(e),"form",{tabs:[{title:"default.stepper.header.full.setup"}],steps:[{component:"SetupStep",larger:!0}]}),e}return n}(Aa),cr=function(e){Object(Fa["a"])(n,e);var t=Object(Ta["a"])(n);function n(){var e;Object(qn["a"])(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),Object(Mn["a"])(Object(Ca["a"])(e),"form",{tabs:[{title:"default.stepper.header.customizationSend"},{title:"default.stepper.header.recipients"}],steps:[{component:"CustomizationSendStep",validate:!0,customValidation:!0,back:!1,api:{method:"post",endpoint:"adoption/gift/message"}},{component:"MultipleRecipientStep",validate:!0,api:{method:"post",endpoint:"adoption/gift/friend"}}]}),e}return n}(Aa),dr=function(e){Object(Fa["a"])(n,e);var t=Object(Ta["a"])(n);function n(){var e;Object(qn["a"])(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),Object(Mn["a"])(Object(Ca["a"])(e),"form",{tabs:[{title:"default.stepper.header.customization"},{hide:!0,title:"default.stepper.header.thanks"},{hide:!0,title:"default.stepper.header.payment"},{hide:!0,title:"default.stepper.header.thanks"}],steps:[{title:"default.stepper.customization.title",component:"MultipleAdoptionStep",validate:!0,back:!1,api:{method:"post",endpoint:"adoption/naming"}},{title:"default.stepper.finalAdoption.title",component:"FinalAdoptionStep",back:!1,validate:!0,api:{method:"get",endpoint:"getCertificates"}},{title:"default.stepper.payment.title",component:"PaymentStep",props:{mode:"donation"},validate:!0,customValidation:!0,api:{method:"post",endpoint:"donate"}},{title:"default.stepper.finalDonation.title",component:"FinalDonationStep",back:!1,isLast:!0}]}),e}return n}(Aa),ur=function(e){Object(Fa["a"])(n,e);var t=Object(Ta["a"])(n);function n(){var e;Object(qn["a"])(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),Object(Mn["a"])(Object(Ca["a"])(e),"form",{tabs:[{title:"default.stepper.header.thanks"}],steps:[{title:"default.stepper.bankTransferThanks.title",component:"BankTransferThanksStep",back:!1,isLast:!0}]}),e}return n}(Aa),pr=function e(t){Object(qn["a"])(this,e);var n=[];return t.gift.recipients.forEach((function(e){n.push({friendFirstname:e.first_name,friendLastname:e.last_name,friendEmail:e.email})})),{friends:n,adoption_uuid:t.order.uuid,message:t.gift.message,sendOn:t.gift.toSendOn?t.gift.toSendOn.replaceAll("-",""):null}},mr=function e(t){return Object(qn["a"])(this,e),{adoption_uuid:t.order.uuid,message:t.gift.message,sendOn:t.gift.toSendOn?t.gift.toSendOn.replaceAll("-",""):null}},fr=new Qi(null,null,null);o["a"].use(u["a"]);var hr=new u["a"].Store({state:Object(r["a"])(Object(r["a"])({},fr.state),{},{formType:"advanced",data:Object(r["a"])(Object(r["a"])({},fr.state.data),{},{step:1,adopter:Object(r["a"])(Object(r["a"])({},fr.state.data.adopter),{},{alternate_newsletter_email:null,send_to_friend:null,company_name:"",type:"company"}),order:Object(r["a"])(Object(r["a"])({},fr.state.data.order),{},{type:null}),donation:Object(r["a"])(Object(r["a"])({},fr.state.data.donation),{},{type:null}),gift:{recipients:[],message:"",toSendOn:null}}),baseForm:new lr,form:new lr}),getters:Object(r["a"])(Object(r["a"])({},fr.getters),{},{getForm:function(e){return e.form.getForm()},getCurrentStep:function(e,t){return t.getForm.steps[e.data.step-1]},getDefaultTranslation:function(e){var t="default.";switch(e.data.target){case"donation":return t+e.data.donation.type;default:return t+e.data.order.productType+("reef"===e.data.order.productType?".base":"")}},getSpecificTranslation:function(e){return e.data.specificType?"default."+e.data.specificType:null},getPostPaymentDataAdoption:function(e){return new Hi(e.data)},getGift:function(e){return e.data.gift},getGiftModel:function(e){return new pr(e.data)},getGiftMessageModel:function(e){return new mr(e.data)}}),mutations:Object(r["a"])(Object(r["a"])({},fr.mutations),{},{loadSpecificForm:function(e,t){var n=e.form.getForm(),o=t.getForm();n.tabs=n.tabs.concat(o.tabs),n.steps=n.steps.concat(o.steps)},resetForm:function(e){e.form=Object(we["cloneDeep"])(e.baseForm)},loadAdoptionStep:function(e){for(var t=e.data.order.productType,n=e.form.getForm(),o=0;o<n.steps.length;o++){var a=n.steps[o];if(a.componentType&&"adoption"===a.componentType){a.component="coral"===t?"CoralAdoptionStep":"ReefAdoptionStep";break}}}}),actions:Object(r["a"])(Object(r["a"])({},fr.actions),{},{loadSetupNextSteps:function(e){return new Promise((function(t,n){switch(null===e.state.data.target&&n("Aucune action s√©lectionn√©e"),e.state.data.target){case B.me:e.dispatch("loadForm",new ir).then((function(){e.dispatch("updateForm",{order:{type:"regular"},donation:{type:Mi.monthly}}).then((function(){return t()}))}));break;case B.friend:e.dispatch("loadForm",new rr).then((function(){e.dispatch("updateForm",{order:{type:"gift"},donation:{type:Mi.monthly}}).then((function(){return t()}))}));break;case"donation":e.dispatch("loadForm",new sr(e.state.data.donation.project_key)).then((function(){e.dispatch("updateForm",{donation:{type:Mi.oneshot}}).then((function(){return t()}))}));break;default:n("Formulaire non trouv√©")}}))},loadAdoptionStep:function(e){return new Promise((function(t){e.commit("loadAdoptionStep"),t()}))},loadPaymentNextSteps:function(e){return new Promise((function(t){"bank_transfert"===e.state.data.order.payment_method.type?e.dispatch("loadForm",new ur).then((function(){t()})):e.state.data.target===B.friend?e.dispatch("loadForm",e.state.data.adopter.send_to_friend?new cr:new Da).then((function(){t()})).catch((function(e){return console.log(e)})):e.state.data.target===B.me?e.dispatch("loadForm",new dr).then((function(){t()})):t()}))},loadForm:function(e,t){return new Promise((function(n,o){t instanceof Aa?(e.commit("loadSpecificForm",t),n()):o("Formulaire incomplet")}))},resetForm:function(e){e.commit("resetForm")}})}),br=function(e){Object(Fa["a"])(n,e);var t=Object(Ta["a"])(n);function n(){var e;Object(qn["a"])(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),Object(Mn["a"])(Object(Ca["a"])(e),"form",{tabs:[{visible:!0,title:"default.stepper.header.gift",class:"round-left-top"},{visible:!0,title:"default.stepper.header.customization",class:"round-right-top"},{visible:!1,title:null},{visible:!1,title:null},{visible:!1,title:null},{visible:!1,title:null}],steps:[{title:"default.stepper.gift.title",component:"GiftStep",validate:!0,api:{method:"get",endpoint:"giftcode/getAdoption"}},{title:"default.stepper.customization.title",component:"CustomizationStep",validate:!0,back:!1,api:{method:"post",endpoint:"adoption/naming"}},{title:"default.stepper.finalFriendGift.title",component:"FinalFriendGiftAdoptionStep",back:!1,api:{method:"get",endpoint:"getCertificatesByGift"}},{title:"default.stepper.information.title",component:"InformationStep",validate:!0,api:{method:"post",endpoint:"customer"}},{title:"default.stepper.payment.title",component:"PaymentStep",props:{mode:"donation"},validate:!0,customValidation:!0,api:{method:"post",endpoint:"donate"}},{title:"default.stepper.finalDonation.title",component:"FinalDonationStep",back:!1}]}),e}return n}(Aa),vr=new Qi(null,null,null);o["a"].use(u["a"]);var yr=new u["a"].Store({state:Object(r["a"])(Object(r["a"])({},vr.state),{},{form:new br}),getters:Object(r["a"])(Object(r["a"])({},vr.getters),{},{getForm:function(e){return e.form.getForm()},getDefaultTranslation:function(e){var t="default.";return t+e.data.order.productType+("reef"===e.data.order.productType?".base":"")},getSpecificTranslation:function(e){return e.data.specificType?"default."+e.data.specificType:null}}),mutations:Object(r["a"])({},vr.mutations),actions:Object(r["a"])({},vr.actions)});n("3c61");if(o["a"].config.productionTip=!1,document.querySelector("#coral-form")){var gr=document.querySelector("#coral-form").dataset.initialFiscalType;new o["a"]({vuetify:Ei,i18n:le,store:er,render:function(e){return e(Lo,{props:{donatorNature:gr}})}}).$mount("#coral-form")}if(document.querySelector("#reef-form")){var _r=document.querySelector("#reef-form").dataset.initialFiscalType;new o["a"]({vuetify:Ei,i18n:le,store:nr,render:function(e){return e(Lo,{props:{donatorNature:_r}})}}).$mount("#reef-form")}if(document.querySelector("#donation-form")){var $r=document.querySelector("#donation-form").dataset.initialDonationType,Or=document.querySelector("#donation-form").dataset.initialFiscalType;new o["a"]({vuetify:Ei,i18n:le,store:ar,render:function(e){return e(Yo,{props:{type:$r,donatorNature:Or}})}}).$mount("#donation-form")}document.querySelector("#full-form")&&new o["a"]({vuetify:Ei,i18n:le,store:hr,render:function(e){return e(Ti,{})}}).$mount("#full-form"),document.querySelector("#gift-code-form")&&new o["a"]({vuetify:Ei,i18n:le,store:yr,render:function(e){return e(Lo,{})}}).$mount("#gift-code-form")},"5c2a":function(e,t,n){},6363:function(e,t,n){"use strict";var o=n("b865"),a=n.n(o);a.a},"6c3c":function(e,t,n){},"74c5":function(e,t,n){"use strict";var o=n("e1cd"),a=n.n(o);a.a},"7da7":function(e,t,n){},"84c4":function(e,t,n){"use strict";var o=n("de78"),a=n.n(o);a.a},"863f":function(e,t,n){},"8e7b":function(e,t,n){"use strict";var o=n("863f"),a=n.n(o);a.a},"8f2c":function(e,t,n){"use strict";var o=n("1fb5"),a=n.n(o);a.a},9601:function(e,t,n){"use strict";var o=n("307c"),a=n.n(o);a.a},9680:function(e,t,n){},"978b":function(e,t,n){"use strict";var o=n("7da7"),a=n.n(o);a.a},"99cc":function(e,t,n){"use strict";var o=n("1e05"),a=n.n(o);a.a},"9ecc":function(e,t,n){"use strict";var o=n("f1aa"),a=n.n(o);a.a},a339:function(e,t,n){},ac59:function(e,t,n){},b865:function(e,t,n){},cb63:function(e,t,n){"use strict";var o=n("ac59"),a=n.n(o);a.a},ce5c:function(e,t,n){"use strict";var o=n("9680"),a=n.n(o);a.a},d03e:function(e,t,n){},dadf:function(e,t,n){"use strict";var o=n("0bc8"),a=n.n(o);a.a},db3b:function(e,t,n){"use strict";var o=n("269b"),a=n.n(o);a.a},dd95:function(e,t,n){},de78:function(e,t,n){},e1cd:function(e,t,n){},f179:function(e,t,n){},f1aa:function(e,t,n){},f529:function(e,t,n){},f65e:function(e,t,n){"use strict";var o=n("555e"),a=n.n(o);a.a},fbfd:function(e,t,n){"use strict";var o=n("6c3c"),a=n.n(o);a.a},fd41:function(e,t,n){"use strict";var o=n("a339"),a=n.n(o);a.a}});
//# sourceMappingURL=app.73ab40b7.js.map