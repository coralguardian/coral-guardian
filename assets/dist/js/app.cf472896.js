(function(e){function t(t){for(var a,r,s=t[0],c=t[1],l=t[2],d=0,p=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(a=!1)}a&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},o={app:0},i=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"020d":function(e,t,n){},"021a":function(e,t,n){"use strict";var a=n("7344"),o=n.n(a);o.a},"03db":function(e,t,n){"use strict";var a=n("2949"),o=n.n(a);o.a},"090b":function(e,t,n){"use strict";n.r(t),t["default"]={coral:"coral | corals",reef:{base:"reef | reefs",lady:"Damsel Fish reef | Damsel Fish reefs",butterfly:"Butterfly Fish reef | Butterfly Fish reefs",napoleon:"Napoleon Fish reef | Napoleon Fish reefs",tooltip:"A reef is composed of several corals.<br>You can adopt a reef of 30, 75 or 150 corals."},gift:"gift",oneshot:"one-off",monthly:"monthly",ui:{continue:"Continue",previous:"Previous",through:"Next step"},rules:{required:"This field is required",minLength:"This field must be at least {count} characters long",email:"Invalid email",specialChar:"Character(s) not allowed",digitOnly:"This field must contain digits only",minValue:"This field must be superior to {min}"},stripe:{payment:{success:"Your payment has been successfully completed!",processing:"Your payment is being validated.",error:"An error has occurred, please try again.",refused:"Your payment has been declined, please try again."}},deduction:{description:"I wish to make a <b>donation</b> of {donation}‚Ç¨."},stepper:{header:{adopterType:"You are ?",adoption:"Adoption",bonusDonation:"Support our actions on a daily basis",customization:"Customisation",donation:"Donation",information:"Information",payment:"Payment",project:"Which project do you wish to support?",friend:"Your recipient",recipients:"Recipients",gift:"Gift",full:{setup:"What do you wish to do?",adoption:"What do you wish to adopt?"},customizationSend:"Customisation",thanks:"Thank you!"},adopterType:{individual:"An individual",company:"A company"},adoption:{title:"Adopt a {item} | Adopt {item}",description:"<b>For {donation}‚Ç¨</b>, contribute to bringing endangered marine ecosystems back to life.",corals:{hint:{individual:"Adopt an entire reef of 30 corals by clicking here \"<a href='/en/adopt-a-reef-individuals/'>Adopt a reef</a>\"!",company:"Adopt an entire reef of 30 corals by clicking here \"<a href='/en/adopt-a-reef-company/'>Adopt a reef</a>\"!"}},reef:{lady:{title:"Damsel Fish",description:"Damsel Fish Reef of <b>30 corals</b> (from 900‚Ç¨)"},butterfly:{title:"Butterfly Fish",description:"Butterfly Fish Reef of <b>75 corals</b> (from 2250‚Ç¨)"},napoleon:{title:"Napoleon Fish",description:"Napoleon Fish Reef of <b>150 corals</b> (from 4500‚Ç¨)"},max:"Do you wish to adopt more than {max} {item}? <a href='mailto:n.radouane@coralguardian.org'>Contact us directly</a>!"},customAmount:{label:"Amount:",hint:"The donation surplus will be used to support all of our actions."}},adoptionSetup:{error:"Please select the type of adoption."},bankTransferThanks:{title:"Your payment by bank transfer is pending.",description:"As soon as your transfer is validated, you will receive an email with a link to continue the custom adoption process.",seeYouSoon:"We'll be in touch!"},certificate:{gift:{email:"Your adoption certificate will be sent to you by email within the next 15 minutes.| Your adoption certificates will be sent to you by email within the next 15 minutes."},adoption:{email:"Your tax receipt and adoption certificate will be sent to you by email within 15 minutes. | Your tax receipt and adoption certificates will be sent to you by email within 15 minutes."}},choice:{title:"Adopt a {item}!",buttons:{me:{text:"Adopt a {item}",tooltip:"You will be able to customise the name(s) on your certificate(s) and download them directly."},friend:{text:"Adopt a {item} as a gift",tooltip:"Your recipient(s) will receive a gift code, on the date of your choice, allowing them to choose the name on their certificate(s) and download them directly."},company:"I am a company"}},customization:{title:{indonesia:"Name your {item} | Name your {item}",spain:"Customise your certificate | Customise your certificates",default:"Customise your certificate | Customise your certificates"},description:{indonesia:"Give your adopted {item} a name, you can choose the name you wish! |Give your adopted {item} a name, you can choose the names you wish",spain:"Choose the name you wish! | Choose the names you wish!"},input:{label:{indonesia:"Name of your {item} | Certificate n¬∞{number}",spain:"Customised name for your certificate | Certificate n¬∞{number}"},placeholder:{indonesia:"Name of your {item}",spain:"Name on your certificate"}},downloadCsv:{label:"By clicking on the button below, you will download a file that will allow you to customise your certificates' names.<br>Once you have filled it in, you can send the file to us by email.",btnLabel:"Download the Excel file"}},customizationSend:{message:{title:"Write a message",description:"You can write a message to your recipients.<br>This message will be common to all recipients.",placeholder:"Your message"},send:{title:"Schedule sending",description1:"You can schedule for the gift codes to be sent to your recipients at a later date. This way the email will be sent on the morning of the day you selected.",description2:"If you do not schedule the sending, the gift codes will be sent immediately after you complete the payment.",checkbox:"I wish to choose at which date my gift code is sent"}},donation:{title:{indonesia:"Support Coral Guardian",spain:"Support the project Deep CORE"},description:"Every donation counts! Take part in restoring coral reef ecosystems.",buttons:{unique:"Donate once",recurrent:"Donate monthly"}},friend:{title:"Fill in your recipient's information",form:{firstname:"First name",name:"Surname",mail:"Email",message:"Your message"}},setup:{adopt:"Adopt",offer:"Gift",donation:"Donate",tooltips:{me:"You will be able to customise the name(s) on your certificate(s) and download them directly.",recipient:"Your recipient will receive a gift code, on the date of your choice, allowing them to choose the name on their certificate(s) and download it directly.",donation:"Donate once or every month the amount of your choice."}},gift:{title:"Your gift",description:"Did someone adopt a gift for you?<br>To name it, enter the gift code you received by email.",input:{label:"Gift code",placeholder:"Your gift code"}},information:{title:"Please provide us with the following information",description:"The requested information is used for the sole purpose of editing your tax receipt.",company:{cols:{information:{companyName:"Company name*",firstname:"First name of main contact*",name:"Last name of main contact*",mail:"Email of main contact*"},contact:{address:"Head office address*"}}},cols:{information:{title:"Information",firstname:"First name",name:"Surname",mail:"Email"},contact:{title:"Billing details",address:"Address",postalCode:"Postcode",city:"Town",country:"Country"}}},monthlyDonation:{description:"Ensure the evolution of the restoration area with a monthly donation which will help us continue to protect, restore and raise awareness."},namingAdoption:{description:{indonesia:"Choose a name for your adopted {item}, you can choose the name you wish! |Choose a name for your adopted {item}, you can choose the names you wish!",spain:"Choose the name you wish! | Choose the names you wish!",company:"You have two options:"},tabs:{fields:{title:"Fill in the fields",description:{indonesia:"I enter each {item} name in the fields below:",spain:"I enter each {item} name in the fields below:"}},file:{title:"Send a file",subtitle:"I have a lot of {item} to name and would rather send a file with all the names of my {item}.",description:"Download the Excel file provided. Once completed, you can go to the address given in your confirmation email, and deposit your file in the field provided.",button:"Download the Excel file",upload:{label:"Your file",description:"Submit your completed Excel sheet with the names you have chosen here:"}}}},multipleRecipient:{description:"Fill in the details of your recipients so that they receive their respective gift codes.",company:"You have two options:",tabs:{fields:{title:"Fill in the fields",description:"I wish to fill in the details of each of my recipients in the fields below:",recipient:"Recipient n¬∞{index}"},file:{title:"Send a file",subtitle:"I would rather send a file later with the details of my recipients",description:"Download the Excel file provided. Once completed, you can go to the address given in your confirmation email, and deposit your file in the field provided for this purpose.",button:"Download the file",upload:{label:"Your file",description:"Upload your recipient Excel file here:"}}}},payment:{methods:{card:{tab:"Card",button:"I wish to pay by card"},bank:{tab:"Bank transfer",button:"Download the bank details",description:"To pay by bank transfer, download our bank details and make the payment via your bank.",hint:"A processing time of 2 to 5 days is to be expected while we validate your payment. Once validated, you will receive an email allowing you to continue your order."}},donation:{description:"To complete your adoption, support our daily actions with an optional monthly donation <b>from 2‚Ç¨</b>!",label:"My monthly donation"},title:"Proceed to payment",description:"The payment is secured through the Stripe payment module üîí",important:"IMPORTANT: when validating your payment on your bank's mobile application, the amount displayed will be 0‚Ç¨. This is a request for bank pre-authorization but the amount debited corresponds to the total amount of your order indicated above.",reminder:{title:"Review your donation",adoption:{description:{indonesia:"{count} adopted {item} on Hatamin island in the Indo-Pacific : {price}‚Ç¨ | {count} adopted {item} on Hatamin island in the Indo-Pacific : {price}‚Ç¨",spain:"{count} adopted {item} at Punta de la Mona in the Mediterranean: {price}‚Ç¨ | {count} adopted {item} at Punta de la Mona in the Mediterranean: {price}‚Ç¨"}},donation:{description:"Your {item} donation will help us continue all of our actions."}},errors:{card:"Please provide your payment details"}},project:{spain:"Mediterranean Sea, Spain",indonesia:"Flores Sea, Indonesia",tooltips:{spain:"üìç At Punta de la Mona, in Spain<br>ü§ù In collaboration with the local nonprofit Coral Soul<br>‚ö†Ô∏è High levels of pollution in the Mediterranean<br>üåä Actions to restore the coral ecosystem, clean the seabed, monitor and analyse the area scientifically, and raise local awareness",indonesia:"üìç At Pulau Hatamin, in Indonesia<br>ü§ù In collaboration with the local nonprofit WES<br>‚ö†Ô∏è Dynamite fishing<br>üåä Coral reef restoration actions, protection of the marine protected area, scientific monitoring of the area, and raise local awareness"}},finalAdoption:{title:"Congratulations and thank you, you have adopted {count} {item}",description:"Your tax receipt and adoption certificate have been sent by email. You can also download them directly by clicking <a href='{link}' target='_blank'>here</a>.| Your tax receipt and adoption certificates have been sent to you by email. You can also download them directly by clicking <a href='{link}' target='_blank'>here</a>.",description_no_certif:"Your tax receipt has been sent to you by email.  You will receive your adoption certificates once you have sent us your file with the names you wish to give your corals.| Your tax receipt has been sent to you by email. You will receive your adoption certificates once you have sent us your file with the names you wish to give your corals.",description_file:"Your tax receipt has been sent by email.<br>You have chosen to send us the name of your {item} using the file provided. Your tax receipt has been sent by email. You have chosen to send us the names of your {item} using the file provided. Once you have completed it, you can send it back to us at the address given in the confirmation email you have just received."},finalFriendAdoption:{title:"Congratulations and thank you, you have adopted {count} {item} for your recipient",description:"Your tax receipt has been sent to you by email. <br><br>Your recipient's gift code is: {orderToken}.<br><br>Your recipient will receive an email to customise their adoption certificate!"},finalFriendGift:{title:"Congratulations and thank you, you have adopted {count} {item}",description:"Your certificate of adoption has been sent to you by email. You can also download it directly by clicking <a href='{link}' target='_blank'>here</a>.| Your adoption certificates have been sent to you by email. You can also download them directly by clicking <a href='{link}' target='_blank'>here</a>.",descriptionNoEmail:"You can download your certificate directly by clicking <a class='font-weight-bold text-decoration-underline' href='{link}' target='_blank'>here</a>."},finalDonation:{title:"Congratulations and thanks for your support",description:"Your tax receipt will be sent to you by email.<br><br>Do you wish to receive news of all our actions and projects? Subscribe to our newsletter right <a href='/en/newsletter-coral-guardian/'>here</a>!<br>For any question, write to us at <a href='mailto:info@coralguardian.org'>info@coralguardian.org</a>",bankTransfer:"Your transfer is pending. Once validated, you will receive an email with your tax receipt."},finalRecurrentDonation:{title:"Congratulations and thank you for your monthly donation",description:"Your tax receipt summarising all your donations for the current fiscal year will be sent to you by email next January.<br><br>Do not hesitate to subscribe to our newsletter <a href='/en/newsletter-coral-guardian/'>here</a> to receive news on the progress of our projects every month."},finalRecipient:{title:"Congratulations and thank you, you have made a gift of {count} {item}",description:{base:"Your tax receipt has been sent to you by email.<br>The gift codes have been sent to your recipients.",sendToMe:"Your tax receipt has been sent to you by email as well as your gift codes.<br>Your recipients will be able to customise their gift on our website!",scheduled:"Your tax receipt has been sent to you by email.<br>The gift codes will be sent to your recipients on your chosen date!"},description2:"If you have chosen to send us the names of your recipients using the file provided, you can fill it in and send it back to us at the address indicated in the confirmation email you just received."}},errors:{base:"An error occurred, please try again later.",already_named:"This code has already been used to name the adopted {item}.",order_incompatible_type:"This code doesn't seem to correspond to the related adoption.",invalid_type:"This code does not correspond to any coral adoption.",download_file:"Please download the file before continuing.",wrong_token:"The order number appears to be invalid. If the problem persists, please contact us directly.",select_date:"Please select a date if you wish to specify the sending date.",incorrect_file_data:"The data in the file seems incorrect, please check your information and try again.",code_not_found:"The gift code seems to be invalid. If the problem persists, please contact us directly.",adoption_not_found:"An error occurred while retrieving your adoption, please contact us directly."},donation:{monthly:{description:"Support our daily actions for coral reefs with a monthly donation!"},dialog:{activation:"Why donate monthly?",title:"How are your donations used?",button:"Back",chart:{description:"If each person who adopts a coral donated 2‚Ç¨ per month to Coral Guardian, it would allow us to continue our various conservation, awareness and scientific monitoring activities for years.",labels:{program:"Marine conservation programmes",awareness:"Outreach programmes",science:"Research",communication:"Communication",fundraisingCosts:"Fundraising costs",managementCosts:"Administration fees"}}}},newsletter:{title:"Subscribe to our newsletter",description:{adoption:"Receive news linked to your adoption and on the progress of Coral Guardian's projects.",other:"Receive monthly updates on the progress of our projects."},label:{adoption:"I would like to subscribe to news linked to my adoption.",other:"I would like to subscribe to Coral Guardian's monthly newsletter."},otherEmail:{description:"If you wish to sign up with <b>another email address</b> than the one entered in the form, please fill in the field below.",email:"Email"}},giftCustom:{title:"Gift code sending options*",radios:{dont:"I wish to receive the gift code(s) on my email address",send:"I want to fill in the email addresses of the recipient(s) so that they receive their code directly (importing a contact file is possible)"}}}},"0ba3":function(e,t,n){},"0ed7":function(e,t,n){},"0f5c":function(e,t,n){},1838:function(e,t,n){"use strict";var a=n("0f5c"),o=n.n(a);o.a},1968:function(e,t,n){"use strict";var a=n("c962"),o=n.n(a);o.a},1993:function(e,t,n){"use strict";var a=n("ae22"),o=n.n(a);o.a},"19be":function(e,t,n){"use strict";var a=n("9ccd"),o=n.n(a);o.a},"1dc6":function(e,t,n){"use strict";var a=n("53bb"),o=n.n(a);o.a},"267d":function(e,t,n){"use strict";var a=n("8c6c"),o=n.n(a);o.a},"285e":function(e,t,n){"use strict";var a=n("020d"),o=n.n(a);o.a},2906:function(e,t,n){"use strict";var a=n("a6bf"),o=n.n(a);o.a},2949:function(e,t,n){},"32d0":function(e,t,n){"use strict";var a=n("ff45"),o=n.n(a);o.a},"39c9":function(e,t,n){"use strict";var a=n("bedd"),o=n.n(a);o.a},"3c61":function(e,t,n){},4790:function(e,t,n){var a={"./en.js":"090b","./fr.js":"4b7f"};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=i,e.exports=o,o.id="4790"},"4b5e":function(e,t,n){},"4b7f":function(e,t,n){"use strict";n.r(t),t["default"]={coral:"corail | coraux",reef:{base:"r√©cif | r√©cifs",lady:"r√©cif Demoiselle Bleue | r√©cifs Demoiselle Bleue",butterfly:"r√©cif Poisson-papillon | r√©cifs Poisson-papillon",napoleon:"r√©cif Napol√©on | r√©cifs Napol√©on",tooltip:"Un r√©cif est compos√© de plusieurs coraux.<br>Vous pourrez adopter un r√©cif de 30, 75 ou 150 coraux."},gift:"cadeau",oneshot:"ponctuel",monthly:"mensuel",ui:{continue:"Continuer",previous:"Pr√©c√©dent",through:"Passer cette √©tape"},rules:{required:"Ce champ est requis.",minLength:"Ce champ doit comporter {count} caract√®res minimum.",email:"Email non valide",specialChar:"Caract√®re(s) non admis.",digitOnly:"Ce champ ne doit comporter que des chiffres.",minValue:"Ce champ doit √™tre sup√©rieur √† {min}."},stripe:{payment:{success:"Votre paiement a √©t√© r√©alis√© avec succ√®s !",processing:"Votre paiement est en cours de validation.",error:"Une erreur est survenue, veuillez r√©essayer.",refused:"Votre paiement a √©t√© refus√©, veuillez r√©essayer."}},breadcrumb:{base:"Merci ! Vous souhaitez <b>{type}</b> un corail ou un r√©cif.",project:"Merci ! Vous souhaitez <b>{type}</b> un corail ou un r√©cif en <b>{project}</b>.",product:"Merci ! Vous souhaitez <b>{type}</b> un <b>{product}</b> en <b>{project}</b>.",price:"Merci ! Vous souhaitez <b>{type} {quantity} {product}</b> en <b>{project}</b> pour <b>{price}‚Ç¨</b>.",monthlyDonation:"Vous avez g√©n√©reusement ajout√© un <b>don mensuel de {donation}‚Ç¨</b>.",types:{regular:"adopter",gift:"offrir"}},share:"Partagez sur",deduction:{description:"Je fais <b>un don</b> de {donation} ‚Ç¨,<b>soit {deduction }‚Ç¨</b> apr√®s d√©duction fiscale en France."},stepper:{header:{adopterType:"Vous √™tes ?",adoption:"Adoption",bonusDonation:"Soutenez nos actions au quotidien",customization:"Personnalisation",donation:"Don",information:"Informations",payment:"Paiement",project:"Quel projet souhaitez-vous soutenir ?",friend:"Votre destinataire",recipients:"Destinataires",gift:"Cadeau",full:{setup:"Que souhaitez-vous faire ?",adoption:"Que souhaitez-vous adopter ?"},customizationSend:"Personnalisez votre envoi",thanks:"Merci !"},adopterType:{individual:"Un particulier",company:"Une entreprise"},adoption:{title:"Choisissez un nombre de {item}",description:"Vous redonnez vie aux √©cosyst√®mes marins en danger si vous faites un <b>don</b> de {donation} ‚Ç¨, <b>soit {reducedPrice} ‚Ç¨</b> apr√®s d√©duction fiscale en France.",corals:{hint:{individual:"Adopter un r√©cif entier √† partir de 30 coraux sur notre page d√©di√©e \"<a href='/adopter-un-recif-particuliers/'>Adopter un r√©cif</a>\" !",company:"Adopter un r√©cif entier √† partir de 30 coraux sur notre page d√©di√©e \"<a href='/adoptez-un-recif-entreprises/'>Adopter un r√©cif</a>\" !"}},reef:{lady:{title:"Demoiselle Bleue",description:"R√©cif Demoiselle Bleue de <b>30 coraux</b> (base de 900‚Ç¨)"},butterfly:{title:"Poisson-papillon",description:"R√©cif Poisson-papillon de <b>75 coraux</b> (base de 2250‚Ç¨)"},napoleon:{title:"Napol√©on",description:"R√©cif Napol√©on de <b>150 coraux</b> (base de 4500‚Ç¨)"},max:"Vous souhaitez adopter plus de {max} {item} ?<br><a href='mailto:n.radouane@coralguardian.org'>Contactez-nous directement</a> !"},customAmount:{label:"Montant",hint:"Le surplus de don sera utilis√© pour soutenir l'ensemble de nos actions."},quantity:{label:"Quantit√©",hint:"Le surplus de don sera utilis√© pour soutenir l'ensemble de nos actions."}},adoptionSetup:{error:"Veuillez s√©lectionner un type d'adoption."},bankTransferThanks:{hint:"Votre paiement par virement est en attente",description:"D√®s que votre virement sera valid√©, vous recevrez un email contenant un lien vous permettant de continuer le processus d'adoption personnalis√©.",seeYouSoon:"√Ä tr√®s vite !"},bonusDonation:{title:"Optionnel : Soutenez nos actions au quotidien"},certificate:{gift:{email:"Votre certificat d'adoption vous sera envoy√© par email d'ici une quinzaine de minutes.| Vos certificats d'adoption vous seront envoy√©s par email d'ici une quinzaine de minutes."},adoption:{email:"Votre re√ßu fiscal et votre certificat d'adoption vous seront envoy√©s par email d'ici une quinzaine de minutes. | Votre re√ßu fiscal et vos certificats d'adoption vous seront envoy√©s par email d'ici une quinzaine de minutes."}},choice:{title:"C‚Äôest parti pour adopter un {item} !",buttons:{me:{text:"J'adopte un {item}",tooltip:"Vous pourrez choisir le(s) nom(s) sur votre certificat(s) et le(s) t√©l√©charger directement."},friend:{text:"J'offre l'adoption d'un {item}",tooltip:"Votre destinataire recevra un code cadeau, √† la date de votre choix, lui permettant de choisir le nom sur leur(s) certificat(s) et le(s) t√©l√©charger directement."},company:"Je suis une entreprise"}},customization:{title:{indonesia:"Nommez votre {item} | Nommez vos {item}",spain:"Personnalisez votre certificat | Personnalisez vos certificats",default:"Personnalisez votre certificat | Personnalisez vos certificats"},description:{indonesia:"Donnez un nom √† votre {item} adopt√©, vous pouvez choisir celui que vous souhaitez ! |Donnez un nom √† chacun de vos {item} adopt√©s, vous pouvez choisir ceux que vous souhaitez !",spain:"Vous pouvez choisir le nom que vous souhaitez ! | Vous pouvez choisir les noms que vous souhaitez !"},input:{label:{indonesia:"Nom de votre {item} | Certificat n¬∞{number}",spain:"Nom personnalis√© de votre certificat | Certificat n¬∞{number}"},placeholder:{indonesia:"Nom de votre {item}",spain:"Nom de votre certificat"}},downloadCsv:{label:"En cliquant sur le bouton suivant vous pourrez t√©l√©charger un fichier Excel afin de personnaliser les noms sur vos certificats.<br>Une fois rempli vous pourrez nous le renvoyer par email.",btnLabel:"T√©l√©charger votre fichier Excel"}},customizationSend:{message:{description:"Vous pouvez √©crire un message <b>commun</b> √† l'intention de vos destinataires.",placeholder:"Votre message"},send:{description:"Vous avez la possibilit√© de programmer l'envoi des bons cadeaux √† vos destinataires √† une date ult√©rieure. L'email sera envoy√© le matin du jour s√©lectionn√©. <br>Si vous ne programmez pas l'envoi, les codes cadeaux seront envoy√©s √† la fin de votre commande.",checkbox:"Programmez votre envoi"}},donation:{title:{indonesia:"Soutenez Coral Guardian",spain:"Soutenez le projet Deep CORE"},description:"Si vous le pouvez, privil√©giez le don mensuel m√™me modeste √† un don ponctuel plus important afin de nous aider √† planifier nos actions dans le temps.",buttons:{unique:"Je donne une fois",recurrent:"Je donne tous les mois"},i_want:"Je souhaite donner",select_duration:{unique:"une fois",recurrent:"tous les mois"},amount:"pour un montant de",other_amount:"autre"},friend:{title:"Renseignez les informations de votre destinataire",form:{firstname:"Pr√©nom",name:"Nom",mail:"Email",message:"Votre message"}},setup:{adopt:"J'adopte",offer:"J'offre",donation:"Je fais un don",tooltips:{me:"Vous pourrez choisir le(s) nom(s) sur votre certificat(s) et le(s) t√©l√©charger directement.",recipient:"Votre destinataire(s) recevra un code cadeau, √† la date de votre choix, lui permettant de choisir le nom sur leur(s) certificat(s) et le(s) t√©l√©charger directement.",donation:"Je donne une fois ou tous les mois le montant de mon choix."},switch:{donation:"Vous pouvez aussi faire un don",individual:"Vous √™tes un particulier ?",company:"Vous √™tes une entreprise ?"}},gift:{title:"Votre cadeau",description:"Pour adopter votre cadeau et lui donner un nom, saisissez votre code cadeau re√ßu par email.",input:{label:"Code cadeau",placeholder:"Votre code cadeau"}},information:{title:"Renseignez vos informations",description:"Les informations demand√©es sont utilis√©es pour √©diter votre re√ßu fiscal et pour proc√©der au paiement.",company:{cols:{information:{siret:"Num√©ro SIRET",companyName:"Nom de l'entreprise*",firstname:"Pr√©nom du contact principal*",name:"Nom du contact principal*",mail:"Email du contact principal*"},contact:{address:"Adresse du si√®ge*"}}},cols:{information:{title:"Informations",firstname:"Pr√©nom*",name:"Nom*",mail:"Email*"},contact:{title:"Coordonn√©es",address:"Adresse*",postalCode:"Code postal*",city:"Commune*",country:"Pays*"}}},monthlyDonation:{description:"Assurez la poursuite de nos actions de recherche, de restauration et de sensibilisation au quotidien avec un don mensuel."},namingAdoption:{no_idea:{individual:"Je n'ai pas d'inspiration, je choisirais donc plus tard.",company:"Je n'ai pas d'inspiration, je choisirais donc plus tard. L'importation d'un fichier excel sera possible."},description:{indonesia:"Donnez un nom √† votre {item} adopt√©, vous pouvez choisir celui que vous souhaitez ! |Donnez un nom √† chacun de vos {item} adopt√©s, vous pouvez choisir ceux que vous souhaitez !",spain:"Vous pouvez choisir le nom que vous souhaitez ! | Vous pouvez choisir les noms que vous souhaitez !",company:"Deux solutions s'offrent √† vous :"},tabs:{fields:{title:"Je remplis les champs"},file:{title:"J'envoie un fichier",description:"Si vous avez beaucoup de {item} √† nommer, t√©l√©chargez le fichier Excel ci-dessous.\nUne fois d√ªment rempli, rendez-vous sur l‚Äôadresse communiqu√©e dans l‚Äôemail de confirmation que vous allez recevoir et importez le fichier.",button:"T√©l√©charger le fichier Excel",upload:{label:"Votre fichier",description:"D√©posez votre fichier Excel de noms compl√©t√© ici :"}}}},multipleRecipient:{title:"√Ä qui offrez-vous le {item} | √Ä qui offrez-vous les {item}",description:"Renseignez les coordonn√©es de vos destinataires afin qu'ils re√ßoivent leur code cadeau respectif.",company:"Deux solutions s'offrent √† vous :",tabs:{fields:{title:"Je remplis les champs",description:"Je renseigne les coordonn√©es de chacun de mes destinataires dans les champs ci-dessous :",recipient:"Destinataire n¬∞{index}"},file:{title:"J'envoie un fichier",subtitle:"J'envoie un fichier avec les coordonn√©es de mes destinataires",description:"Je t√©l√©charge le fichier Excel mis √† ma disposition. Une fois rempli, je me rends √† l'adresse communiqu√©e dans le mail de confirmation re√ßu et je d√©pose mon fichier dans le champ pr√©vu √† cet effet.",button:"T√©l√©charger le fichier",upload:{label:"Votre fichier",description:"D√©posez votre fichier Excel de destinataires ici :"}}}},payment:{methods:{card:{tab:"Carte",button:"Je souhaite payer par carte"},bank:{tab:"Virement",title:"T√©l√©charger le RIB de Coral Guardian",description:"Proc√©dez ensuite au paiement via votre √©tablissement bancaire.",hint:"Un d√©lai de traitement de 2 √† 5 jours est √† pr√©voir le temps de valider le paiement. Une fois valid√©, vous recevrez un email vous permettant de continuer votre commande."}},donation:{description:"Pour accompagner votre adoption, soutenez nos actions au quotidien avec un don mensuel optionnel <b>√† partir de 2‚Ç¨</b> !",label:"Mon don mensuel"},title:"Enfin, proc√©dez au paiement <span class='font-weight-regular cg-base-text'>(s√©curis√© avec Stripe)</span>",important:"<b>Important</b> : lors de la validation de votre r√®glement sur l'application mobile de votre banque, le montant affich√© sera de 0‚Ç¨. \nIl s'agit d'une demande de pr√©-autorisation bancaire mais le montant pr√©lev√© correspond bien au montant total de votre commande indiqu√© ci-dessus.",reminder:{donation:{description:"Un don {item} : {price}‚Ç¨"}},errors:{card:"Veuillez renseigner les informations de votre carte bancaire."}},project:{spain:"Mer M√©diterran√©e, Espagne",indonesia:"Mer de Flores, Indon√©sie",tooltips:{spain:"üìç √Ä Punta de la Mona, en Espagne<br>ü§ù En collaboration avec l‚Äôassociation locale Coral Soul<br>‚ö†Ô∏è La pollution en M√©diterran√©e<br>üåä Actions de restauration des fonds coralliens, nettoyage des fonds marins, suivis et analyses scientifiques de la zone, et sensibilisation locale",indonesia:"üìç √Ä Pulau Hatamin, en Indon√©sie<br>ü§ù En collaboration avec l‚Äôassociation locale WES<br>‚ö†Ô∏è La p√™che √† la dynamite<br>üåä Actions de restauration du r√©cif corallien, protection de l‚Äôaire marine prot√©g√©e, suivis scientifiques de la zone, et sensibilisation locale"}},finalStep:{title:"Bravo et merci !"},finalAdoption:{hint:"Vous avez adopt√© {count} {item} !",download:"T√©l√©chargez le certificat | T√©l√©chargez les certificats",download_description:"Vous pouvez aussi directement t√©l√©charger votre certificat. | Vous pouvez aussi directement t√©l√©charger vos certificats.",description_not_named:"Votre re√ßu fiscal a √©t√© envoy√© par email. Pour obtenir votre certificat, nommez votre {item} via le lien pr√©sent dans l'email que vous allez recevoir.| Votre re√ßu fiscal a √©t√© envoy√© par email. Pour obtenir vos certificats, nommez vos {item} via le lien pr√©sent dans l'email que vous allez recevoir."},finalFriendGift:{title:"Bravo et merci, vous avez adopt√© {count} {item}",description:"Vous pouvez aussi directement le t√©l√©charger en cliquant <a class='font-weight-bold text-decoration-underline' href='{link}' target='_blank'>ici</a>.| Vous pouvez aussi directement les t√©l√©charger en cliquant <a class='font-weight-bold text-decoration-underline' href='{link}' target='_blank'>ici</a>.",descriptionNoEmail:"Vous pouvez t√©l√©charger votre certificat directement en cliquant <a class='font-weight-bold text-decoration-underline' href='{link}' target='_blank'>ici</a>."},finalDonation:{hint:"Vous avez fait un don de {price}‚Ç¨",title:"Bravo et merci pour votre soutien",description:"Votre re√ßu fiscal a √©t√© envoy√© par email.",bankTransfer:"Votre virement est en attente de r√©ception. Une fois celui-ci valid√©, vous recevrez un email contenant votre re√ßu fiscal."},finalRecurrentDonation:{title:"Bravo et merci pour votre don mensuel",description:"Votre re√ßu fiscal r√©capitulant l‚Äôensemble de vos dons de l‚Äôann√©e fiscale en cours vous sera envoy√© par email au mois de janvier prochain."},finalRecipient:{hint:"Vous avez offert {count} {item} !",description:{base:"Votre re√ßu fiscal vous a √©t√© envoy√© par email.<br>Les codes cadeaux ont √©t√© envoy√©s √† vos destinataires.",later:"Votre re√ßu fiscal vous a √©t√© envoy√© par email.<br>Pour renseigner les informations de vos destinataires et leur permettre de recevoir leur code cadeaux, suivez le lien pr√©sent dans l'email.",sendToMe:"Votre re√ßu fiscal a √©t√© envoy√© par email ainsi que l'ensemble des codes cadeaux.<br>En se rendant sur le site Coral Guardian, vos destinataires pourront personnaliser leur cadeau !",scheduled:"Votre re√ßu fiscal vous a √©t√© envoy√© par email.<br>Les codes cadeaux seront envoy√©s √† vos destinataires √† la date programm√©e."},description2:"Si vous avez choisi de nous faire parvenir les noms de vos destinataires gr√¢ce au fichier √† disposition, vous pouvez le remplir et nous le renvoyer √† l'adresse inscrite dans l'email de confirmation que vous venez de recevoir."}},errors:{base:"Une erreur est survenue, veuillez r√©essayer ult√©rieurement.",already_named:"Ce code a d√©j√† √©t√© utilis√©.",order_incompatible_type:"Ce code ne semble pas correspondre √† l'adoption souhait√©e.",invalid_type:"Ce code ne correspond √† aucune commande.",download_file:"Veuillez t√©l√©charger le fichier avant de continuer.",wrong_token:"Le num√©ro de commande semble invalide. Si le probl√®me persiste, veuillez nous contacter directement.",select_date:"Veuillez s√©lectionner une date si vous souhaitez pr√©ciser la date d'envoi.",incorrect_file_data:"Les donn√©es du fichier semblent incorrectes, veuillez v√©rifier vos informations et r√©essayer.",code_not_found:"Le code cadeau semble invalide. Si le probl√®me persiste, veuillez nous contacter directement.",adoption_not_found:"Une erreur est survenue lors de la r√©cup√©ration de votre adoption, veuillez nous contacter directement."},donation:{monthly:{description:"Continuez √† soutenir nos actions au quotidien pour les oc√©ans avec un don mensuel !"},dialog:{activation:"√Ä quoi sert votre don ?",title:"Comment sont utilis√©s vos dons √† Coral Guardian ?",button:"J'ai compris",chart:{description:"Si chaque personne qui adopte un corail faisait don de 2‚Ç¨ par mois √† Coral Guardian, cela nous permettrait de faire prosp√©rer nos diff√©rentes actions de conservation, de sensibilisation, et de suivis scientifiques pendant des ann√©es.",labels:{program:"Programmes de conservation marine",awareness:"Sensibilisation",science:"Recherche",communication:"Communication",fundraisingCosts:"Frais de d√©veloppement",managementCosts:"Frais d'administration"}}}},newsletter:{title:"Petit bonus : inscrivez-vous √† notre newsletter !",description:{adoption:"Recevez des nouvelles li√©es √† votre adoption et de l'avanc√©e des projets de Coral Guardian.",other:"Recevez des nouvelles de l'avanc√©e de nos projets tous les mois."},label:{adoption:"Je souhaite m'inscrire aux nouvelles envoy√©es par Coral Guardian.",other:"Je souhaite m'inscrire √† la newsletter mensuelle de Coral Guardian."},otherEmail:{description:"Si vous souhaitez vous inscrire avec <b>une autre adresse email</b> que celle renseign√©e dans le formulaire, merci de renseigner le champ ci-dessous.",email:"Email"}},giftCustom:{title:"Options d'envoi des codes cadeaux*",radios:{dont:"Je souhaite recevoir le(s) code(s) cadeau(x) sur mon adresse email",send:{individual:"Je souhaite renseigner les adresses emails du ou des destinataire(s) afin qu'il(s) re√ßoive(nt) leur code directement.",company:"Je souhaite renseigner les adresses emails du ou des destinataire(s) afin qu'il(s) re√ßoive(nt) leur code directement (l'import d'un fichier de contact est possible)."},later:"Je souhaite renseigner les adresses emails de mes destinataires plus tard."}}}},"4ec4":function(e,t,n){},"52ee":function(e,t,n){},"53bb":function(e,t,n){},"555e":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("base-form",e._b({},"base-form",e.form,!1))],1)},i=[],r=n("5530"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex justify-center"},[n("div",{staticClass:"form-container"},[n("transition",{attrs:{name:"fade"}},[e.displayAlert?n("v-alert",{staticClass:"tooltip white--text",attrs:{color:"red",dismissible:""}},[e._v(e._s(e.$t(e.alert,{singular:e.singular}))+" ")]):e._e()],1),n("v-tabs",{directives:[{name:"show",rawName:"v-show",value:"ChoiceStep"!==e.currentStep.component,expression:"currentStep.component !== 'ChoiceStep'"}],attrs:{value:e.stepNumber,"background-color":"primary",grow:"",centered:"","center-active":"","active-class":"step-active","hide-slider":""}},e._l(e.tabs,(function(t,a){return n("v-tab",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"tab.visible"}],key:a,staticClass:"text-no-transform",class:t.class?t.class:"",attrs:{disabled:""}},[t.title?n("span",[e._v(e._s(e.$t(t.title)))]):e._e()])})),1),n("v-tabs-items",{attrs:{value:e.stepNumber,touchless:""}},e._l(e.steps,(function(t,a){return n("v-tab-item",{key:a},[n("step",{class:t.classes,attrs:{title:t.title,"is-singular":t.singularTitle,"is-specific":t.specificTitle,id:t.component}},[t.component===e.currentStep.component&&a===e.stepNumber?n(t.component,e._b({tag:"component"},"component",t.props,!1)):e._e()],1)],1)})),1),"ChoiceStep"!==e.currentStep.component?n("form-footer",{attrs:{destroy:!1}}):e._e()],1)])},c=[],l=(n("a623"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-stepper-footer d-flex",class:{"justify-end":!e.displayPreviousButton,"justify-space-between":e.displayPreviousButton,"flex-column":e.windowWidth<=600}},[e.displayPreviousButton?n("v-btn",{staticClass:"cg-btn previous",attrs:{elevation:"0"},on:{click:e.previousStep}},[n("v-icon",{attrs:{color:"primary"}},[e._v(" mdi-arrow-left ")]),e._v(" "+e._s(e.$t("default.ui.previous"))+" ")],1):e._e(),e.currentStep.ignorable?n("v-btn",{staticClass:"ignore-button",attrs:{depressed:"",color:"transparent"},on:{click:e.ignoreStep}},[e._v(" "+e._s(e.$t("default.ui.through"))+" ")]):e._e(),e.currentStep.isLast?e._e():n("v-btn",{staticClass:"cg-btn",class:{"align-self-end":!e.displayPreviousButton},attrs:{elevation:"0",color:"primary",loading:e.isLoading,rounded:""},on:{click:e.validate}},[e._v(" "+e._s(e.$t("default.ui.continue"))+" ")])],1)}),u=[],d=(n("a9e3"),n("2f62")),p={data:function(){return{windowWidth:null}},mounted:function(){this.windowWidth=window.innerWidth}},m={name:"form-footer",mixins:[p],data:function(){return{isLoading:!1,customPreviousHide:!1}},props:{offset:{type:Number,default:400},destroy:{type:Boolean,default:!0}},computed:Object(r["a"])(Object(r["a"])({},Object(d["c"])({step:"step",stepCount:"stepCount",currentStep:"getCurrentStep",isFormInitialized:"isInitialized"})),{},{displayPreviousButton:function(){return this.step>1&&!1!==this.currentStep.back&&!this.customPreviousHide}}),methods:Object(r["a"])(Object(r["a"])({},Object(d["b"])({incrementStep:"incrementStep",decrementStep:"decrementStep",initializeForm:"initializeForm"})),{},{validate:function(){this.currentStep.validate?(this.isLoading=!0,this.$root.$emit(this.currentStep.component+"Validation",this.currentStep.customValidation)):(this.customPreviousHide=!1,this.nextStep())},ignoreStep:function(){this.$root.$emit("ignoreStep")},clearEvents:function(){this.destroy&&(this.$root.$off("StepValid"),this.$root.$off("ApiValid"),this.$root.$off("IsLoaded"),this.$root.$off("hidePreviousButton"))},previousStep:function(){this.clearEvents(),this.decrementStep()},nextStep:function(){var e=this;this.clearEvents(),this.incrementStep().then((function(){e.customPreviousHide=!1,e.isLoading=!1}))}}),mounted:function(){var e=this;this.isFormInitialized?setTimeout((function(){e.$vuetify.goTo("#"+e.currentStep.component,{offset:e.windowWidth<=600?200:300})}),200):this.initializeForm(),this.$root.$on("StepValid",(function(){e.currentStep.api?e.$root.$emit(e.currentStep.component+"Api"):e.nextStep()})),this.$root.$on("ApiValid",(function(){e.nextStep()})),this.$root.$on("IsLoaded",(function(){e.displayPreviousButton&&(e.customPreviousHide=!1),e.isLoading=!1})),this.$root.$on("hidePreviousButton",(function(){return e.customPreviousHide=!0}))}},f=m,h=(n("39c9"),n("2877")),b=n("6544"),v=n.n(b),y=n("8336"),g=n("132d"),_=Object(h["a"])(f,l,u,!1,null,"21d57d4e",null),j=_.exports;v()(_,{VBtn:y["a"],VIcon:g["a"]});var O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-step cbo-smoothscroll mt-3",attrs:{id:e.id}},[e.step.displayBreadcrumb?n("text-breadcrumb"):e._e(),e.step.title?n("h3",{staticClass:"cg-title"},[e.isSpecific?n("span",{domProps:{innerHTML:e._s(e.$tc(e.step.title,e.count,e.specific))}}):e.isSingular?n("span",{domProps:{innerHTML:e._s(e.$tc(e.step.title,e.count,e.singular))}}):n("span",{domProps:{innerHTML:e._s(e.$tc(e.step.title,e.count,e.translation))}})]):e._e(),e._t("default")],2)},$=[],x={computed:Object(r["a"])(Object(r["a"])({},Object(d["c"])({order:"getOrder",defaultTranslation:"getDefaultTranslation",specificTranslation:"getSpecificTranslation"})),{},{count:function(){return this.order.quantity},translation:function(){return{item:this.$tc(this.defaultTranslation,this.count)}},singular:function(){return{item:this.$tc(this.defaultTranslation,1)}},plural:function(){return{item:this.$tc(this.defaultTranslation,2)}},specific:function(){return{item:this.$tc(this.specificTranslation,this.count)}}})},w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"cg-base-text text-breadcrumb",domProps:{innerHTML:e._s(e.fullText)}})},S=[],C={name:"text-breadcrumb",computed:Object(r["a"])(Object(r["a"])({},Object(d["c"])({order:"getOrder",adopter:"getAdopter",project:"getProject",donation:"getDonation",productTranslation:"getDefaultTranslation"})),{},{fullText:function(){if(this.order.price){var e=this.$t("default.breadcrumb.price",{type:this.$t("default.breadcrumb.types."+this.order.type),project:this.$t("default.stepper.project."+this.project),product:this.$tc(this.productTranslation,this.order.quantity),price:this.order.price,quantity:this.order.quantity});return this.donation.price>0&&(e+="<br>"+this.$t("default.breadcrumb.monthlyDonation",{donation:this.donation.price})),e}return this.order.productType?this.$t("default.breadcrumb.project",{type:this.$t("default.breadcrumb.types."+this.order.type),project:this.$t("default.stepper.project."+this.project),product:this.$tc(this.productTranslation,1)}):this.project?this.$t("default.breadcrumb.project",{type:this.$t("default.breadcrumb.types."+this.order.type),project:this.$t("default.stepper.project."+this.project)}):this.order.type?this.$t("default.breadcrumb.base",{type:this.$t("default.breadcrumb.types."+this.order.type)}):""}})},k=C,F=(n("9467"),Object(h["a"])(k,w,S,!1,null,"ba167a80",null)),T=F.exports,P=n("d4ec"),E=n("bee2"),V=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,u=!(arguments.length>9&&void 0!==arguments[9])||arguments[9],d=arguments.length>10&&void 0!==arguments[10]&&arguments[10];Object(P["a"])(this,e),this.title=t,this.number=n,this.component=a,this.display=o,this.validate=i,this.ignorable=r,this.customValidation=s,this.displayBreadcrumb=c,this.api=l,this.back=u,this.isLast=d}return Object(E["a"])(e,[{key:"evaluate",value:function(){return!0}}]),e}(),A={name:"step",components:{TextBreadcrumb:T},mixins:[x],props:{id:{type:String,default:""},isSingular:{type:Boolean,default:!1},isSpecific:{type:Boolean,default:!1},step:{type:V,required:!0}}},z=A,D=(n("7805"),Object(h["a"])(z,O,$,!1,null,"0f51e438",null)),I=D.exports,N={me:0,friend:1,offered:2,reef:{lady:{baseElementPrice:900,specificType:"reef.lady"},butterfly:{baseElementPrice:2250,specificType:"reef.butterfly"},napoleon:{baseElementPrice:4500,specificType:"reef.napoleon"}}},M=N,q={data:function(){return{adoptionConstants:{me:M.me,friend:M.friend,offered:M.offered},reef:M.reef}}},L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("hint",{staticClass:"mb-10"},[n("p",{staticClass:"cg-base-text",domProps:{innerHTML:e._s(e.description)}})]),n("v-form",{ref:e.formRefName,model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("adoption-count-block")],1)],1)},R=[],B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("hint"),n("adoption-count-block")],1)},U=[],H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.alert?n("hint",{staticClass:"my-2",attrs:{type:"danger"}},[n("p",{staticClass:"cg-base-text",domProps:{innerHTML:e._s(e.alert)}})]):e._e(),n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("text-input",{attrs:{value:e.order.quantity,label:e.$t("default.stepper.adoption.quantity.label"),type:"number",min:1,max:e.max,rules:[e.rules.minValue,e.rules.required]},on:{input:function(t){return e.updateQuantity(t)}}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("custom-amount",{ref:"customAmount",attrs:{minAmount:e.order.price},on:{input:e.updateCustomAmount},model:{value:e.order.price,callback:function(t){e.$set(e.order,"price",t)},expression:"order.price"}})],1)],1)],1)},Y=[],G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"custom-amount"},[n("text-input",{attrs:{value:e.value,label:e.label?e.$t(e.label):null,placeholder:e.placeholder?e.$t(e.placeholder):null,type:"number",tooltip:e.hint?e.$t("default.stepper.adoption.customAmount.hint"):null,rules:[e.rules.minValue,e.rules.required],min:e.minAmount},on:{input:function(t){e.$emit("input",Number(t))}}})],1)},J=[],W=(n("4160"),n("d3b7"),n("ac1f"),n("466d"),n("1276"),n("498a"),n("159b"),n("ddb0"),n("a925"));function Q(){var e=n("4790"),t={};return e.keys().forEach((function(n){var a=n.match(/([A-Za-z0-9-_]+)\./i);if(a&&a.length>1){var o=a[1];t[o]=e(n)}})),t}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={countryCodeOnly:!1},n=Object(r["a"])(Object(r["a"])({},t),e),a=void 0!==navigator.languages?navigator.languages[0]:navigator.language;if(a){var o=n.countryCodeOnly?a.trim().split(/-|_/)[0]:a.trim();return o}}a["a"].use(W["a"]);var X="undefined"!==typeof siteLocale&&null!==siteLocale?siteLocale[0].trim().split(/-|_/)[0]:Z({countryCodeOnly:!0}),K=new W["a"]({locale:X,fallbackLocale:"en",messages:Q()}),ee={data:function(){var e=this;return{valid:!1,minLength:2,min:0,rules:{required:function(e){return!!e||K.t("default.rules.required")},notNull:function(e){return null!==e},minLength:function(t){return!!t&&t.length>=e.minLength||K.t("default.rules.minLength",{count:e.minLength})},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||K.t("default.rules.email")},specialChar:function(e){var t=/^[a-zA-Z0-9√©√®√™√Æ√¥√ª√†√Ø√´√∂√±√ß '&/.-]+$/;return t.test(e)||K.t("default.rules.specialChar")},message:function(e){var t=/^[a-zA-Z0-9√©√®√™√Æ√¥√ª√†√Ø√´√∂√±√ß ,&‚Ç¨$'.?!-)/(]+$/;return t.test(e)||K.t("default.rules.specialChar")},digitOnly:function(e){var t=/^[0-9+]+$/;return t.test(e)||K.t("default.rules.digitOnly")},minValue:function(t){return Number(t)>=e.min||K.t("default.rules.minValue",{min:e.min})}}}},computed:{validationEventName:function(){return this.$options._componentTag+"Validation"},validationErrorEventName:function(){return this.$options._componentTag+"ValidationError"},formRefName:function(){return this.$options._componentTag+"Form"},customValidationEventName:function(){return this.$options._componentTag+"CustomValid"}},methods:{setMinLengthRule:function(e){this.minLength=e},validForm:function(){this.$refs[this.formRefName]&&this.$refs[this.formRefName].validate()?this.$root.$emit("StepValid"):(this.$root.$emit(this.validationErrorEventName),this.$root.$emit("IsLoaded"))}},mounted:function(){var e=this;this.$root.$on(this.validationEventName,(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?e.$root.$emit(e.customValidationEventName):e.validForm()}))},beforeDestroy:function(){this.$root.$off(this.validationEventName)}},te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cg-input-container"},[e.label?n("p",{staticClass:"text-left cg-base-text text-bolder mb-4"},[e._v(" "+e._s(e.label)+" "),e.tooltip?n("btn-tooltip",[n("span",[e._v(e._s(e.tooltip))])]):e._e()],1):e._e(),n("v-text-field",{ref:e.ref,staticClass:"cg-text-input",attrs:{dense:"",outlined:"",placeholder:e.placeholder,rules:e.rules,value:e.value,maxLength:e.maxLength,counter:e.counter,type:e.type,rounded:"",height:"66","append-icon":e.icon},on:{change:function(t){e.$emit("input",e.sanitizeValue(t))}}})],1)},ne=[],ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-tooltip",{staticClass:"btn-tooltip",attrs:{color:"primary","max-width":"350",attach:e.attach},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[n("v-icon",e._g(e._b({staticClass:"setup-tooltip-icon",attrs:{color:"primary",small:""}},"v-icon",o,!1),a),[e._v(" mdi-information ")])]}}])},[n("div",{staticClass:"tooltip-container"},[e._t("default")],2)])},oe=[],ie={name:"btn-tooltip",props:{attach:{type:String,default:"#full-form"}},data:function(){return{show:!0}}},re=ie,se=(n("9647"),n("3a2f")),ce=Object(h["a"])(re,ae,oe,!1,null,"b1dffcb0",null),le=ce.exports;v()(ce,{VIcon:g["a"],VTooltip:se["a"]});var ue=n("e1bd"),de={name:"text-input",components:{BtnTooltip:le},props:{value:null,label:{type:String},placeholder:{type:String,default:""},rules:{type:Array},counter:{default:!1},maxLength:{type:Number,default:null},icon:{type:String,default:null},tooltip:{type:String},type:{type:String,default:"text"},min:{type:Number,default:null},max:{type:Number,default:null}},data:function(){return{ref:null}},methods:{setInputProperty:function(e,t){this.getInput().$el.querySelector("input")[e]=t},getInput:function(){return this.$refs[this.ref]},sanitizeValue:function(e){return null!==this.min&&e<this.min&&(this.getInput().$data.lazyValue=this.min,e=this.min),e}},beforeMount:function(){this.ref=Object(ue["a"])()},mounted:function(){null!==this.min&&this.setInputProperty("min",this.min),null!==this.max&&this.setInputProperty("max",this.max)}},pe=de,me=(n("19be"),n("8654")),fe=Object(h["a"])(pe,te,ne,!1,null,null,null),he=fe.exports;v()(fe,{VTextField:me["a"]});var be={name:"custom-amount",components:{TextInput:he},mixins:[ee],props:{value:{validator:function(e){return"number"===typeof e||null===e},required:!0},hint:{type:Boolean,default:!0},inline:{type:Boolean,default:!1},minAmount:{type:Number,default:0},label:{type:String,default:"default.stepper.adoption.customAmount.label"},placeholder:{type:String,default:null}}},ve=be,ye=Object(h["a"])(ve,G,J,!1,null,"cfb5c1d2",null),ge=ye.exports,_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hint",class:e.typeClass},[e.icon?n("v-icon",{staticClass:"hint-icon",attrs:{color:"primary"}},[e._v(" "+e._s(e.icon)+" ")]):"primary"===e.type?n("v-icon",{staticClass:"hint-icon",attrs:{color:"primary"}},[e._v(" mdi-information ")]):"danger"===e.type?n("v-icon",{staticClass:"hint-icon",attrs:{color:"#E1000F"}},[e._v(" mdi-alert ")]):e._e(),e._t("default")],2)},je=[],Oe={name:"hint",props:{type:{type:String,default:"primary"},icon:{type:String,default:null}},computed:{typeClass:function(){return"danger"===this.type?"danger":""}}},$e=Oe,xe=(n("fe2b"),Object(h["a"])($e,_e,je,!1,null,"1fb8d387",null)),we=xe.exports;v()(xe,{VIcon:g["a"]});var Se={name:"adoption-count-block",components:{Hint:we,TextInput:he,CustomAmount:ge},mixins:[x,ee],props:{alert:{type:String,default:""},max:{type:Number,default:null}},data:function(){return{}},computed:Object(r["a"])({},Object(d["c"])({order:"getOrder"})),methods:Object(r["a"])(Object(r["a"])({},Object(d["b"])({updateForm:"updateForm",setQuantity:"setQuantity"})),{},{updateCustomAmount:function(e){this.updateForm({order:{price:e,customAmount:!0}})},updateQuantity:function(e){this.setQuantity(e)}})},Ce=Se,ke=(n("ac7f"),n("62ad")),Fe=n("0fd9"),Te=Object(h["a"])(Ce,H,Y,!1,null,"61baa84d",null),Pe=Te.exports;v()(Te,{VCol:ke["a"],VRow:Fe["a"]});n("8ba4"),n("b680");var Ee=n("262e"),Ve=n("2caf"),Ae=n("ade3"),ze=(n("caad"),n("b64b"),n("07ac"),n("2532"),function(){function e(){Object(P["a"])(this,e)}return Object(E["a"])(e,null,[{key:"isValueValid",value:function(e){return Object.values(this).includes(e)}},{key:"isPropertyValid",value:function(e){return Object.keys(this).includes(e)}}]),e}()),De=function(e){Object(Ee["a"])(n,e);var t=Object(Ve["a"])(n);function n(){return Object(P["a"])(this,n),t.apply(this,arguments)}return n}(ze);Object(Ae["a"])(De,"individual",.66),Object(Ae["a"])(De,"company",.6);var Ie={computed:Object(r["a"])(Object(r["a"])({},Object(d["c"])({adopter:"getAdopter"})),{},{fiscalReduction:function(){var e=De;if(!De.isPropertyValid(this.adopter.type))throw"Cette r√©duction fiscale n'existe pas !";return e[this.adopter.type]}}),methods:{getFormattedDeduction:function(e){var t=this.fiscalReduction*e,n=e-t;return Number.isInteger(n)||(n=n.toFixed(2)),n}}},Ne={name:"adoption-step",components:{AdoptionCountBlock:Pe,Hint:we},mixins:[x,Ie,ee],watch:{order:{deep:!0,immediate:!0,handler:function(e){this.reducedPrice=this.getFormattedDeduction(e.price)}}},data:function(){return{reducedPrice:null}},computed:Object(r["a"])(Object(r["a"])({},Object(d["c"])({order:"getOrder",products:"getProducts"})),{},{description:function(){return this.$t("default.stepper.adoption.description",{donation:this.order.price,reducedPrice:this.reducedPrice})}})},Me=Ne,qe=Object(h["a"])(Me,B,U,!1,null,"45cb41b2",null),Le=qe.exports,Re={name:"coral-adoption-step",extends:Le},Be=Re,Ue=n("4bd4"),He=Object(h["a"])(Be,L,R,!1,null,"750825a3",null),Ye=He.exports;v()(He,{VForm:Ue["a"]});var Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex flex-column justify-space-around form-starter"},[n("transition",{attrs:{name:"fade"}},[e.showTooltip?n("v-alert",{staticClass:"tooltip white--text",attrs:{color:"#28335f"}},[e._v(e._s(e.tooltip)+" ")]):e._e()],1),n("choice-btn",{attrs:{text:e.$t("default.stepper.choice.buttons.me.text",e.singular),tooltip:e.$t("default.stepper.choice.buttons.me.tooltip",e.plural)},on:{openForm:function(t){return e.openForm({target:e.adoptionConstants.me,adoption:{type:"direct"}})},showTooltip:e.displayTooltip,hideTooltip:function(t){e.showTooltip=!1}}}),n("choice-btn",{attrs:{text:e.$t("default.stepper.choice.buttons.friend.text",e.singular),tooltip:e.$t("default.stepper.choice.buttons.friend.tooltip",e.plural)},on:{openForm:function(t){return e.openForm({target:e.adoptionConstants.friend,adoption:{type:"gift"}})},showTooltip:e.displayTooltip,hideTooltip:function(t){e.showTooltip=!1}}}),n("a",{staticClass:"black--text text-capitalize-first",attrs:{href:e.companyUrl}},[e._v(" "+e._s(e.$t("default.stepper.choice.buttons.company",e.singular))+" ")])],1)},Je=[],We={computed:Object(r["a"])(Object(r["a"])({},Object(d["d"])({coralForm:"data"})),Object(d["c"])({step:"step"})),methods:Object(r["a"])({},Object(d["b"])({updateForm:"updateForm"}))},Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex justify-space-between"},[n("v-btn",{staticClass:"black--text text-no-transform",attrs:{large:"",color:"secondary"},on:{click:e.openForm}},[e._v(" "+e._s(e.text)+" "),e.$vuetify.breakpoint.xs?e._e():n("tooltip",{on:{showTooltip:function(t){return e.$emit("showTooltip",e.tooltip)},hideTooltip:function(t){return e.$emit("hideTooltip")}}})],1),e.$vuetify.breakpoint.xs?n("tooltip",{staticClass:"ml-2",on:{showTooltip:function(t){return e.$emit("showTooltip",e.tooltip)},hideTooltip:function(t){return e.$emit("hideTooltip")}}}):e._e()],1)},Ze=[],Xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-icon",{on:{mouseenter:e.showTooltip,mouseleave:e.hideTooltip}},[e._v(" mdi-information ")])},Ke=[],et={name:"tooltip",methods:{showTooltip:function(){this.$emit("showTooltip")},hideTooltip:function(){this.$emit("hideTooltip")}}},tt=et,nt=Object(h["a"])(tt,Xe,Ke,!1,null,"537c768e",null),at=nt.exports;v()(nt,{VIcon:g["a"]});var ot={name:"ChoiceBtn",components:{Tooltip:at},mixins:[x],props:{text:{type:String,required:!0},tooltip:{type:String,required:!0}},methods:{openForm:function(){this.$emit("openForm")}}},it=ot,rt=(n("fd41"),Object(h["a"])(it,Qe,Ze,!1,null,"dc509dea",null)),st=rt.exports;v()(rt,{VBtn:y["a"]});var ct={name:"choice-step",components:{ChoiceBtn:st},mixins:[We,q,x],data:function(){return{tooltip:"",showTooltip:!1}},computed:{companyUrl:function(){return window.location.origin+("fr"===this.$i18n.locale?"/adoption-entreprise":"/company")}},methods:{openForm:function(e){var t=this;this.updateForm(e).then((function(){t.updateForm({step:1})}))},displayTooltip:function(e){this.tooltip=e,this.showTooltip=!0}}},lt=ct,ut=(n("f65e"),n("0798")),dt=Object(h["a"])(lt,Ge,Je,!1,null,"64a9c8cb",null),pt=dt.exports;v()(dt,{VAlert:ut["a"]});var mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",{domProps:{innerHTML:e._s(e.$tc("default.stepper.customization.description."+e.project,e.order.quantity,e.translation))}}),n("v-form",{ref:e.formRefName,model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("div",{staticClass:"d-flex flex-wrap"},[e.order.quantity>=20?n("div",[n("br"),n("p",{staticClass:"font-weight-bold",domProps:{innerHTML:e._s(e.$t("default.stepper.customization.downloadCsv.label"))}}),n("br"),n("v-btn",{attrs:{primary:"",loading:e.loading,disabled:e.loading},on:{click:e.downloadExcelFile}},[e._v(" "+e._s(e.$t("default.stepper.customization.downloadCsv.btnLabel"))+" ")])],1):e._l(e.order.quantity,(function(t){return n("div",{key:t,class:e.order.quantity>1?"col-6":"col-12"},[n("text-input",{attrs:{rules:[e.rules.required,e.rules.minLength,e.rules.specialChar],label:e.$tc("default.stepper.customization.input.label."+e.project,e.order.quantity,{number:t,item:e.translation.item}),placeholder:e.$t("default.stepper.customization.input.placeholder."+e.project,e.singular)},model:{value:e.names[t-1],callback:function(n){e.$set(e.names,t-1,n)},expression:"names[n-1]"}})],1)}))],2)])],1)},ft=[],ht=(n("3ca3"),n("2b3d"),n("bc3a")),bt=n.n(ht),vt=n("2ef0"),yt={computed:Object(r["a"])(Object(r["a"])({},Object(d["c"])({apiData:"getApiData",apiNameSpace:"getApiNamespace"})),{},{apiEventName:function(){return this.$options._componentTag+"Api"},baseUrl:function(){return"/wp-json/"+this.apiNameSpace+"/"}}),methods:{post:function(e,t,n){var a=this;return new Promise((function(o,i){var r=a.baseUrl+t;bt.a.post(r,e,n).then((function(e){o(e)})).catch((function(e){a.$root.$emit("IsLoaded"),a.$root.$emit("displayError"),i(e)}))}))},get:function(e){var t=this;return new Promise((function(n,a){var o=t.getGetUrl(e);bt.a.get(o).then((function(e){n(e)})).catch((function(e){a(e)}))}))},getByUrl:function(e){return new Promise((function(t,n){bt.a.get(e).then((function(e){t(e)})).catch((function(e){n(e)}))}))},getGetUrl:function(e){if(this.apiData){var t=this.baseUrl+this.apiData.endpoint;Object(vt["isEmpty"])(e)||(t+="?");var n=0;return Object.keys(e).forEach((function(a){n>0&&(t+="&"),t+=a+"="+e[a],n++})),t}console.error("Pas de donn√©es API dans l'√©tape en cours.")},getGetUrlNoApiData:function(e,t){var n=this.baseUrl+t;Object(vt["isEmpty"])(e)||(n+="?");var a=0;return Object.keys(e).forEach((function(t){a>0&&(n+="&"),n+=t+"="+e[t],a++})),n}}},gt={name:"customization-step",components:{TextInput:he},mixins:[x,ee,yt],data:function(){return{names:[],namesFile:null,loading:!1,hasDownloaded:!1}},computed:Object(r["a"])({},Object(d["c"])({order:"getOrder",postAdoptionData:"getPostAdoptionsData",orderToken:"getOrderToken",project:"getProject"})),methods:Object(r["a"])(Object(r["a"])({},Object(d["b"])({updateForm:"updateForm"})),{},{postNames:function(){var e=this;this.names.length===this.order.quantity?this.updateForm({adoption:{names:this.names}}).then((function(){e.post(e.postAdoptionData,e.apiData.endpoint).then((function(){e.$root.$emit("ApiValid")}))})):this.hasDownloaded?(this.updateForm({hasDownloaded:this.hasDownloaded}),this.$root.$emit("ApiValid")):(this.$root.$emit("displayError","download_file"),this.$root.$emit("IsLoaded"))},downloadExcelFile:function(){var e=this;this.loading=!0,this.get({responseType:"blob",params:{token:this.orderToken}},"excel_template").then((function(t){var n=URL.createObjectURL(new Blob([t.data],{type:"application/vnd.ms-excel"})),a=document.createElement("a");a.href=n,a.setAttribute("download","coralguardian-coral-sheet-name.xlsx"),document.body.appendChild(a),a.click(),e.hasDownloaded=!0})).catch((function(){e.$root.$emit("displayError")})).finally((function(){e.loading=!1}))}}),mounted:function(){this.$root.$on(this.apiEventName,this.postNames)},beforeDestroy:function(){this.$root.$off(this.apiEventName)}},_t=gt,jt=Object(h["a"])(_t,mt,ft,!1,null,"6ef2020e",null),Ot=jt.exports;v()(jt,{VBtn:y["a"],VForm:Ue["a"]});var $t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"donation-select-container"},[n("div",[n("p",{staticClass:"cg-title"},[e._v(e._s(e.$t("default.stepper.donation.i_want")))]),n("div",{attrs:{id:"donation-type-select"}},[n("v-select",{attrs:{value:e.donation.type,items:e.donationTypes,"item-text":"label","item-value":"value",color:"#33A4E4",attach:"#donation-type-select",rules:[e.rules.required]},on:{input:function(t){return e.updateForm({donation:{type:t}})}}})],1)]),n("div",[n("p",{staticClass:"cg-title"},[e._v(e._s(e.$t("default.stepper.donation.amount")))]),n("div",{attrs:{id:"donation-price-select"}},[n("v-select",{attrs:{value:e.basePriceSelect,items:e.donationAmounts,"item-text":"label","item-value":"value",color:"#33A4E4",attach:"#donation-price-select",rules:e.displayCustomAmount?[]:[e.rules.required]},on:{input:e.updateAmountFromSelect}})],1)]),e.displayCustomAmount?n("custom-amount",{staticClass:"custom-amount-input",attrs:{value:e.donation.price,hint:!1,"min-amount":0,placeholder:"default.stepper.adoption.customAmount.label",label:null,rules:[e.rules.required,e.rules.minValue]},on:{input:function(t){return e.updateForm({donation:{price:t}})}}}):e._e()],1)])},xt=[],wt=function(e){Object(Ee["a"])(n,e);var t=Object(Ve["a"])(n);function n(){return Object(P["a"])(this,n),t.apply(this,arguments)}return n}(ze);Object(Ae["a"])(wt,"oneshot","oneshot"),Object(Ae["a"])(wt,"monthly","monthly");var St={name:"donation-step",components:{CustomAmount:ge},mixins:[x,ee,p],data:function(){return{displayCustomAmount:!1,basePriceSelect:0}},computed:Object(r["a"])(Object(r["a"])({},Object(d["c"])({donation:"getDonation"})),{},{donationTypes:function(){return[{label:this.$t("default.stepper.donation.select_duration.recurrent"),value:wt.monthly},{label:this.$t("default.stepper.donation.select_duration.unique"),value:wt.oneshot}]},donationAmounts:function(){return[{label:"5‚Ç¨",value:5},{label:"10‚Ç¨",value:10},{label:"15‚Ç¨",value:15},{label:"20‚Ç¨",value:20},{label:this.$t("default.stepper.donation.other_amount"),value:null}]}}),methods:Object(r["a"])(Object(r["a"])({},Object(d["b"])({updateForm:"updateForm"})),{},{updateAmountFromSelect:function(e){this.updateForm({donation:{price:e}}),null===e?(this.updateForm({donation:{isCustom:!0}}),this.displayCustomAmount=!0):(this.updateForm({donation:{isCustom:!1}}),this.displayCustomAmount=!1)},setBasePriceSelect:function(){this.donation.isCustom?(this.basePriceSelect=null,this.displayCustomAmount=!0):this.basePriceSelect=this.donation.price}}),mounted:function(){this.setBasePriceSelect()}},Ct=St,kt=(n("7ccd"),n("b974")),Ft=Object(h["a"])(Ct,$t,xt,!1,null,null,null),Tt=Ft.exports;v()(Ft,{VSelect:kt["a"]});var Pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-form",{ref:e.formRefName,model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("div",{staticClass:"double-input-container"},[n("div",{staticClass:"double-input-item"},[n("text-input",{attrs:{placeholder:e.$t("default.stepper.friend.form.firstname"),rules:[e.rules.required,e.rules.specialChar]},model:{value:e.friend.first_name,callback:function(t){e.$set(e.friend,"first_name",t)},expression:"friend.first_name"}})],1),n("div",{staticClass:"double-input-item"},[n("text-input",{attrs:{placeholder:e.$t("default.stepper.friend.form.name"),rules:[e.rules.required,e.rules.specialChar]},model:{value:e.friend.last_name,callback:function(t){e.$set(e.friend,"last_name",t)},expression:"friend.last_name"}})],1)]),n("text-input",{attrs:{placeholder:e.$t("default.stepper.friend.form.mail"),rules:[e.rules.required,e.rules.email]},model:{value:e.friend.email,callback:function(t){e.$set(e.friend,"email",t)},expression:"friend.email"}}),n("v-textarea",{attrs:{rows:"3","no-resize":"",color:"tertiary",outlined:"",placeholder:e.$t("default.stepper.friend.form.message"),rules:[e.rules.required],maxlength:"490",counter:""},model:{value:e.friend.message,callback:function(t){e.$set(e.friend,"message",t)},expression:"friend.message"}})],1)],1)},Et=[],Vt={name:"friend-information-step",components:{TextInput:he},mixins:[ee],data:function(){return{message:""}},computed:Object(r["a"])({},Object(d["c"])({friend:"getFriend"})),mounted:function(){var e=this;this.$root.$on(this.validationEventName,(function(){e.updateForm({order:{type:"gift"}})}))},methods:Object(r["a"])({},Object(d["b"])({updateForm:"updateForm"}))},At=Vt,zt=n("a844"),Dt=Object(h["a"])(At,Pt,Et,!1,null,"f5459ab6",null),It=Dt.exports;v()(Dt,{VForm:Ue["a"],VTextarea:zt["a"]});var Nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"gift-step"}},[n("p",{staticClass:"mb-10",domProps:{innerHTML:e._s(e.$t("default.stepper.gift.description"))}}),n("v-form",{ref:e.formRefName,model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("text-input",{attrs:{rules:[e.rules.required],label:e.$t("default.stepper.gift.input.label"),placeholder:e.$t("default.stepper.gift.input.placeholder")},model:{value:e.order.giftCode,callback:function(t){e.$set(e.order,"giftCode",t)},expression:"order.giftCode"}})],1)],1)},Mt=[],qt={name:"gift-step",components:{TextInput:he},mixins:[ee,yt],data:function(){return{}},computed:Object(r["a"])({},Object(d["c"])({order:"getOrder"})),methods:Object(r["a"])(Object(r["a"])({},Object(d["b"])({updateForm:"updateForm"})),{},{checkOrderToken:function(){var e=this;this[this.apiData.method]({gift_code:this.order.giftCode},this.apiData.endpoint).then((function(t){var n=t.data.type.split("."),a={order:{uuid:t.data.uuid,productType:n[0],quantity:t.data.quantity},adopter:{send_to_friend:t.data.sendToFriend},project:t.data.project};void 0!==n[1]&&(a.order.specificType=n[1]),e.updateForm(a).then((function(){return e.$root.$emit("ApiValid")})),e.$root.$emit("IsLoaded")})).catch((function(t){e.$root.$emit("displayError",t.response.data),e.$root.$emit("IsLoaded")}))}}),mounted:function(){this.$root.$on(this.apiEventName,this.checkOrderToken)},beforeDestroy:function(){this.$root.$off(this.apiEventName)}},Lt=qt,Rt=(n("f667"),Object(h["a"])(Lt,Nt,Mt,!1,null,"0a46bdb7",null)),Bt=Rt.exports;v()(Rt,{VForm:Ue["a"]});var Ut=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("hint",[n("span",{staticClass:"cg-base-text"},[e._v(e._s(e.$t("default.stepper.information.description")))])]),n("v-form",{ref:e.formRefName,model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[e.isCompany?n("text-input",{attrs:{label:e.$t("default.stepper.information."+e.informationSubstring+"cols.information.companyName"),rules:[e.rules.required,e.rules.minLength]},model:{value:e.adopter.company_name,callback:function(t){e.$set(e.adopter,"company_name",t)},expression:"adopter.company_name"}}):e._e(),e.isCompany?n("text-input",{attrs:{label:e.$t("default.stepper.information."+e.informationSubstring+"cols.information.siret")},model:{value:e.adopter.siret,callback:function(t){e.$set(e.adopter,"siret",t)},expression:"adopter.siret"}}):e._e(),n("div",{staticClass:"row"},[n("text-input",{staticClass:"col-6",attrs:{label:e.$t("default.stepper.information."+e.informationSubstring+"cols.information.name"),rules:[e.rules.required,e.rules.minLength,e.rules.specialChar],icon:"mdi-account-outline"},model:{value:e.adopter.last_name,callback:function(t){e.$set(e.adopter,"last_name",t)},expression:"adopter.last_name"}}),n("text-input",{staticClass:"col-6",attrs:{label:e.$t("default.stepper.information."+e.informationSubstring+"cols.information.firstname"),rules:[e.rules.required,e.rules.minLength,e.rules.specialChar],icon:"mdi-account-outline"},model:{value:e.adopter.first_name,callback:function(t){e.$set(e.adopter,"first_name",t)},expression:"adopter.first_name"}})],1),n("text-input",{attrs:{label:e.$t("default.stepper.information."+e.informationSubstring+"cols.information.mail"),rules:[e.rules.required,e.rules.email],icon:"mdi-email-outline"},model:{value:e.adopter.email,callback:function(t){e.$set(e.adopter,"email",t)},expression:"adopter.email"}}),n("text-input",{attrs:{label:e.$t("default.stepper.information."+e.informationSubstring+"cols.contact.address"),rules:[e.rules.required],icon:"mdi-home-outline"},model:{value:e.adopter.address,callback:function(t){e.$set(e.adopter,"address",t)},expression:"adopter.address"}}),n("div",{staticClass:"row"},[n("text-input",{staticClass:"col-4",attrs:{label:e.$t("default.stepper.information.cols.contact.postalCode"),rules:[e.rules.required],icon:"mdi-home-outline"},model:{value:e.adopter.postal_code,callback:function(t){e.$set(e.adopter,"postal_code",t)},expression:"adopter.postal_code"}}),n("text-input",{staticClass:"col-4",attrs:{label:e.$t("default.stepper.information.cols.contact.city"),rules:[e.rules.required],icon:"mdi-home-outline"},model:{value:e.adopter.city,callback:function(t){e.$set(e.adopter,"city",t)},expression:"adopter.city"}}),n("text-input",{staticClass:"col-4",attrs:{id:"country-input",label:e.$t("default.stepper.information.cols.contact.country"),rules:[e.rules.required,e.rules.minLength],icon:"mdi-home-outline"},model:{value:e.adopter.country,callback:function(t){e.$set(e.adopter,"country",t)},expression:"adopter.country"}})],1),e.isGiftCustom?n("gift-custom-block"):e._e(),n("newsletter-block",{attrs:{full:e.isCompany},model:{value:e.adopter.wants_newsletter,callback:function(t){e.$set(e.adopter,"wants_newsletter",t)},expression:"adopter.wants_newsletter"}})],1)],1)},Ht=[],Yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",{staticClass:"cg-title"},[e._v(" "+e._s(e.$t("default.newsletter.title"))+" ")]),n("v-checkbox",{staticClass:"mt-0",attrs:{"input-value":e.value},on:{change:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"label",fn:function(){return[n("p",{staticClass:"cg-base-text"},[e._v(e._s(e.$t(e.label)))])]},proxy:!0}])}),e.full&&e.value?n("div",[n("p",{staticClass:"mb-2",domProps:{innerHTML:e._s(e.$t("default.newsletter.otherEmail.description"))}}),n("text-input",{attrs:{placeholder:e.$t("default.newsletter.otherEmail.email")},model:{value:e.adopter.alternate_newsletter_email,callback:function(t){e.$set(e.adopter,"alternate_newsletter_email",t)},expression:"adopter.alternate_newsletter_email"}})],1):e._e()],1)},Gt=[],Jt=function(e){Object(Ee["a"])(n,e);var t=Object(Ve["a"])(n);function n(){return Object(P["a"])(this,n),t.apply(this,arguments)}return Object(E["a"])(n,null,[{key:"getTarget",value:function(e){switch(e){case this.adoption:return M.me;case this.gift:return M.friend;case this.donation:return e;default:throw"Cette valeur ne correspond √† aucune action."}}}]),n}(ze);Object(Ae["a"])(Jt,"adoption","adoption"),Object(Ae["a"])(Jt,"gift","gift"),Object(Ae["a"])(Jt,"donation","donation");var Wt={name:"newsletter-block",components:{TextInput:he},props:{value:null,full:{type:Boolean,default:!1}},computed:Object(r["a"])(Object(r["a"])({},Object(d["c"])({adopter:"getAdopter",target:"getTarget"})),{},{label:function(){return this.target===Jt.getTarget(Jt.adoption)?"default.newsletter.label.adoption":"default.newsletter.label.other"},description:function(){return this.target===Jt.getTarget(Jt.adoption)?"default.newsletter.description.adoption":"default.newsletter.description.other"}})},Qt=Wt,Zt=n("ac7c"),Xt=Object(h["a"])(Qt,Yt,Gt,!1,null,"959de094",null),Kt=Xt.exports;v()(Xt,{VCheckbox:Zt["a"]});var en=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",{staticClass:"cg-title"},[e._v(" "+e._s(e.$t("default.giftCustom.title"))+" ")]),n("v-radio-group",{attrs:{rules:[e.rules.notNull]},on:{change:function(t){return e.updateForm({adopter:{send_to_friend:t}})}},model:{value:e.adopter.send_to_friend,callback:function(t){e.$set(e.adopter,"send_to_friend",t)},expression:"adopter.send_to_friend"}},[n("v-radio",{attrs:{value:!1},scopedSlots:e._u([{key:"label",fn:function(){return[n("p",{staticClass:"cg-base-text"},[e._v(e._s(e.$t("default.giftCustom.radios.dont")))])]},proxy:!0}])}),n("v-radio",{attrs:{value:!0},scopedSlots:e._u([{key:"label",fn:function(){return[n("p",{staticClass:"cg-base-text"},[e._v(e._s(e.$t("default.giftCustom.radios.send."+e.adopter.type)))])]},proxy:!0}])}),n("v-radio",{attrs:{value:null},scopedSlots:e._u([{key:"label",fn:function(){return[n("p",{staticClass:"cg-base-text"},[e._v(e._s(e.$t("default.giftCustom.radios.later")))])]},proxy:!0}])})],1)],1)},tn=[],nn={name:"gift-custom-block",mixins:[ee],components:{},props:{value:null,full:{type:Boolean,default:!1}},computed:Object(r["a"])({},Object(d["c"])({adopter:"getAdopter"})),methods:Object(r["a"])({},Object(d["b"])({updateForm:"updateForm"}))},an=nn,on=(n("1838"),n("67b6")),rn=n("43a6"),sn=Object(h["a"])(an,en,tn,!1,null,"3762839a",null),cn=sn.exports;v()(sn,{VRadio:on["a"],VRadioGroup:rn["a"]});var ln=function(e){Object(Ee["a"])(n,e);var t=Object(Ve["a"])(n);function n(){return Object(P["a"])(this,n),t.apply(this,arguments)}return n}(ze);Object(Ae["a"])(ln,"individual","individual"),Object(Ae["a"])(ln,"company","company");var un={name:"information-step",components:{TextInput:he,NewsletterBlock:Kt,GiftCustomBlock:cn,Hint:we},mixins:[ee,yt],data:function(){return{}},computed:Object(r["a"])(Object(r["a"])({},Object(d["c"])({adopter:"getAdopter",customerModel:"getCustomerModel",order:"getOrder"})),{},{informationSubstring:function(){return this.isCompany?"company.":""},isCompany:function(){return this.adopter.type===ln.company},isGiftCustom:function(){return this.order.type===Jt.gift}}),methods:Object(r["a"])({},Object(d["b"])({updateForm:"updateForm"})),mounted:function(){var e=this;this.$root.$on(this.validationEventName,(function(){e.updateForm({adopter:e.adopter})})),this.$root.$on(this.validationErrorEventName,(function(){e.$vuetify.goTo("#country-input",{container:"#InformationStep"})}))},beforeDestroy:function(){this.$root.$off(this.validationEventName),this.$root.$off(this.validationErrorEventName)}},dn=un,pn=Object(h["a"])(dn,Ut,Ht,!1,null,"4d77775e",null),mn=pn.exports;v()(pn,{VForm:Ue["a"]});var fn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"paymentStep"}},[e.cardDisplay?n("div",[n("hint",{attrs:{type:"danger"}},[n("p",{staticClass:"cg-base-text",domProps:{innerHTML:e._s(e.$t("default.stepper.payment.important"))}})]),n("stripe-card-data",{ref:"cardData",attrs:{mode:e.mode},on:{reCaptchaValid:function(t){e.isValidRecaptcha=!0},reCaptchaNotValid:function(t){e.isValidRecaptcha=!0}}})],1):""!==e.message.text?n("v-alert",{class:e.message.class,attrs:{dense:"",text:"",type:e.message.type}},[e._v(" "+e._s(e.$t("default."+e.message.text))+" ")]):e._e(),e.displayPaymentMethod?n("payment-method-block",{ref:"paymentMethod",attrs:{mode:e.mode}}):e._e()],1)},hn=[],bn=(n("96cf"),n("1da1")),vn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex flex-column mt-5"},[n("v-skeleton-loader",{directives:[{name:"show",rawName:"v-show",value:!e.isFormLoaded,expression:"!isFormLoaded"}],attrs:{type:"article"}}),n("form",{directives:[{name:"show",rawName:"v-show",value:e.isFormLoaded,expression:"isFormLoaded"}],staticClass:"d-flex flex-column",attrs:{id:"payment-form"}},[n("div",{ref:"paymentElement",staticClass:"m-2"}),n("div",{staticClass:"hidden",attrs:{id:"payment-message"}}),n("span",{staticClass:"error-message red--text mt-3"},[e._v(e._s(e.errorMessage))]),n("vue-recaptcha",{ref:"recaptcha",attrs:{sitekey:"6LdEnlMaAAAAANkYSXFqJPuxMFAaTFVWaOalVs9g"},on:{verify:function(t){return e.$emit("reCaptchaValid")},error:function(t){return e.$emit("reCaptchaNotValid")},expired:function(t){return e.$emit("reCaptchaNotValid")}}})],1)],1)},yn=[],gn=n("e096"),_n={data:function(){return{spk:"pk_test_rbBgcSSVkOOmFfH9HpA7vFls",stripe:null}},methods:{createStripe:function(){this.stripe=Stripe(this.spk)}}},jn={name:"stripe-card-data",components:{VueRecaptcha:gn["a"]},mixins:[yt,_n],props:{mode:{type:String,default:"adoption"}},data:function(){return{paymentElement:void 0,elements:null,isFormLoaded:!1,isCompleted:!1,errorMessage:""}},computed:Object(r["a"])(Object(r["a"])({},Object(d["c"])({donation:"getDonation",order:"getOrder"})),{},{element:function(){return"adoption"===this.mode?this.order:this.donation}}),methods:Object(r["a"])(Object(r["a"])({},Object(d["b"])({updateForm:"updateForm"})),{},{createPaymentIntent:function(){var e=this;return new Promise((function(t,n){var a;a=e.$store.getters.getOrderModel,e[e.apiData.method](a,e.apiData.endpoint).then((function(n){var a="adoption"===e.mode?{order:n.data}:{donation:n.data};e.updateForm(a).then((function(){t()}))})).catch((function(){e.errorMessage=e.$t("default.stripe.payment.error"),n()}))}))},purchase:function(){var e=this;return Object(bn["a"])(regeneratorRuntime.mark((function t(){var n,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.storePaymentData(),n=e.elements,t.next=4,e.stripe.confirmSetup({elements:n,confirmParams:{return_url:window.location.href}});case 4:a=t.sent,o=a.error,e.cleanLocalStorage(),e.errorMessage=o.message,e.$root.$emit("IsLoaded");case 9:case"end":return t.stop()}}),t)})))()},storePaymentData:function(){localStorage.setItem(this.element.clientSecret,JSON.stringify(this.$store.state.data))},checkCompletion:function(e){this.errorMessage="",e.complete?this.isCompleted=!0:e.error&&(this.errorMessage=e.error.message)},handleStripe:function(){var e=this;this.createStripe();var t=this.element.clientSecret;this.elements=this.stripe.elements({clientSecret:t}),this.paymentElement=this.elements.create("payment"),this.paymentElement.mount(this.$refs.paymentElement),this.paymentElement.on("change",(function(t){return e.checkCompletion(t)})),this.isFormLoaded=!0,this.$refs.recaptcha.execute()},validateCard:function(){this.isCompleted?this.$root.$emit("StepValid"):(this.$root.$emit("IsLoaded"),this.errorMessage=this.$t("default.stepper.payment.errors.card"))}}),mounted:function(){var e=this;this.createPaymentIntent().then((function(){return e.handleStripe()}))}},On=jn,$n=(n("021a"),n("3129")),xn=Object(h["a"])(On,vn,yn,!1,null,"6c495d8e",null),wn=xn.exports;v()(xn,{VSkeletonLoader:$n["a"]});var Sn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-tabs",{staticClass:"mb-10",attrs:{"fixed-tabs":"","active-class":"tab-active"},model:{value:e.paymentTab,callback:function(t){e.paymentTab=t},expression:"paymentTab"}},[n("v-tab",{on:{change:function(t){return e.updatePaymentMethod(e.paymentMethodEnum.creditCard)}}},[e._v(" "+e._s(e.$t("default.stepper.payment.methods.card.tab"))+" ")]),n("v-tab",{on:{change:function(t){return e.updatePaymentMethod(e.paymentMethodEnum.bankTransfer)}}},[e._v(" "+e._s(e.$t("default.stepper.payment.methods.bank.tab"))+" ")])],1),n("v-tabs-items",{model:{value:e.paymentTab,callback:function(t){e.paymentTab=t},expression:"paymentTab"}},[n("v-tab-item",[e.cardDisplay?n("stripe-card-data",{ref:"cardData",attrs:{mode:e.mode}}):n("div",{staticClass:"d-flex justify-center"},[n("v-btn",{staticClass:"cg-btn",attrs:{color:"primary",rounded:""},on:{click:function(t){e.cardDisplay=!0}}},[e._v(" "+e._s(e.$t("default.stepper.payment.methods.card.button"))+" ")])],1)],1),n("v-tab-item",[n("bank-transfer-block")],1)],1)],1)},Cn=[],kn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("hint",[n("p",{staticClass:"cg-base-text",domProps:{innerHTML:e._s(e.$t("default.stepper.payment.methods.bank.hint"))}})]),n("div",{staticClass:"rib-container"},[n("div",{staticClass:"d-flex justify-space-between"},[n("p",{staticClass:"cg-title"},[e._v(e._s(e.$t("default.stepper.payment.methods.bank.title")))]),n("a",{attrs:{href:e.ribUrl,target:"_blank"}},[n("v-icon",{attrs:{color:"primary"}},[e._v(" mdi-download ")])],1)]),n("p",{staticClass:"cg-base-text",domProps:{innerHTML:e._s(e.$t("default.stepper.payment.methods.bank.description"))}})])],1)},Fn=[],Tn={name:"bank-transfer-block",components:{Hint:we},computed:{ribUrl:function(){return window.location.origin+"/app/uploads/RIB.png"}}},Pn=Tn,En=(n("6920"),Object(h["a"])(Pn,kn,Fn,!1,null,"7a0569e0",null)),Vn=En.exports;v()(En,{VIcon:g["a"]});var An=function(e){Object(Ee["a"])(n,e);var t=Object(Ve["a"])(n);function n(){return Object(P["a"])(this,n),t.apply(this,arguments)}return n}(ze);Object(Ae["a"])(An,"creditCard","credit_card"),Object(Ae["a"])(An,"bankTransfer","bank_transfert");var zn={name:"payment-method-block",components:{StripeCardData:wn,BankTransferBlock:Vn},data:function(){return{paymentTab:null,cardDisplay:!1}},props:{mode:{type:String,default:"adoption"}},computed:{paymentMethodEnum:function(){return An}},methods:Object(r["a"])(Object(r["a"])({},Object(d["b"])({updateForm:"updateForm"})),{},{updatePaymentMethod:function(e){var t={payment_method:e};this.updateForm(t)}})},Dn=zn,In=n("71a3"),Nn=n("c671"),Mn=n("fe57"),qn=n("aac8"),Ln=Object(h["a"])(Dn,Sn,Cn,!1,null,"047b49f9",null),Rn=Ln.exports;v()(Ln,{VBtn:y["a"],VTab:In["a"],VTabItem:Nn["a"],VTabs:Mn["a"],VTabsItems:qn["a"]});var Bn=function(){function e(){Object(P["a"])(this,e)}return Object(E["a"])(e,[{key:"executeTag",value:function(e,t,n){var a="",o="";return"adoption"!==t?(a=e.type,o="donation"):o=e.type===Jt.gift?"gift":"adoption",gtag("event","purchase",{transaction_id:"",value:e.price,currency:"EUR",item_category:a,item_category2:n.type,item_name:o}),!1}}]),e}(),Un={name:"payment-step",components:{Hint:we,StripeCardData:wn,PaymentMethodBlock:Rn},mixins:[x,ee,_n,yt],props:{mode:{type:String,default:"adoption"},bankTransfer:{type:Boolean,default:!1}},data:function(){return{step:1,displayPaymentMethod:!1,cardDisplay:!1,message:{text:"",type:"success",class:"green--text"},adoptionCheckingInterval:null,adoptionCheckingTimeout:null,isValidRecaptcha:!1}},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(d["c"])({order:"getOrder",donation:"getDonation",adopter:"getAdopter",project:"getProject",orderModel:"getOrderModel",paymentMethod:"getPaymentMethod"})),Object(d["d"])({baseElementPrice:function(e){return e.data.baseElementPrice}})),{},{element:function(){return"adoption"===this.mode?this.order:this.donation}}),methods:Object(r["a"])(Object(r["a"])({},Object(d["b"])({updateForm:"updateForm",loadForm:"loadForm"})),{},{displayCard:function(){if("pending"===this.element.status)return this.checkPaymentStatus();this.cardDisplay=!0},checkPaymentStatus:function(){var e=this;return Object(bn["a"])(regeneratorRuntime.mark((function t(){var n,a,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.createStripe(),n=e.element.clientSecret,t.next=4,e.stripe.retrieveSetupIntent(n);case 4:a=t.sent,o=a.setupIntent,e.updateForm({order:{clientSecret:o.client_secret,stripePaymentIntentId:o.id}}),i=!1,t.t0=o.status,t.next="succeeded"===t.t0?11:"processing"===t.t0?19:"requires_payment_method"===t.t0?21:24;break;case 11:return(new Bn).executeTag(e.element,e.mode,e.adopter),e.message={text:"stripe.payment.success",type:"success",class:"green--text"},e.$root.$emit("hidePreviousButton"),e.updateElementStatus("success"),e.$emit("succeeded"),e.$root.$off(e.customValidationEventName),e.$root.$on(e.customValidationEventName,(function(){"donation"===e.mode?e.$root.$emit("ApiValid"):e.checkForAdoptionTimeout()})),t.abrupt("break",26);case 19:return e.message={text:"stripe.payment.processing",type:"warning",class:"orange--text"},t.abrupt("break",26);case 21:return e.message={text:"stripe.payment.refused",type:"error",class:"red--text"},i=!0,t.abrupt("break",26);case 24:e.message={text:"stripe.payment.error",type:"error",class:"red--text"},i=!0;case 26:return i&&e.$root.$on(e.customValidationEventName,(function(){e.$root.$emit(e.validationErrorEventName),e.$root.$emit("IsLoaded")})),t.abrupt("return",i);case 28:case"end":return t.stop()}}),t)})))()},validation:function(){this.message={text:""},this.paymentMethod===An.bankTransfer?this.$root.$emit("StepValid"):this.displayPaymentMethod?this.$refs.paymentMethod.cardDisplay?this.$refs.paymentMethod.$refs.cardData.validateCard():(this.$root.$emit("IsLoaded"),this.message={text:"stepper.payment.errors.card",type:"error",class:"red--text"}):this.cardDisplay?this.$refs.cardData.validateCard():(this.$root.$emit("IsLoaded"),this.message={text:"stepper.payment.errors.card",type:"error",class:"red--text"})},purchase:function(){var e,t=this;(this.updateElementStatus("pending"),this.paymentMethod===An.bankTransfer)?(e=this.$store.getters.getOrderModel,this[this.apiData.method](e,this.apiData.endpoint).then((function(e){if(e.data){var n="adoption"===t.mode?{order:e.data}:{donation:e.data};t.updateForm(n).then((function(){t.$root.$emit("ApiValid")}))}else t.$root.$emit("ApiValid")})).catch((function(){console.log("erreur")}))):this.displayPaymentMethod?this.$refs.paymentMethod.$refs.cardData.purchase():this.$refs.cardData.purchase()},updateElementStatus:function(e){var t="adoption"===this.mode?{order:{status:e}}:{donation:{status:e}};this.updateForm(t)},checkForAdoptionTimeout:function(){var e=this;this.adoptionCheckingInterval=setInterval((function(){e.checkForAdoptionUuid()}),1e3),this.adoptionCheckingTimeout=setTimeout((function(){clearInterval(e.adoptionCheckingInterval),e.$root.$emit("displayError","adoption_not_found")}),1e4)},checkForAdoptionUuid:function(){var e=this;this.getByUrl(this.getGetUrlNoApiData({stripePaymentIntentId:this.order.stripePaymentIntentId},"adoption/uuid")).then((function(t){clearInterval(e.adoptionCheckingInterval),clearTimeout(e.adoptionCheckingTimeout),e.updateForm({order:{uuid:t.data.uuid}}).then((function(){e.$root.$emit("ApiValid")}))}))}}),mounted:function(){this.adopter.type!==ln.company||this.element.clientSecret||this.orderModel.donationOrdered.length&&this.orderModel.donationOrdered[0].donationRecurrency===wt.monthly?this.displayCard():this.displayPaymentMethod=!0,this.$root.$on(this.customValidationEventName,this.validation),this.$root.$on(this.apiEventName,this.purchase)},beforeDestroy:function(){this.$root.$off(this.customValidationEventName),this.$root.$off(this.apiEventName)}},Hn=Un,Yn=(n("b731"),Object(h["a"])(Hn,fn,hn,!1,null,"55d36120",null)),Gn=Yn.exports;v()(Yn,{VAlert:ut["a"]});var Jn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"reef-adoption-step"}},[n("hint",{staticClass:"mb-10"},[n("p",{staticClass:"cg-base-text",domProps:{innerHTML:e._s(e.description)}})]),n("v-tabs",{attrs:{grow:"",centered:"","center-active":"","active-class":"tab-active",vertical:e.windowWidth<=450},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.products,(function(t,a){return n("v-tab",{key:a,on:{change:function(n){return e.updateForm(t)}}},[n("span",{staticClass:"cg-base-text light text-no-transform"},[e._v(" "+e._s(e.$t("default.stepper.adoption."+t.key+"."+t.variant+".title"))+" ")])])})),1),n("v-tabs-items",{staticClass:"cg-base-text reef-tab",model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.products,(function(t,a){return n("v-tab-item",{key:a,domProps:{innerHTML:e._s(e.$t("default.stepper.adoption."+t.key+"."+t.variant+".description"))}})})),1),n("v-form",{ref:e.formRefName,model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("adoption-count-block",{attrs:{alert:e.alert,max:e.maxCount}})],1)],1)},Wn=[],Qn={name:"reef-adoption-step",extends:Le,mixins:[q,p],data:function(){return{tab:0,maxCount:5}},computed:{alert:function(){return this.order.quantity===this.maxCount?this.$t("default.stepper.adoption.reef.max",{max:this.maxCount,item:this.plural.item}):null}},methods:{updateForm:function(e){var t={selectedProduct:Object(r["a"])({},e),order:{price:this.order.quantity*e.price},baseElementPrice:e.price};this.$store.dispatch("updateForm",t)}}},Zn=Qn,Xn=(n("ff10"),Object(h["a"])(Zn,Jn,Wn,!1,null,"6226d7b0",null)),Kn=Xn.exports;v()(Xn,{VForm:Ue["a"],VTab:In["a"],VTabItem:Nn["a"],VTabs:Mn["a"],VTabsItems:qn["a"]});var ea=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("final-step",{scopedSlots:e._u([{key:"hint",fn:function(){return[e._v(" "+e._s(e.$t("default.stepper.finalAdoption.hint",{count:e.order.quantity,item:e.order.productType}))+" ")]},proxy:!0}])},["fields"!==e.adoption.type?n("p",{staticClass:"cg-base-text light",domProps:{innerHTML:e._s(e.$tc("default.stepper.finalAdoption.description_not_named",e.order.quantity,e.translation))}}):n("div",[n("p",{staticClass:"cg-base-text light"},[e._v(e._s(e.$tc("default.stepper.certificate.adoption.email",e.order.quantity)))]),e.order.quantity<=3?n("div",[n("p",{staticClass:"cg-base-text light"},[e._v(e._s(e.$tc("default.stepper.finalAdoption.download_description",e.order.quantity)))]),n("a",{staticClass:"cg-btn download-certificate-button",attrs:{target:"_blank",href:this.getGetUrl({order_uuid:e.order.uuid})}},[e._v(" "+e._s(e.$tc("default.stepper.finalAdoption.download",e.order.quantity))+" ")])]):e._e()])])},ta=[],na={computed:Object(r["a"])({},Object(d["c"])({order:"getOrder"}))},aa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center final-step",attrs:{id:"FinalStep"}},[n("div",{staticClass:"image-final-container"},[n("img",{attrs:{src:e.path+"/img/icons/completed.svg",alt:""}})]),n("p",{staticClass:"cg-title"},[e._v(" "+e._s(e.$t("default.stepper.finalStep.title"))+" ")]),n("div",{staticClass:"d-inline-block mb-4"},[n("hint",{attrs:{icon:"mdi-check-circle"}},[n("p",{staticClass:"cg-base-text text-bolder"},[e._t("hint")],2)])],1),e._t("default"),n("social-share-block")],2)},oa=[],ia=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my-5",attrs:{id:"social-share"}},[n("span",{staticClass:"cg-base-text"},[e._v(e._s(e.$t("default.share")))]),n("a",{staticClass:"linkedin",attrs:{target:"_blank",href:"https://www.linkedin.com/sharing/share-offsite/?url="+e.sharingUrl}},[n("img",{attrs:{src:e.path+"/img/social/linkedin.svg",alt:""}}),n("span",{staticClass:"cg-base-text"},[e._v("Linkedin")])]),n("a",{staticClass:"facebook",attrs:{target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u="+e.sharingUrl}},[n("img",{attrs:{src:e.path+"/img/social/facebook.svg",alt:""}}),n("span",{staticClass:"cg-base-text"},[e._v("Facebook")])])])},ra=[],sa={name:"social-share-block",computed:Object(r["a"])(Object(r["a"])({},Object(d["c"])({path:"getImgPath"})),{},{sharingUrl:function(){return window.location.origin+"/adopte-corail/"}})},ca=sa,la=(n("32d0"),Object(h["a"])(ca,ia,ra,!1,null,"8a331498",null)),ua=la.exports,da=(n("25f0"),n("841c"),function(e){Object(Ee["a"])(n,e);var t=Object(Ve["a"])(n);function n(){return Object(P["a"])(this,n),t.apply(this,arguments)}return n}(ze));Object(Ae["a"])(da,"succeeded","succeeded"),Object(Ae["a"])(da,"processing","processing"),Object(Ae["a"])(da,"requires_payment_method","requires_payment_method"),Object(Ae["a"])(da,"error","error");var pa={data:function(){return{params:{}}},methods:{fillParams:function(){var e=this;new URLSearchParams(window.location.search).forEach((function(t,n){e.params[n]=t}))},cleanUrl:function(){window.history.replaceState({},document.title,window.location.pathname)}}},ma={mixins:[pa,_n],data:function(){return{checkingForPayment:!1}},methods:Object(r["a"])(Object(r["a"])({},Object(d["b"])({forceUpdate:"forceUpdate"})),{},{checkForPaymentIntent:function(){var e=this;return this.checkingForPayment=!0,this.fillParams(),new Promise((function(t,n){if(e.params.setup_intent_client_secret){var a=localStorage.getItem(e.params.setup_intent_client_secret);a?(a=JSON.parse(a),e.forceUpdate(a).then((function(){e.checkPaymentStatus().then((function(e){return t(e)}))}))):n()}else t()}))},checkPaymentStatus:function(){var e=this;return Object(bn["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.createStripe(),t.next=3,e.stripe.retrieveSetupIntent(e.params.setup_intent_client_secret);case 3:n=t.sent,a=n.setupIntent,t.t0=a.status,t.next="succeeded"===t.t0?8:("processing"===t.t0||t.t0,9);break;case 8:return t.abrupt("return",da.succeeded);case 9:return t.abrupt("return",da.error);case 10:case"end":return t.stop()}}),t)})))()},cleanLocalStorage:function(){var e=new URLSearchParams(window.location.search);e.has("setup_intent_client_secret")&&localStorage.removeItem(e.get("setup_intent_client_secret")),e.delete("setup_intent"),e.delete("redirect_status"),e.delete("setup_intent_client_secret");var t=e.toString(),n=window.location.pathname+(t.length>0?"?"+t:"");window.history.replaceState({},document.title,n)}})},fa={name:"final-step",mixins:[yt,ma],components:{Hint:we,SocialShareBlock:ua},computed:Object(r["a"])({},Object(d["c"])({path:"getImgPath"})),mounted:function(){var e=this;this.cleanLocalStorage(),this.$root.$on(this.apiEventName,(function(){return e.$root.$emit("ApiValid")}))},beforeDestroy:function(){this.$root.$off(this.apiEventName)}},ha=fa,ba=(n("ef96"),Object(h["a"])(ha,aa,oa,!1,null,"c36ec334",null)),va=ba.exports,ya={name:"final-adoption-step",components:{FinalStep:va},mixins:[yt,na,x],computed:Object(r["a"])({},Object(d["c"])({adoption:"getAdoption",order:"getOrder"}))},ga=ya,_a=(n("1993"),Object(h["a"])(ga,ea,ta,!1,null,"712583d0",null)),ja=_a.exports,Oa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.adopter.send_to_friend?n("p",[e._v(e._s(e.$tc("default.stepper.certificate.gift.email",e.order.quantity)))]):e._e(),n("p",{domProps:{innerHTML:e._s(e.description)}})])},$a=[],xa={name:"final-friend-gift-adoption-step",mixins:[yt,na],computed:Object(r["a"])(Object(r["a"])({},Object(d["c"])({adopter:"getAdopter"})),{},{description:function(){return this.adopter.send_to_friend?this.$tc("default.stepper.finalFriendGift.description",this.order.quantity,{link:this.getGetUrl({gift_code:this.order.giftCode})}):this.$tc("default.stepper.finalFriendGift.descriptionNoEmail",null,{link:this.getGetUrl({gift_code:this.order.giftCode})})}})},wa=xa,Sa=Object(h["a"])(wa,Oa,$a,!1,null,"04a057f5",null),Ca=Sa.exports,ka=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("final-step",{attrs:{id:"finalDonationStep"},scopedSlots:e._u([{key:"hint",fn:function(){return[e._v(" "+e._s(e.$t("default.stepper.finalDonation.hint",{price:e.donation.price}))+" ")]},proxy:!0}])},[e.donation.type===e.donationEnum.oneshot?n("p",{staticClass:"cg-base-text light",domProps:{innerHTML:e._s(e.$t("default.stepper.finalDonation.description"))}}):e.donation.type===e.donationEnum.monthly?n("p",{staticClass:"cg-base-text light",domProps:{innerHTML:e._s(e.$t("default.stepper.finalRecurrentDonation.description"))}}):e._e()])},Fa=[],Ta={name:"final-donation-step",components:{FinalStep:va},computed:Object(r["a"])(Object(r["a"])({},Object(d["c"])({donation:"getDonation"})),{},{donationEnum:function(){return wt}})},Pa=Ta,Ea=Object(h["a"])(Pa,ka,Fa,!1,null,"d52dfb84",null),Va=Ea.exports,Aa={CoralAdoptionStep:Ye,ChoiceStep:pt,CustomizationStep:Ot,DonationStep:Tt,FriendStep:It,GiftStep:Bt,InformationStep:mn,PaymentStep:Gn,ReefAdoptionStep:Kn,FinalAdoptionStep:ja,FinalFriendGiftAdoptionStep:Ca,FinalDonationStep:Va},za={name:"base-form",components:Object(r["a"])({FormFooter:j,Step:I},Aa),mixins:[q,x],props:{tabs:{type:Array,required:!0,validator:function(e){return Array.isArray(e)&&e.every((function(e){return e instanceof Object&&e.hasOwnProperty("visible")&&e.hasOwnProperty("title")}))}},steps:{type:Array,required:!0,validator:function(e){return Array.isArray(e)&&e.every((function(e){return e instanceof Object&&e.hasOwnProperty("title")&&e.hasOwnProperty("component")}))}}},computed:Object(r["a"])({},Object(d["c"])({stepNumber:"step",currentStep:"getCurrentStep",defaultTranslation:"getDefaultTranslation"})),data:function(){return{componentName:this.steps[0].component,displayAlert:!1,alert:""}},mounted:function(){var e=this;this.$root.$on("displayError",(function(t){e.alert=t?"default.errors."+t:"default.errors.base",e.displayAlert=!0,setTimeout((function(){e.displayAlert=!1}),5e3)}))}},Da=za,Ia=(n("267d"),Object(h["a"])(Da,s,c,!1,null,"dbfb2b82",null)),Na=Ia.exports;v()(Ia,{VAlert:ut["a"],VTab:In["a"],VTabItem:Nn["a"],VTabs:Mn["a"],VTabsItems:qn["a"]});n("a15b");var Ma=n("53ca"),qa={data:function(){return{missingTranslations:{}}},mounted:function(){},methods:{compare:function(e,t){var n={};for(var a in e)t&&"object"===Object(Ma["a"])(e[a])?n[a]=this.compare(e[a],"object"===Object(Ma["a"])(t[a])?t[a]:null):t&&t[a]?n[a]=t[a]:n[a]=e[a];return n},download:function(){var e=JSON.stringify(this.missingTranslations),t=new Blob([e],{type:"text/plain"}),n=document.createEvent("MouseEvents"),a=document.createElement("a");a.download="missingTranslations.json",a.href=window.URL.createObjectURL(t),a.dataset.downloadurl=["text/json",a.download,a.href].join(":"),n.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(n)}}},La={name:"app",mixins:[qa],components:{BaseForm:Na},computed:Object(r["a"])({},Object(d["c"])({form:"getForm"}))},Ra=La,Ba=(n("03db"),n("7496")),Ua=Object(h["a"])(Ra,o,i,!1,null,"09e878a6",null),Ha=Ua.exports;v()(Ua,{VApp:Ba["a"]});var Ya=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[!1===e.checkingForPayment?n("div",{staticClass:"new-form-container",attrs:{id:"full-form"}},[n("div",[e.currentStep.number?n("v-stepper",{staticClass:"stepper-top",attrs:{elevation:"0"},model:{value:e.topStepper,callback:function(t){e.topStepper=t},expression:"topStepper"}},[n("v-stepper-header",e._l(e.stepCount,(function(t){return n("div",{key:t},[n("div",{staticClass:"step-header-container"},[n("v-stepper-step",{key:"tab"+t,attrs:{complete:e.isCompleted(t),step:t}}),t<e.stepCount?n("stepper-header-progress",{attrs:{state:e.getState(t)}}):e._e()],1)])})),0)],1):e._e(),e.currentStep.number?n("v-divider",{staticClass:"cg-divider"}):e._e(),n("v-stepper",{class:{"stepper-bottom":e.currentStep.number},attrs:{elevation:"0"},model:{value:e.stepNumber,callback:function(t){e.stepNumber=t},expression:"stepNumber"}},[n("v-stepper-items",e._l(e.dynamicStepCount,(function(t){return n("div",{key:t},[n("v-stepper-content",{key:"step"+t,attrs:{step:t}},[e.steps[t-1].component===e.currentStep.component&&t===e.stepNumber?n("transition",{attrs:{name:"fade"}},[n("step",{attrs:{"is-singular":e.steps[t-1].singularTitle,"is-specific":e.steps[t-1].specificTitle,id:e.steps[t-1].component,step:e.steps[t-1]}},[n("transition",{attrs:{name:"fade"}},[e.displayAlert?n("v-alert",{staticClass:"tooltip white--text",attrs:{color:"red",dismissible:""}},[e._v(e._s(e.$t(e.alert,{singular:e.singular}))+" ")]):e._e()],1),e.steps[t-1].component===e.currentStep.component&&t===e.stepNumber?n(e.steps[t-1].component,e._b({tag:"component"},"component",e.steps[t-1].props,!1)):e._e(),e.displayFooter(t)?n("form-footer",{staticClass:"mt-5",attrs:{offset:e.steps[t-1].offset?e.steps[t-1].offset:400}}):e._e()],1)],1):e._e()],1)],1)})),0)],1)],1)]):e._e()])},Ga=[],Ja=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"d-flex justify-space-between btn-container"},[n("setup-btn",{on:{click:function(t){return e.updateForm({target:e.adoptionConstants.me,order:{type:"regular"}})}},model:{value:e.isAdoptionForMe,callback:function(t){e.isAdoptionForMe=t},expression:"isAdoptionForMe"}},[n("icon",{attrs:{"icon-path":"'img/icons/certificat.svg'",alt:""}}),e._v(" "+e._s(e.$t("default.stepper.setup.adopt"))+" "),n("btn-tooltip",[n("span",[e._v(e._s(e.$t("default.stepper.setup.tooltips.me")))])])],1),n("setup-btn",{on:{click:function(t){return e.updateForm({target:e.adoptionConstants.friend,order:{type:"gift"}})}},model:{value:e.isAdoptionToOffer,callback:function(t){e.isAdoptionToOffer=t},expression:"isAdoptionToOffer"}},[n("icon",{attrs:{"icon-path":"'img/icons/joffre.svg'",alt:""}}),e._v(" "+e._s(e.$t("default.stepper.setup.offer"))+" "),n("btn-tooltip",[n("span",[e._v(e._s(e.$t("default.stepper.setup.tooltips.recipient")))])])],1),e.adopter.type===e.adopterEnum.company?n("div",{staticClass:"switch-link-container"},[n("a",{staticClass:"cg-base-text switch-link",attrs:{href:"https://www.coralguardian.org/faire-un-don/?action=donation&c=individual"}},[e._v(" "+e._s(e.$t("default.stepper.setup.switch.donation"))+" "),n("v-icon",{attrs:{color:"primary"}},[e._v(" mdi-arrow-right ")])],1),n("a",{staticClass:"cg-base-text switch-link",attrs:{href:"https://www.coralguardian.org/adopte-corail/?c=individual"}},[e._v(" "+e._s(e.$t("default.stepper.setup.switch.individual"))+" "),n("v-icon",{attrs:{color:"primary"}},[e._v(" mdi-arrow-right ")])],1)]):n("div",{staticClass:"switch-link-container"},[n("a",{staticClass:"cg-base-text switch-link",attrs:{href:"https://www.coralguardian.org/faire-un-don/?action=donation&c=company"}},[e._v(" "+e._s(e.$t("default.stepper.setup.switch.donation"))+" "),n("v-icon",{attrs:{color:"primary"}},[e._v(" mdi-arrow-right ")])],1),n("a",{staticClass:"cg-base-text switch-link",attrs:{href:"https://www.coralguardian.org/nous-soutenir/?c=company"}},[e._v(" "+e._s(e.$t("default.stepper.setup.switch.company"))+" "),n("v-icon",{attrs:{color:"primary"}},[e._v(" mdi-arrow-right ")])],1)])],1)])},Wa=[],Qa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{staticClass:"setup-btn",attrs:{height:"90",color:"white"},on:{click:function(t){return e.$emit("click")}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[e._t("default")],2)},Za=[],Xa={name:"setup-btn",props:{value:null}},Ka=Xa,eo=(n("6eb6"),Object(h["a"])(Ka,Qa,Za,!1,null,null,null)),to=eo.exports;v()(eo,{VBtn:y["a"]});var no=function(e){Object(Ee["a"])(n,e);var t=Object(Ve["a"])(n);function n(){return Object(P["a"])(this,n),t.apply(this,arguments)}return n}(ze);Object(Ae["a"])(no,"indonesia","indonesia"),Object(Ae["a"])(no,"spain","spain");var ao=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"icon-container"},[n("img",{staticClass:"cg-icon",attrs:{src:e.fullPath,alt:""}})])},oo=[],io={name:"icon",props:{iconPath:{type:String,required:!0}},computed:Object(r["a"])(Object(r["a"])({},Object(d["c"])({path:"getImgPath"})),{},{fullPath:function(){return this.path+this.iconPath}})},ro=io,so=(n("a3ee"),Object(h["a"])(ro,ao,oo,!1,null,null,null)),co=so.exports,lo={name:"setup-step",mixins:[q,ee],components:{Icon:co,BtnTooltip:le,SetupBtn:to},computed:Object(r["a"])(Object(r["a"])({},Object(d["c"])({target:"getTarget",project:"getProject",adopter:"getAdopter"})),{},{isAdoptionForMe:function(){return this.target===this.adoptionConstants.me},isAdoptionToOffer:function(){return this.target===this.adoptionConstants.friend},projectEnum:function(){return no},adopterEnum:function(){return ln}}),methods:Object(r["a"])({},Object(d["b"])({updateForm:"updateForm"})),mounted:function(){var e=this;this.$root.$on(this.customValidationEventName,(function(){null!==e.target?(e.$root.$emit("StepValid"),e.$root.$emit("IsLoaded"),e.displayErrorMessage=!1):(e.$root.$emit(e.validationErrorEventName),e.$root.$emit("IsLoaded"),e.displayErrorMessage=!0)}))},beforeDestroy:function(){this.$root.$off(this.customValidationEventName)}},uo=lo,po=(n("2906"),Object(h["a"])(uo,Ja,Wa,!1,null,"4638dc1a",null)),mo=po.exports;v()(po,{VIcon:g["a"]});var fo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"d-flex justify-space-around btn-container"},[n("setup-btn",{staticClass:"text-capitalize",on:{click:function(t){return e.updateForm({order:{productType:e.productEnum.coral}})}},model:{value:e.isCoral,callback:function(t){e.isCoral=t},expression:"isCoral"}},[n("icon",{attrs:{"icon-path":"'/img/icons/corail.svg'",alt:""}}),e._v(" "+e._s(e.$tc("default.coral",1))+" ")],1),n("setup-btn",{staticClass:"text-capitalize",on:{click:function(t){return e.updateForm({order:{productType:e.productEnum.reef}})}},model:{value:e.isReef,callback:function(t){e.isReef=t},expression:"isReef"}},[n("icon",{attrs:{"icon-path":"'/img/icons/recif.svg'",alt:""}}),e._v(" "+e._s(e.$tc("default.reef.base",1))+" "),n("btn-tooltip",[n("span",{domProps:{innerHTML:e._s(e.$t("default.reef.tooltip"))}})])],1)],1),e.displayErrorMessage?n("p",{staticClass:"error--text"},[e._v(" "+e._s(e.$t("default.stepper.adoptionSetup.error"))+" ")]):e._e()])},ho=[],bo=function(e){Object(Ee["a"])(n,e);var t=Object(Ve["a"])(n);function n(){return Object(P["a"])(this,n),t.apply(this,arguments)}return n}(ze);Object(Ae["a"])(bo,"coral","coral"),Object(Ae["a"])(bo,"reef","reef");var vo={name:"adoption-setup-step",mixins:[ee],components:{Icon:co,BtnTooltip:le,SetupBtn:to},data:function(){return{displayErrorMessage:!1}},computed:Object(r["a"])(Object(r["a"])({},Object(d["c"])({order:"getOrder"})),{},{productEnum:function(){return bo},isCoral:function(){return"coral"===this.order.productType},isReef:function(){return"reef"===this.order.productType}}),methods:Object(r["a"])({},Object(d["b"])({updateForm:"updateForm"})),mounted:function(){var e=this;this.$root.$on(this.customValidationEventName,(function(){e.isCoral||e.isReef?(e.$root.$emit("StepValid"),e.$root.$emit("IsLoaded"),e.displayErrorMessage=!1):(e.$root.$emit(e.validationErrorEventName),e.$root.$emit("IsLoaded"),e.displayErrorMessage=!0)}))},beforeDestroy:function(){this.$root.$off(this.customValidationEventName)}},yo=vo,go=(n("e7ce"),Object(h["a"])(yo,fo,ho,!1,null,"0f1ba47d",null)),_o=go.exports,jo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"namingAdoption"}},[n("div",{staticClass:"adoptions"},[n("hint",[n("p",{staticClass:"cg-base-text",domProps:{innerHTML:e._s(e.$tc("default.stepper.namingAdoption.description."+e.project,e.order.quantity,e.translation))}})]),null!==e.adoption.type?n("v-form",{ref:e.formRefName,model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-row",e._l(e.order.quantity,(function(t){return n("v-col",{key:t,attrs:{cols:"6"}},[n("adoption-name-block",{attrs:{n:t},model:{value:e.adoption.names[t-1],callback:function(n){e.$set(e.adoption.names,t-1,n)},expression:"adoption.names[n-1]"}})],1)})),1)],1):e._e()],1),n("div",[n("v-checkbox",{staticClass:"mt-0",attrs:{"input-value":null===e.adoption.type},on:{change:function(t){return e.updateAdoptionType(t)}},scopedSlots:e._u([{key:"label",fn:function(){return[n("p",{staticClass:"cg-base-text"},[e._v(e._s(e.$t("default.stepper.namingAdoption.no_idea."+e.adopter.type)))])]},proxy:!0}])})],1)])},Oo=[],$o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("text-input",{attrs:{rules:[e.rules.required,e.rules.minLength,e.rules.specialChar],placeholder:e.$tc(e.label,e.order.quantity,{number:e.n,item:e.translation.item}),"max-length":30,counter:!0},on:{input:function(t){return e.$emit("input",e.value)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})},xo=[],wo={name:"adoption-name-block",mixins:[ee,x],components:{TextInput:he},props:{value:null,n:{type:Number,default:1}},computed:Object(r["a"])(Object(r["a"])({},Object(d["c"])({project:"getProject"})),{},{label:function(){return"default.stepper.customization.input.label."+this.project},placeholder:function(){return"default.stepper.customization.input.placeholder."+this.project}})},So=wo,Co=Object(h["a"])(So,$o,xo,!1,null,"814b0a94",null),ko=Co.exports,Fo=function(e){Object(Ee["a"])(n,e);var t=Object(Ve["a"])(n);function n(){return Object(P["a"])(this,n),t.apply(this,arguments)}return n}(ze);Object(Ae["a"])(Fo,"fields","fields"),Object(Ae["a"])(Fo,"file","file");var To={name:"naming-adoption-step",mixins:[ee,x],components:{Hint:we,AdoptionNameBlock:ko},data:function(){return{}},computed:Object(r["a"])(Object(r["a"])({},Object(d["c"])({adoption:"getAdoption",adoptionModel:"getPostAdoptionsData",order:"getOrder",adopter:"getAdopter",project:"getProject"})),{},{adopterEnum:function(){return ln}}),methods:Object(r["a"])(Object(r["a"])({},Object(d["b"])({updateForm:"updateForm"})),{},{createAdoption:function(){null===this.adoption.type?this.$root.$emit("StepValid"):this.adoption.type===Fo.fields&&this.$root.$emit(this.validationEventName)},updateAdoptionType:function(e){!1===e?(this.valid=!1,this.updateForm({adoption:{type:Fo.fields}})):(this.valid=!0,this.updateForm({adoption:{type:null}}))}}),mounted:function(){this.$root.$on(this.customValidationEventName,this.createAdoption)},beforeDestroy:function(){this.$root.$off(this.customValidationEventName)}},Po=To,Eo=(n("ce9a"),Object(h["a"])(Po,jo,Oo,!1,null,"8aabe73a",null)),Vo=Eo.exports;v()(Eo,{VCheckbox:Zt["a"],VCol:ke["a"],VForm:Ue["a"],VRow:Fe["a"]});var Ao=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row text-left"},[n("v-form",{ref:e.formRefName,model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("div",{staticClass:"col-12"},[n("p",{staticClass:"subtitles poppins-police"},[e._v(" "+e._s(e.$t("default.stepper.customizationSend.message.title"))+" ")]),n("p",{domProps:{innerHTML:e._s(e.$t("default.stepper.customizationSend.message.description"))}}),n("v-textarea",{staticClass:"mt-5",attrs:{rows:"3","no-resize":"",color:"tertiary",outlined:"",placeholder:e.$t("default.stepper.customizationSend.message.placeholder"),maxlength:"490",counter:""},model:{value:e.gift.message,callback:function(t){e.$set(e.gift,"message",t)},expression:"gift.message"}})],1),n("div",{staticClass:"col-12"},[n("p",{staticClass:"subtitles poppins-police"},[e._v(" "+e._s(e.$t("default.stepper.customizationSend.send.title"))+" ")]),n("p",[e._v(e._s(e.$t("default.stepper.customizationSend.send.description1")))]),n("p",{staticClass:"mt-5"},[e._v(e._s(e.$t("default.stepper.customizationSend.send.description2")))]),n("v-checkbox",{attrs:{color:"tertiary"},scopedSlots:e._u([{key:"label",fn:function(){return[n("p",{staticClass:"black--text"},[e._v(e._s(e.$t("default.stepper.customizationSend.send.checkbox")))])]},proxy:!0}]),model:{value:e.scheduled,callback:function(t){e.scheduled=t},expression:"scheduled"}}),e.scheduled?n("v-date-picker",{attrs:{color:"tertiary","first-day-of-week":1,locale:e.$i18n.locale,min:e.tomorrow,max:e.maxDate},model:{value:e.gift.toSendOn,callback:function(t){e.$set(e.gift,"toSendOn",t)},expression:"gift.toSendOn"}}):e._e(),n("error-display",{attrs:{message:e.errorMessage}})],1)])],1)},zo=[],Do=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.message?n("p",{staticClass:"cg-base-text error--text"},[e._v(" "+e._s(e.message)+" ")]):e._e()},Io=[],No={name:"error-display",props:{message:{type:String}}},Mo=No,qo=Object(h["a"])(Mo,Do,Io,!1,null,"3be05699",null),Lo=qo.exports,Ro={name:"customization-send-step",mixins:[ee,yt],components:{ErrorDisplay:Lo},data:function(){return{scheduled:!1,errorMessage:null}},computed:Object(r["a"])(Object(r["a"])({},Object(d["c"])({gift:"getGift",giftMessageModel:"getGiftMessageModel"})),{},{tomorrow:function(){var e=new Date(new Date);return e.setDate(e.getDate()+1),e.toISOString()},maxDate:function(){var e=new Date(new Date);return e.setDate(e.getDate()+365),e.toISOString()}}),watch:{scheduled:function(e){e||this.updateForm({gift:{toSendOn:null}})}},methods:Object(r["a"])(Object(r["a"])({},Object(d["b"])({updateForm:"updateForm"})),{},{check:function(){this.scheduled&&null===this.gift.toSendOn?(this.errorMessage=this.$t("default.errors.select_date"),this.$root.$emit("IsLoaded")):(this.errorMessage=null,this.$root.$emit("StepValid"))},sendMessageData:function(){var e=this;this[this.apiData.method](this.giftMessageModel,this.apiData.endpoint).then((function(){e.$root.$emit("ApiValid")})).catch((function(t){e.$root.$emit("displayError",t.response.data)})).finally((function(){e.$root.$emit("IsLoaded")}))}}),mounted:function(){var e=this;this.$root.$on(this.customValidationEventName,(function(){return e.check()})),this.$root.$on(this.apiEventName,(function(){return e.sendMessageData()}))},beforeDestroy:function(){this.$root.$off(this.customValidationEventName),this.$root.$off(this.apiEventName)}},Bo=Ro,Uo=n("2e4b"),Ho=Object(h["a"])(Bo,Ao,zo,!1,null,"3049ff1d",null),Yo=Ho.exports;v()(Ho,{VCheckbox:Zt["a"],VDatePicker:Uo["a"],VForm:Ue["a"],VTextarea:zt["a"]});var Go=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("final-step",{scopedSlots:e._u([{key:"hint",fn:function(){return[e._v(" "+e._s(e.$t("default.stepper.bankTransferThanks.hint"))+" ")]},proxy:!0}])},[n("p",{staticClass:"cg-base-text light"},[e._v(" "+e._s(e.$t("default.stepper.bankTransferThanks.description"))+" ")]),n("p",{staticClass:"cg-base-text light"},[e._v(" "+e._s(e.$t("default.stepper.bankTransferThanks.seeYouSoon"))+" ")])])},Jo=[],Wo={name:"bank-transfer-thanks-step",components:{FinalStep:va}},Qo=Wo,Zo=Object(h["a"])(Qo,Go,Jo,!1,null,"2ef980ee",null),Xo=Zo.exports,Ko=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("final-step",{scopedSlots:e._u([{key:"hint",fn:function(){return[e._v(" "+e._s(e.$t("default.stepper.finalRecipient.hint",{count:e.order.quantity,item:e.translation.item}))+" ")]},proxy:!0}])},[n("p",{staticClass:"cg-base-text light",domProps:{innerHTML:e._s(e.description)}})])},ei=[],ti={name:"final-adoption-step",components:{FinalStep:va},mixins:[yt,na,ee,x],computed:Object(r["a"])(Object(r["a"])({},Object(d["c"])({adopter:"getAdopter",gift:"getGift"})),{},{description:function(){var e="default.stepper.finalRecipient.description.";return null===this.adopter.send_to_friend?e+="later":!1===this.adopter.send_to_friend?e+="sendToMe":e+=null===this.gift.toSendOn?"base":"scheduled",this.$t(e)}})},ni=ti,ai=(n("d894"),Object(h["a"])(ni,Ko,ei,!1,null,"7f04b8ff",null)),oi=ai.exports,ii=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"btn-container"},[n("setup-btn",{on:{click:function(t){return e.updateForm({adopter:{type:e.adopterType.individual}})}},model:{value:e.isIndividual,callback:function(t){e.isIndividual=t},expression:"isIndividual"}},[n("icon",{attrs:{"icon-path":"'img/icons/individual.svg'",alt:""}}),e._v(" "+e._s(e.$t("default.stepper.adopterType.individual"))+" ")],1),n("setup-btn",{on:{click:function(t){return e.updateForm({adopter:{type:e.adopterType.company}})}},model:{value:e.isCompany,callback:function(t){e.isCompany=t},expression:"isCompany"}},[n("icon",{attrs:{"icon-path":"'img/icons/company.svg'",alt:""}}),e._v(" "+e._s(e.$t("default.stepper.adopterType.company"))+" ")],1)],1)},ri=[],si={name:"adopter-type-step",mixins:[ee],components:{Icon:co,SetupBtn:to},computed:Object(r["a"])(Object(r["a"])({},Object(d["c"])({adopter:"getAdopter"})),{},{adopterType:function(){return ln},isIndividual:function(){return this.adopter.type===this.adopterType.individual},isCompany:function(){return this.adopter.type===this.adopterType.company}}),methods:Object(r["a"])({},Object(d["b"])({updateForm:"updateForm"})),mounted:function(){var e=this;this.$root.$on(this.customValidationEventName,(function(){null!==e.adopter.type?(e.$root.$emit("StepValid"),e.displayErrorMessage=!1):(e.$root.$emit(e.validationErrorEventName),e.$root.$emit("IsLoaded"),e.displayErrorMessage=!0)}))},beforeDestroy:function(){this.$root.$off(this.customValidationEventName)}},ci=si,li=Object(h["a"])(ci,ii,ri,!1,null,"e25f78f2",null),ui=li.exports,di=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"d-flex justify-space-between btn-container"},[n("setup-btn",{on:{click:function(t){return e.updateForm({project:e.projectConstant.indonesia})}},model:{value:e.isIndonesia,callback:function(t){e.isIndonesia=t},expression:"isIndonesia"}},[n("icon",{attrs:{"icon-path":"/img/icons/indonesia.svg",alt:""}}),e._v(" "+e._s(e.$t("default.stepper.project.indonesia"))+" "),n("btn-tooltip",[n("span",{domProps:{innerHTML:e._s(e.$t("default.stepper.project.tooltips.indonesia"))}})])],1),n("setup-btn",{on:{click:function(t){return e.updateForm({project:e.projectConstant.spain})}},model:{value:e.isSpain,callback:function(t){e.isSpain=t},expression:"isSpain"}},[n("icon",{attrs:{"icon-path":"/img/icons/spain.svg",alt:""}}),e._v(" "+e._s(e.$t("default.stepper.project.spain"))+" "),n("btn-tooltip",[n("span",{domProps:{innerHTML:e._s(e.$t("default.stepper.project.tooltips.spain"))}})])],1)],1)])},pi=[],mi={name:"project-step",mixins:[ee],components:{BtnTooltip:le,SetupBtn:to,Icon:co},computed:Object(r["a"])(Object(r["a"])({},Object(d["c"])({project:"getProject"})),{},{projectConstant:function(){return no},isIndonesia:function(){return this.project===no.indonesia},isSpain:function(){return this.project===no.spain}}),methods:Object(r["a"])({},Object(d["b"])({updateForm:"updateForm"})),mounted:function(){var e=this;this.$root.$on(this.customValidationEventName,(function(){null!==e.project?(e.$root.$emit("StepValid"),e.displayErrorMessage=!1):(e.$root.$emit(e.validationErrorEventName),e.$root.$emit("IsLoaded"),e.displayErrorMessage=!0)}))},beforeDestroy:function(){this.$root.$off(this.customValidationEventName)}},fi=mi,hi=(n("7a2e"),Object(h["a"])(fi,di,pi,!1,null,"0071b1a4",null)),bi=hi.exports,vi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("hint",[n("p",{staticClass:"cg-base-text",domProps:{innerHTML:e._s(e.$t("default.stepper.payment.donation.description"))}})]),n("v-form",{ref:e.formRefName,model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("donation-block",{staticClass:"mt-3",attrs:{min:2,prices:[2,5,10,20]}})],1),n("donation-explanation-dialog")],1)},yi=[],gi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"donationBlock"}},[n("v-radio-group",{staticClass:"donation-button-container",model:{value:e.selectedPrice,callback:function(t){e.selectedPrice=t},expression:"selectedPrice"}},e._l(e.prices,(function(t,a){return n("div",{key:t,staticClass:"col-6 donation-button",class:{left:a%2===0}},[n("setup-btn",{attrs:{value:e.isSelectedPrice(t)},on:{click:function(n){return e.updateCustomAmount(t)}}},[n("v-radio",{staticClass:"mr-3",attrs:{value:t}}),e._v(" "+e._s(t)+" ‚Ç¨ ")],1)],1)})),0),n("custom-amount",{ref:"customAmount",attrs:{value:e.donation.price,hint:!1,"min-amount":e.min},on:{input:function(t){return e.updateFromCustomAmount(t)}}}),n("deduction",{attrs:{donation:e.donation.price}})],1)},_i=[],ji=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"cg-base-text",attrs:{id:"deduction"},domProps:{innerHTML:e._s(e.$t("default.deduction.description",e.options))}})},Oi=[],$i={name:"deduction",props:{donation:{types:Number,default:0}},computed:Object(r["a"])(Object(r["a"])({},Object(d["c"])({adopter:"getAdopter"})),{},{fiscalReduction:function(){var e=De;if(!De.isPropertyValid(this.adopter.type))throw"Cette r√©duction fiscale n'existe pas !";return e[this.adopter.type]},options:function(){return{donation:this.donation,deduction:this.getFormattedDeduction}},getFormattedDeduction:function(){var e=this.fiscalReduction*this.donation,t=this.donation-e;return Number.isInteger(t)||(t=t.toFixed(2)),t}})},xi=$i,wi=(n("1968"),Object(h["a"])(xi,ji,Oi,!1,null,null,null)),Si=wi.exports,Ci={name:"donation-block",components:{SetupBtn:to,Deduction:Si,CustomAmount:ge},mixins:[ee],props:{final:{type:Boolean,default:!1},prices:{type:Array,default:function(){return[5,10,20,50]}},min:{type:Number,default:0}},data:function(){return{selectedPrice:null}},computed:Object(r["a"])({},Object(d["c"])({currentStep:"getCurrentStep",donation:"getDonation"})),methods:Object(r["a"])(Object(r["a"])({},Object(d["b"])({updateForm:"updateForm"})),{},{updateCustomAmount:function(e){this.selectedPrice=e,this.updateForm({donation:{price:e}})},updateFromCustomAmount:function(e){this.selectedPrice=null,this.updateForm({donation:{price:e}})},isSelectedPrice:function(e){return this.selectedPrice===e}})},ki=Ci,Fi=(n("c262"),Object(h["a"])(ki,gi,_i,!1,null,null,null)),Ti=Fi.exports;v()(Fi,{VRadio:on["a"],VRadioGroup:rn["a"]});var Pi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mt-6"},[n("v-dialog",{attrs:{width:"650"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"href-button",attrs:{depressed:""}},"v-btn",o,!1),a),[n("span",{staticClass:"href-button-text"},[e._v(" "+e._s(e.$t("default.donation.dialog.activation"))+" ")]),n("v-icon",{attrs:{color:"primary"}},[e._v(" mdi-information ")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("div",{staticClass:"donation-dialog"},[n("p",{staticClass:"cg-title"},[e._v(" "+e._s(e.$t("default.donation.dialog.title"))+" ")]),n("p",{staticClass:"cg-base-text mb-2"},[e._v(e._s(e.$t("default.donation.dialog.chart.description")))]),n("div",{staticClass:"chart-container"},[n("Pie",{attrs:{"chart-data":e.chartData,"chart-options":e.options}})],1),n("v-divider",{staticClass:"my-4"}),n("div",{staticClass:"action-container"},[n("v-btn",{staticClass:"cg-btn",attrs:{color:"primary"},on:{click:function(t){e.dialog=!1}}},[e._v(" "+e._s(e.$t("default.donation.dialog.button"))+" ")])],1)],1)])],1)},Ei=[],Vi=n("7b97"),Ai=n("dd61"),zi=n("d9fa");Ai["f"].register(Ai["o"],Ai["p"],Ai["h"],Ai["e"],Ai["a"],zi["a"]);var Di={name:"donation-explanation-dialog",mixins:[p],components:{Pie:Vi["a"]},data:function(){return{dialog:!1,chartData:{labels:[this.$t("default.donation.dialog.chart.labels.program"),this.$t("default.donation.dialog.chart.labels.awareness"),this.$t("default.donation.dialog.chart.labels.science"),this.$t("default.donation.dialog.chart.labels.communication"),this.$t("default.donation.dialog.chart.labels.fundraisingCosts"),this.$t("default.donation.dialog.chart.labels.managementCosts")],datasets:[{backgroundColor:["#00AC8C","#A7B7DA","#FF9940","#E1000F","#1B446B","#4A3AFF"],data:[42.5,18.5,2.7,8.7,14.8,12.8]}]}}},computed:{options:function(){return{aspectRatio:this.windowWidth<=650?.5:1,plugins:{legend:{align:"left"},datalabels:{font:{weight:"bold"},formatter:function(){return""}}}}}}},Ii=Di,Ni=(n("1dc6"),n("169a")),Mi=n("ce7e"),qi=Object(h["a"])(Ii,Pi,Ei,!1,null,"1a927dfa",null),Li=qi.exports;v()(qi,{VBtn:y["a"],VDialog:Ni["a"],VDivider:Mi["a"],VIcon:g["a"]});var Ri={name:"pre-payment-donation-step",components:{Hint:we,DonationBlock:Ti,DonationExplanationDialog:Li},mixins:[x,ee,p],data:function(){return{}},computed:Object(r["a"])({},Object(d["c"])({donation:"getDonation"})),methods:Object(r["a"])({},Object(d["b"])({updateForm:"updateForm"})),mounted:function(){var e=this;this.$root.$on("ignoreStep",(function(){e.updateForm({donation:{price:0}}).then((function(){e.$root.$emit("StepValid")}))}))}},Bi=Ri,Ui=(n("c28c"),Object(h["a"])(Bi,vi,yi,!1,null,"93cdfca0",null)),Hi=Ui.exports;v()(Ui,{VForm:Ue["a"]});var Yi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-form",{ref:e.formRefName,model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("multiple-recipient-block"),n("v-divider",{staticClass:"cg-divider my-6"}),n("p",{staticClass:"cg-title",domProps:{innerHTML:e._s(e.$t("default.stepper.header.customizationSend"))}}),n("hint",[n("p",{staticClass:"cg-base-text",domProps:{innerHTML:e._s(e.$t("default.stepper.customizationSend.message.description"))}})]),n("v-textarea",{staticClass:"mt-5 customization-textarea",attrs:{rows:"3","no-resize":"",outlined:"",placeholder:e.$t("default.stepper.customizationSend.message.placeholder"),maxlength:"490",counter:""},model:{value:e.gift.message,callback:function(t){e.$set(e.gift,"message",t)},expression:"gift.message"}}),n("p",{staticClass:"cg-base-text light",domProps:{innerHTML:e._s(e.$t("default.stepper.customizationSend.send.description"))}}),n("v-switch",{attrs:{inset:""},scopedSlots:e._u([{key:"label",fn:function(){return[n("p",{staticClass:"cg-base-text"},[e._v(e._s(e.$t("default.stepper.customizationSend.send.checkbox")))])]},proxy:!0}]),model:{value:e.scheduled,callback:function(t){e.scheduled=t},expression:"scheduled"}}),n("v-row",[e.scheduled?n("v-date-picker",{attrs:{"first-day-of-week":1,locale:e.$i18n.locale,min:e.tomorrow,max:e.maxDate},model:{value:e.gift.toSendOn,callback:function(t){e.$set(e.gift,"toSendOn",t)},expression:"gift.toSendOn"}}):e._e()],1),n("error-display",{attrs:{message:e.errorMessage}})],1)],1)},Gi=[],Ji=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"multipleRecipient"}},[n("p",{staticClass:"cg-title",domProps:{innerHTML:e._s(e.$tc("default.stepper.multipleRecipient.title",e.order.quantity,e.translation))}}),n("hint",[n("p",{staticClass:"cg-base-text",domProps:{innerHTML:e._s(e.$t("default.stepper.multipleRecipient.description"))}})]),n("div",{staticClass:"recipients mt-5"},e._l(e.recipients,(function(t,a){return n("div",{key:a},[n("p",{staticClass:"cg-base-text mb-1"},[e._v(" "+e._s(e.$t("default.stepper.multipleRecipient.tabs.fields.recipient",{index:a+1}))+" * ")]),n("recipient-block",{attrs:{value:t},on:{input:e.updateRecipients}})],1)})),0)],1)},Wi=[],Qi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"row"},[n("text-input",{staticClass:"col-6",attrs:{placeholder:e.$t("default.stepper.friend.form.firstname"),rules:[e.rules.required,e.rules.specialChar],icon:"mdi-account-outline"},on:{input:function(t){return e.$emit("input",e.value)}},model:{value:e.value.first_name,callback:function(t){e.$set(e.value,"first_name",t)},expression:"value.first_name"}}),n("text-input",{staticClass:"col-6",attrs:{placeholder:e.$t("default.stepper.friend.form.name"),rules:[e.rules.required,e.rules.specialChar],icon:"mdi-account-outline"},on:{input:function(t){return e.$emit("input",e.value)}},model:{value:e.value.last_name,callback:function(t){e.$set(e.value,"last_name",t)},expression:"value.last_name"}})],1),n("text-input",{attrs:{placeholder:e.$t("default.stepper.friend.form.mail"),rules:[e.rules.required,e.rules.email],icon:"mdi-email-outline"},on:{input:function(t){return e.$emit("input",e.value)}},model:{value:e.value.email,callback:function(t){e.$set(e.value,"email",t)},expression:"value.email"}})],1)},Zi=[],Xi={name:"recipient-block",mixins:[ee],components:{TextInput:he},props:{value:null}},Ki=Xi,er=Object(h["a"])(Ki,Qi,Zi,!1,null,"8d7ad0ee",null),tr=er.exports,nr={name:"multiple-recipient-step",mixins:[ee,x],components:{Hint:we,RecipientBlock:tr},data:function(){return{recipients:[]}},computed:Object(r["a"])({},Object(d["c"])({order:"getOrder",recipient:"getRecipient"})),methods:Object(r["a"])(Object(r["a"])({},Object(d["b"])({updateForm:"updateForm"})),{},{updateRecipients:function(){this.updateForm({gift:{recipients:this.recipients}})},createRecipients:function(){for(var e=[],t=0;t<this.order.quantity;t++)e.push({first_name:"",last_name:"",email:""});this.recipients=e}}),mounted:function(){this.createRecipients()}},ar=nr,or=(n("9d33"),Object(h["a"])(ar,Ji,Wi,!1,null,"57f36c90",null)),ir=or.exports,rr={name:"recipient-customization-step",mixins:[ee,yt],components:{Hint:we,ErrorDisplay:Lo,MultipleRecipientBlock:ir},data:function(){return{scheduled:!1,errorMessage:null}},computed:Object(r["a"])(Object(r["a"])({},Object(d["c"])({gift:"getGift",giftMessageModel:"getGiftMessageModel"})),{},{tomorrow:function(){var e=new Date(new Date);return e.setDate(e.getDate()+1),e.toISOString()},maxDate:function(){var e=new Date(new Date);return e.setDate(e.getDate()+365),e.toISOString()}}),watch:{scheduled:function(e){e||this.updateForm({gift:{toSendOn:null}})}},methods:Object(r["a"])(Object(r["a"])({},Object(d["b"])({updateForm:"updateForm"})),{},{check:function(){this.scheduled&&null===this.gift.toSendOn?(this.errorMessage=this.$t("default.errors.select_date"),this.$root.$emit("IsLoaded")):(this.errorMessage=null,this.$root.$emit("StepValid"))},sendMessageData:function(){var e=this;this[this.apiData.method](this.giftMessageModel,this.apiData.endpoint).then((function(){e.$root.$emit("ApiValid")})).catch((function(t){e.$root.$emit("displayError",t.response.data)})).finally((function(){e.$root.$emit("IsLoaded")}))}}),mounted:function(){var e=this;this.$root.$on(this.customValidationEventName,(function(){return e.check()})),this.$root.$on(this.apiEventName,(function(){return e.sendMessageData()}))},beforeDestroy:function(){this.$root.$off(this.customValidationEventName),this.$root.$off(this.apiEventName)}},sr=rr,cr=(n("e41f"),n("b73d")),lr=Object(h["a"])(sr,Yi,Gi,!1,null,"cb15f89a",null),ur=lr.exports;v()(lr,{VDatePicker:Uo["a"],VDivider:Mi["a"],VForm:Ue["a"],VRow:Fe["a"],VSwitch:cr["a"],VTextarea:zt["a"]});var dr={SetupStep:mo,AdoptionSetupStep:_o,CoralAdoptionStep:Ye,InformationStep:mn,PaymentStep:Gn,NamingAdoptionStep:Vo,FinalAdoptionStep:ja,FinalDonationStep:Va,ReefAdoptionStep:Kn,CustomizationSendStep:Yo,RecipientCustomizationStep:ur,DonationStep:Tt,BankTransferThanksStep:Xo,FinalRecipientStep:oi,AdopterTypeStep:ui,ProjectStep:bi,PrePaymentDonationStep:Hi},pr=(n("99af"),n("257e")),mr=function(){function e(){Object(P["a"])(this,e),Object(Ae["a"])(this,"steps",[])}return Object(E["a"])(e,[{key:"getSteps",value:function(){return this.checkForm(),this.steps}},{key:"checkForm",value:function(){if(!this.steps)throw new Error("Form must have steps")}},{key:"nextForm",value:function(){throw"Implement 'nextForm' method !"}},{key:"unload",value:function(){return console.log("You should Implement 'unload' method !"),new Promise((function(e){return e()}))}},{key:"onload",value:function(){console.log("You should Implement 'onload' method !")}}]),e}(),fr=function(e){Object(Ee["a"])(n,e);var t=Object(Ve["a"])(n);function n(e){var a;return Object(P["a"])(this,n),a=t.call(this),Object(Ae["a"])(Object(pr["a"])(a),"project",void 0),a.project=e,a.steps=[{tab:{title:"default.stepper.header.donation"},title:"default.stepper.donation.title."+e,component:"DonationStep",validate:!0},{tab:{title:"default.stepper.header.information"},title:"default.stepper.information.title",component:"InformationStep",validate:!0},{tab:{title:"default.stepper.header.payment"},title:"default.stepper.payment.title",component:"PaymentStep",validate:!0,customValidation:!0,props:{mode:"donation"},api:{method:"post",endpoint:"createOrder"}},{tab:{title:"default.stepper.header.thanks"},title:"default.stepper.finalDonation.title",component:"FinalDonationStep",back:!1,isLast:!0}],a}return Object(E["a"])(n,[{key:"unload",value:function(e){return new Promise((function(t){e.data.project=null,t()}))}}]),n}(mr),hr=(n("4de4"),n("d81d"),n("2909")),br=function(e){Object(Ee["a"])(n,e);var t=Object(Ve["a"])(n);function n(){return Object(P["a"])(this,n),t.call(this,null,null,"BankTransferThanksStep",(function(){return!0}),!1,!1,!1,!1,null,!1,!0)}return Object(E["a"])(n,[{key:"evaluate",value:function(e){return e.data.payment_method===An.bankTransfer}}]),n}(V),vr=function(e){Object(Ee["a"])(n,e);var t=Object(Ve["a"])(n);function n(){return Object(P["a"])(this,n),t.call(this,null,null,"FinalAdoptionStep",(function(){return!0}),!1,!1,!1,!1,{method:"get",endpoint:"getCertificates"},!1,!0)}return Object(E["a"])(n,[{key:"evaluate",value:function(e){return e.data.payment_method===An.creditCard}}]),n}(V),yr=function(e){Object(Ee["a"])(n,e);var t=Object(Ve["a"])(n);function n(e){var a;return Object(P["a"])(this,n),a=t.call(this),a.steps=[new V("default.stepper.adoption.title",2,"ReefAdoptionStep",(function(e){return e.data.order.productType===bo.reef}),!0,!1,!1,!0),new V("default.stepper.adoption.title",2,"CoralAdoptionStep",(function(e){return e.data.order.productType===bo.coral}),!0,!1,!1,!0),new V("default.stepper.customization.title."+e,3,"NamingAdoptionStep",(function(){return!0}),!0,!1,!0,!0),new V("default.stepper.information.title",4,"InformationStep",(function(){return!0}),!0,!1,!1,!0),new V("default.stepper.bonusDonation.title",5,"PrePaymentDonationStep",(function(){return!0}),!0,!0,!1,!0),new V("default.stepper.payment.title",6,"PaymentStep",(function(){return!0}),!0,!1,!0,!0,{method:"post",endpoint:"createOrder"}),new vr,new br],a}return Object(E["a"])(n,[{key:"unload",value:function(e){return new Promise((function(t){e.data.order.productType=null,e.data.order.quantity=1,e.data.order.price=null,t()}))}},{key:"onload",value:function(e){if(e.products){var t=e.products.filter((function(t){return t.key===e.data.order.productType})),n=Math.min.apply(Math,Object(hr["a"])(t.map((function(e){return e.price}))));e.data.order.price=n,e.data.baseElementPrice=n,e.data.selectedProduct=Object(vt["clone"])(t[0])}}}]),n}(mr),gr=function(e){Object(Ee["a"])(n,e);var t=Object(Ve["a"])(n);function n(){return Object(P["a"])(this,n),t.call(this,null,4,"RecipientCustomizationStep",(function(){return!0}),!0,!1,!0,!0)}return Object(E["a"])(n,[{key:"evaluate",value:function(e){return!0===e.data.adopter.send_to_friend}}]),n}(V),_r=function(e){Object(Ee["a"])(n,e);var t=Object(Ve["a"])(n);function n(){var e;return Object(P["a"])(this,n),e=t.call(this),e.steps=[new V("default.stepper.adoption.title",2,"ReefAdoptionStep",(function(e){return e.data.order.productType===bo.reef}),!0,!1,!1,!0),new V("default.stepper.adoption.title",2,"CoralAdoptionStep",(function(e){return e.data.order.productType===bo.coral}),!0,!1,!1,!0),new V("default.stepper.information.title",3,"InformationStep",(function(){return!0}),!0,!1,!1,!0),new gr,new V("default.stepper.bonusDonation.title",5,"PrePaymentDonationStep",(function(){return!0}),!0,!0,!1,!0),new V("default.stepper.payment.title",6,"PaymentStep",(function(){return!0}),!0,!1,!0,!0,{method:"post",endpoint:"createOrder"}),new V(null,null,"FinalRecipientStep",(function(){return!0}),!0,!1,!1,!1,null,!1,!0)],e}return Object(E["a"])(n,[{key:"unload",value:function(e){return new Promise((function(t){e.data.order.productType=null,e.data.order.quantity=1,e.data.order.price=null,t()}))}},{key:"onload",value:function(e){if(e.products){var t=e.products.filter((function(t){return t.key===e.data.order.productType})),n=Math.min.apply(Math,Object(hr["a"])(t.map((function(e){return e.price}))));e.data.order.price=n,e.data.baseElementPrice=n,e.data.selectedProduct=Object(vt["clone"])(t[0])}}}]),n}(mr),jr=function(e){Object(Ee["a"])(n,e);var t=Object(Ve["a"])(n);function n(){var e;Object(P["a"])(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),Object(Ae["a"])(Object(pr["a"])(e),"steps",[new V("default.stepper.header.full.adoption",1,"AdoptionSetupStep",(function(e){return null===e.data.order.productType}),!0,!1,!0,!0)]),e}return Object(E["a"])(n,[{key:"nextForm",value:function(e){return new Promise((function(t,n){var a=e.state;switch(a.data.target){case M.me:e.dispatch("loadForm",new yr(e.state.data.project)).then((function(){return t()})).catch((function(e){n(e)}));break;case M.friend:e.dispatch("loadForm",new _r).then((function(){return t()})).catch((function(e){n(e)}));break;default:n("Formulaire non trouv√©")}}))}},{key:"unload",value:function(e){return new Promise((function(t){e.data.order.productType=null,t()}))}}]),n}(mr),Or=function(e){Object(Ee["a"])(n,e);var t=Object(Ve["a"])(n);function n(){var e;Object(P["a"])(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),Object(Ae["a"])(Object(pr["a"])(e),"steps",[new V("default.stepper.header.project",1,"ProjectStep",(function(e){return null===e.data.project&&e.data.target!==Jt.donation}),!0,!1,!0,!0)]),e}return Object(E["a"])(n,[{key:"nextForm",value:function(e){return new Promise((function(t,n){var a=e.state;if(null===a.data.adopter.type||null===a.data.target||null===a.data.project)throw"Les donn√©es n√©cessaires ne sont pas disponibles !";switch(a.data.target){case M.me:e.dispatch("loadProducts").then((function(){e.dispatch("loadForm",new jr).then((function(){e.dispatch("updateForm",{order:{type:"regular"}}).then((function(){return t()}))}))})).catch((function(e){console.error(e)}));break;case M.friend:e.dispatch("loadProducts").then((function(){e.dispatch("loadForm",new jr).then((function(){e.dispatch("updateForm",{order:{type:"gift"}}).then((function(){return t()}))}))}));break;default:n("Formulaire non trouv√©")}}))}}]),n}(mr),$r=function(e){Object(Ee["a"])(n,e);var t=Object(Ve["a"])(n);function n(){var e;Object(P["a"])(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),Object(Ae["a"])(Object(pr["a"])(e),"steps",[new V("default.stepper.header.adopterType",1,"AdopterTypeStep",(function(e){return null===e.data.adopter.type}),!0,!1,!0,!0),new V("default.stepper.header.full.setup",1,"SetupStep",(function(e){return null===e.data.target}),!0,!1,!0,!0)]),e}return Object(E["a"])(n,[{key:"nextForm",value:function(e){return new Promise((function(t,n){var a=e.state;if(null===a.data.adopter.type||null===a.data.target)throw"Les donn√©es n√©cessaires ne sont pas disponibles !";switch(a.data.target){case M.me:case M.friend:e.dispatch("loadForm",new Or).then((function(){return t()}));break;case Jt.donation:e.dispatch("updateForm",{project:no.indonesia}),e.dispatch("loadForm",new fr(e.state.data.project)).then((function(){return t()}));break;default:n("Formulaire non trouv√©")}}))}}]),n}(mr),xr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"cg-stepper-progress",class:{completed:"completed"===e.state}},["progress"===e.state?n("div",{staticClass:"part-progress"}):e._e()])])},wr=[],Sr={name:"stepper-header-progress",props:{state:{type:String,default:"empty"}}},Cr=Sr,kr=(n("285e"),Object(h["a"])(Cr,xr,wr,!1,null,null,null)),Fr=kr.exports,Tr={mixins:[pa],methods:Object(r["a"])(Object(r["a"])({},Object(d["b"])({updateForm:"updateForm"})),{},{fillState:function(){var e=this;this.fillParams();var t={};if(this.params.c&&ln.isValueValid(this.params.c)&&(t.adopter={type:this.params.c}),this.params.action&&Jt.isValueValid(this.params.action)){t.target=Jt.getTarget(this.params.action);var n=this.params.action===Jt.gift?Jt.gift:"regular";t.order={type:n}}return this.params.project&&no.isValueValid(this.params.project)&&(t.project=this.params.project),new Promise((function(n){e.updateForm(t).then((function(){return n()}))}))}})},Pr={name:"full-form",mixins:[ma,qa,Tr],components:Object(r["a"])({StepperHeaderProgress:Fr,FormFooter:j,Step:I},dr),props:{},data:function(){return{displayAlert:!1,alert:"",stepCount:6}},computed:Object(r["a"])(Object(r["a"])({},Object(d["c"])({steps:"getSteps",stepNumber:"step",currentStep:"getCurrentStep",dynamicStepCount:"stepCount",order:"getOrder",adopter:"getAdopter"})),{},{topStepper:function(){return this.currentStep.number}}),methods:Object(r["a"])(Object(r["a"])({},Object(d["b"])({loadForm:"loadForm",incrementStep:"incrementStep"})),{},{isCompleted:function(e){return this.topStepper>e},getState:function(e){return this.isCompleted(e)?"completed":this.topStepper===e?"progress":""},displayFooter:function(e){var t=this.steps[e-1];return(t.back||!t.isLast)&&t.component===this.currentStep.component&&e===this.stepNumber},checkForPayment:function(){var e=this;this.checkForPaymentIntent().then((function(t){t===da.succeeded?((new Bn).executeTag(e.order,"adoption",e.adopter),e.incrementStep().then((function(){setTimeout((function(){e.checkingForPayment=!1}),200),setTimeout((function(){e.$vuetify.goTo("#FinalStep",{offset:400})}),200)}))):t===da.error?e.checkingForPayment=!1:e.startSetupForm()})).catch((function(){e.startSetupForm()}))},startSetupForm:function(){var e=this;this.fillState().then((function(){e.loadForm(new $r).then((function(){return e.checkingForPayment=!1}))}))}}),beforeMount:function(){this.checkForPayment()},mounted:function(){var e=this;this.$root.$on("displayError",(function(t){e.alert=t?"default.errors."+t:"default.errors.base",e.displayAlert=!0,e.$root.$emit("IsLoaded"),setTimeout((function(){e.displayAlert=!1}),5e3)}))}},Er=Pr,Vr=(n("83b0"),n("7e85")),Ar=n("e516"),zr=n("9c54"),Dr=n("56a4"),Ir=Object(h["a"])(Er,Ya,Ga,!1,null,"3ccafb4f",null),Nr=Ir.exports;v()(Ir,{VAlert:ut["a"],VApp:Ba["a"],VDivider:Mi["a"],VStepper:Vr["a"],VStepperContent:Ar["a"],VStepperHeader:zr["a"],VStepperItems:zr["b"],VStepperStep:Dr["a"]});var Mr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.displayForm?n("v-app",[!1===e.displayFinalStep?n("div",{staticClass:"new-form-container"},[n("v-form",{ref:"firstStepForm",attrs:{value:e.firstStepValid}},[n("div",{staticClass:"step"},[n("donation-step")],1),n("div",{staticClass:"step last"},[n("information-step",{ref:"informationStep"})],1)]),e.displayPaymentStep?n("div",{staticClass:"step"},[n("payment-step",{ref:"paymentStep",attrs:{mode:"donation","bank-transfer":!1}})],1):e._e(),n("v-btn",{staticClass:"cg-btn d-flex mb-6 mx-auto",attrs:{rounded:"",color:"primary",loading:e.isLoading},on:{click:e.validStep}},[e._v(" "+e._s(e.$t("default.ui.continue"))+" ")])],1):n("div",{staticClass:"new-form-container"},[n("final-donation-step")],1)]):e._e()},qr=[],Lr={name:"donation-form",components:{InformationStep:mn,DonationStep:Tt,PaymentStep:Gn,FinalDonationStep:Va},mixins:[],props:{},data:function(){return{displayForm:!1,firstStepValid:!1,displayPaymentStep:!1,params:{},isLoading:!1,displayFinalStep:!1,paymentSucceeded:!1}},computed:Object(r["a"])(Object(r["a"])({},Object(d["c"])({donation:"getDonation",adopter:"getAdopter"})),{},{informationStep:function(){return this.$refs.informationStep}}),methods:Object(r["a"])(Object(r["a"])({},Object(d["b"])({updateForm:"updateForm",forceUpdate:"forceUpdate"})),{},{fillParams:function(){var e=this;new URLSearchParams(window.location.search).forEach((function(t,n){e.params[n]=t}))},validStep:function(){!1===this.displayPaymentStep?this.validateFirstStep():this.purchase()},validateFirstStep:function(){var e=this;this.$refs.firstStepForm.validate()&&this.validInformationStep()&&(this.displayPaymentStep=!0,setTimeout((function(){e.$vuetify.goTo("#paymentStep",{offset:200})}),200))},validInformationStep:function(){return this.informationStep.$refs[this.informationStep.formRefName].validate()},purchase:function(){this.isLoading=!0,this.$refs.paymentStep.purchase()},checkForPaymentIntent:function(){var e=this;return new Promise((function(t,n){if(e.params.setup_intent_client_secret){var a=localStorage.getItem(e.params.setup_intent_client_secret);a?(a=JSON.parse(a),e.forceUpdate(a).then((function(){e.checkPaymentStatus().then((function(){return t()}))}))):n()}else t()}))},checkPaymentStatus:function(){var e=this;return Object(bn["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.createStripe(),t.next=3,e.stripe.retrieveSetupIntent(e.params.setup_intent_client_secret);case 3:n=t.sent,a=n.setupIntent,e.updateForm({order:{clientSecret:a.client_secret,stripePaymentIntentId:a.id}}),t.t0=a.status,t.next="succeeded"===t.t0?9:("processing"===t.t0||t.t0,12);break;case 9:return(new Bn).executeTag(e.donation,"donation",e.adopter),e.paymentSucceeded=!0,t.abrupt("break",13);case 12:e.displayPaymentStep=!0;case 13:case"end":return t.stop()}}),t)})))()},displayFinalStepAction:function(){var e=this;this.displayFinalStep=!0,setTimeout((function(){e.displayForm=!0}),200),setTimeout((function(){e.$vuetify.goTo("#finalDonationStep",{offset:400})}),200)}}),created:function(){this.fillParams();var e={adopter:{type:ln.individual}};this.params.c&&ln.isValueValid(this.params.c)&&(e={adopter:{type:this.params.c}}),this.updateForm(e)},mounted:function(){var e=this;this.checkForPaymentIntent().then((function(){e.paymentSucceeded?e.displayFinalStepAction():e.displayForm=!0})).catch((function(){e.displayForm=!0})),this.$root.$on("IsLoaded",(function(){return e.isLoading=!1}))},beforeDestroy:function(){this.$root.$off("IsLoaded")}},Rr=Lr,Br=(n("806f"),Object(h["a"])(Rr,Mr,qr,!1,null,"7b653b86",null)),Ur=Br.exports;v()(Br,{VApp:Ba["a"],VBtn:y["a"],VForm:Ue["a"]});var Hr=n("f309");a["a"].use(Hr["a"]);var Yr={theme:{options:{customProperties:!0},themes:{light:{primary:"#1B446B",secondary:"#EFF0F6",tertiary:"#4A3AFF"}}}},Gr=new Hr["a"](Yr),Jr=(n("2b19"),n("6062"),function e(t){Object(P["a"])(this,e);var n={firstname:t.adopter.first_name,lastname:t.adopter.last_name,address:t.adopter.address,postalCode:t.adopter.postal_code,city:t.adopter.city,country:t.adopter.country,email:t.adopter.email,customerType:t.adopter.type,wantsNewsletter:t.adopter.wants_newsletter,language:K.locale};return"company"===t.adopter.type&&Object(vt["merge"])(n,{alternateNewsletterEmail:t.adopter.alternate_newsletter_email,companyName:t.adopter.company_name,siret:t.adopter.siret}),n}),Wr=function e(t){Object(P["a"])(this,e);var n={key:t.selectedProduct.key,quantity:t.order.quantity,project:t.project};return t.selectedProduct.variant&&(n.variant=t.selectedProduct.variant),n},Qr=function e(t){return Object(P["a"])(this,e),{amount:t.donation.price,donationRecurrency:t.donation.type,project:t.project}},Zr=function e(t){Object(P["a"])(this,e);var n={customer:new Jr(t),productsOrdered:[],donationOrdered:[],totalAmount:t.order.price+t.donation.price,lang:K.locale,paymentMethod:t.payment_method};return t.order.type===Jt.gift&&(n.sendToFriend=null===t.adopter.send_to_friend||t.adopter.send_to_friend),null!==t.selectedProduct&&(n.productsOrdered=[new Wr(t)]),t.donation.price>0&&(n.donationOrdered=[new Qr(t)]),n},Xr="undefined"!==typeof publicPath&&null!==publicPath?publicPath[0]:"",Kr="undefined"!==typeof apiNamespace&&null!==apiNamespace?apiNamespace[0]:"",es=function e(){Object(P["a"])(this,e),this.state={formType:"basic",baseImgPath:Xr,apiNamespace:Kr,data:{step:0,baseElementPrice:null,adopter:{id:null,type:null,first_name:"",last_name:"",email:"",address:"",postal_code:null,city:"",country:null,wants_newsletter:!1},order:{id:null,uuid:null,type:"regular",clientSecret:null,stripePaymentIntentId:null,price:null,customAmount:!1,quantity:1,status:null},orderToken:"",donation:{type:wt.monthly,price:0,status:null},payment_method:An.creditCard,project:null},isInitialized:!1},this.getters={getSteps:function(e){var t=[];return e.data.forms.forEach((function(e){t=Object(vt["concat"])(t,e.steps)})),t},step:function(e){return e.data.step},getCurrentStep:function(e,t){return t.getSteps[e.data.step]},stepCount:function(e,t){return t.getSteps.length},getApiData:function(e,t){return t.getCurrentStep.api?t.getCurrentStep.api:null},getOrderToken:function(e){return e.data.orderToken},getAdopter:function(e){return e.data.adopter},getCustomerModel:function(e){return new Jr(e.data)},getOrder:function(e){return e.data.order},getImgPath:function(e){return e.baseImgPath},getDonation:function(e){return e.data.donation},getApiNamespace:function(e){return e.apiNamespace},getOrderModel:function(e){return new Zr(e.data)},getProject:function(e){return e.data.project},isInitialized:function(e){return e.isInitialized},getPaymentMethod:function(e){return e.data.payment_method}},this.mutations={updateForm:function(e,t){Object(vt["merge"])(e.data,t)},forceUpdate:function(e,t){e.data=t},incrementStep:function(e,t){e.data.step=e.data.step+t},decrementStep:function(e,t){e.data.step=e.data.step-t},initializeForm:function(e){e.isInitialized=!0}},this.actions={forceUpdate:function(e,t){return new Promise((function(n){e.commit("forceUpdate",t),n()}))},updateForm:function(e,t){return new Promise((function(n){e.commit("updateForm",t),n()}))},incrementStep:function(e){return new Promise((function(t){var n=e.getters.step,a=1,o=!1;while(n<e.getters.getSteps.length){if(void 0===e.getters.getSteps[n].evaluate||e.getters.getSteps[n].evaluate(e.state)){o=!0,e.commit("incrementStep",a),t();break}n++,a++}o||e.dispatch("loadNextForm").then((function(){e.commit("incrementStep",1),t()}))}))},decrementStep:function(e){if(e.state.data.step>0){var t=null;Object.is(e.getters.getCurrentForm,e.getters.getPreviousForm)||(t=e.getters.getCurrentForm);var n=e.getters.step,a=1,o=!1;while(n>0){if(e.getters.getSteps[n-2].evaluate(e.state)){o=!0,e.commit("decrementStep",a);break}n--,a++}o||(e.commit("decrementStep",1),null!==t&&e.commit("unloadForm",t))}},loadNextForm:function(e){return new Promise((function(t){e.getters.getCurrentForm.nextForm(e).then((function(){return t()}))}))},initializeForm:function(e){e.state.isInitialized||e.commit("initializeForm")}}},ts=function e(t){Object(P["a"])(this,e);var n={names:t.adoption.names,adoptionUuid:t.order.uuid};return t.order.giftCode&&(n.giftCode=t.order.giftCode),n},ns=new es,as=function e(t,n){Object(P["a"])(this,e);var a=t,o=n,i=function(){return Object(r["a"])(Object(r["a"])({},ns.state),{},{data:Object(r["a"])(Object(r["a"])({},ns.state.data),{},{baseElementPrice:o,order:Object(r["a"])(Object(r["a"])({},ns.state.data.order),{},{price:o,productType:a}),target:null,adoption:{type:Fo.fields,names:[]},recipient:{type:"fields"},friend:{first_name:"",last_name:"",email:"",message:""},donation:Object(r["a"])({},ns.state.data.donation),selectedProduct:null}),baseForm:{tabs:[{visible:!1,title:null}],steps:[{title:"default.stepper.choice.title",component:"ChoiceStep",singularTitle:!0,classes:"choice-step"}]}})};this.state=i(),this.getters=Object(r["a"])(Object(r["a"])({},ns.getters),{},{getTarget:function(e){return e.data.target},getCurrentStep:function(e,t){return t.getSteps[e.data.step]},getPostAdoptionsData:function(e){return new ts(e.data)},getAdoption:function(e){return e.data.adoption},getRecipient:function(e){return e.data.recipient},getFriend:function(e){return e.data.friend}}),this.mutations=Object(r["a"])(Object(r["a"])({},ns.mutations),{},{incrementCount:function(e){e.data.order.quantity++,e.data.order.price=e.data.order.quantity*e.data.baseElementPrice},decrementCount:function(e){e.data.order.quantity--,e.data.order.price=e.data.order.quantity*e.data.baseElementPrice},setQuantity:function(e,t){e.data.order.quantity=Number(t),e.data.order.price=Number(t)*e.data.baseElementPrice}}),this.actions=Object(r["a"])(Object(r["a"])({},ns.actions),{},{incrementCount:function(e){e.commit("incrementCount")},decrementCount:function(e){e.state.data.order.quantity>0&&e.commit("decrementCount")},setQuantity:function(e,t){e.commit("setQuantity",t)}})},os=function e(t){Object(P["a"])(this,e);var n=[];return t.gift.recipients.forEach((function(e){n.push({friendFirstname:e.first_name,friendLastname:e.last_name,friendEmail:e.email})})),{friends:n,adoptionUuid:t.order.uuid}},is=function e(t){return Object(P["a"])(this,e),{adoptionUuid:t.order.uuid,message:t.gift.message,sendOn:t.gift.toSendOn?t.gift.toSendOn.replaceAll("-",""):null}};function rs(e,t){if(!(e instanceof mr))throw"Utiliser un AbstractForm !!!";var n=e.getSteps();return n.filter((function(e){return e.display(t)}))}var ss=new as(null,null);a["a"].use(d["a"]);var cs=new d["a"].Store({state:Object(r["a"])(Object(r["a"])({},ss.state),{},{formType:"advanced",data:Object(r["a"])(Object(r["a"])({},ss.state.data),{},{step:1,adopter:Object(r["a"])(Object(r["a"])({},ss.state.data.adopter),{},{alternate_newsletter_email:null,send_to_friend:null,company_name:"",siret:null}),order:Object(r["a"])(Object(r["a"])({},ss.state.data.order),{},{type:null}),donation:Object(r["a"])(Object(r["a"])({},ss.state.data.donation),{},{type:wt.monthly}),gift:{recipients:[],message:"",toSendOn:null},forms:[]}),products:null}),getters:Object(r["a"])(Object(r["a"])({},ss.getters),{},{getCurrentStep:function(e,t){return t.getSteps[e.data.step-1]},getStepsNumbers:function(e){return e.data.forms.length?e.data.forms.map((function(e){return e.steps.length})):[]},getCurrentForm:function(e,t){for(var n=t.getStepsNumbers,a=0,o=0;o<n.length;o++)if(a+=n[o],a>=e.data.step)return e.data.forms[o]},getPreviousForm:function(e,t){for(var n=t.getStepsNumbers,a=1,o=0;o<n.length;o++)if(a+=n[o],a>=e.data.step)return e.data.forms[o]},getDefaultTranslation:function(e){var t="default.";switch(e.data.target){case Jt.donation:return t+e.data.donation.type;default:return t+e.data.order.productType+(e.data.order.productType===bo.reef?".base":"")}},getSpecificTranslation:function(e){return e.data.specificType?"default."+e.data.specificType:null},getGift:function(e){return e.data.gift},getGiftModel:function(e){return new os(e.data)},getGiftMessageModel:function(e){return new is(e.data)},getProducts:function(e){return e.products.filter((function(t){return t.key===e.data.order.productType}))}}),mutations:Object(r["a"])(Object(r["a"])({},ss.mutations),{},{loadSpecificForm:function(e,t){e.data.forms.push(t),t.onload(e)},unloadForm:function(e,t){t.unload(e).then((function(){e.data.forms=e.data.forms.filter((function(e){return!Object.is(e,t)}))}))},updateProducts:function(e,t){e.products=t}}),actions:Object(r["a"])(Object(r["a"])({},ss.actions),{},{loadForm:function(e,t){return new Promise((function(n,a){if(t instanceof mr){var o=rs(t,e.state);0===o.length?t.nextForm(e).then((function(){return n()})):(t.steps=o,e.commit("loadSpecificForm",t),n())}else a("Formulaire incomplet")}))},loadProducts:function(e){return new Promise((function(t,n){null===e.state.data.project&&n("Un projet doit √™tre s√©lectionn√© !"),bt.a.get("/wp-json/"+e.getters.getApiNamespace+"/adoption/products?project="+e.getters.getProject).then((function(n){e.commit("updateProducts",n.data);var a=Object(hr["a"])(new Set(n.data.map((function(e){return e.key}))));1===a.length?e.dispatch("updateForm",{order:{productType:a.join()}}).then((function(){return t()})):t()})).catch((function(e){n(e)}))}))}})}),ls=function(e){Object(Ee["a"])(n,e);var t=Object(Ve["a"])(n);function n(){var e;Object(P["a"])(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),Object(Ae["a"])(Object(pr["a"])(e),"form",{tabs:[{visible:!0,title:"default.stepper.header.gift",class:"round-left-top"},{visible:!0,title:"default.stepper.header.customization",class:"round-right-top"},{visible:!1,title:null}],steps:[{title:"default.stepper.gift.title",component:"GiftStep",validate:!0,api:{method:"get",endpoint:"giftcode/getAdoption"}},{title:"default.stepper.customization.title.default",component:"CustomizationStep",validate:!0,back:!1,api:{method:"post",endpoint:"adoption/naming"}},{title:"default.stepper.finalFriendGift.title",component:"FinalFriendGiftAdoptionStep",back:!1,api:{method:"get",endpoint:"getCertificatesByGift"},isLast:!0}]}),e}return n}(mr),us=new as(null,null);a["a"].use(d["a"]);var ds=new d["a"].Store({state:Object(r["a"])(Object(r["a"])({},us.state),{},{form:new ls}),getters:Object(r["a"])(Object(r["a"])({},us.getters),{},{getForm:function(e){return e.form.form},getSteps:function(e){return e.form.form.steps},getDefaultTranslation:function(e){var t="default.";return t+e.data.order.productType+("reef"===e.data.order.productType?".base":"")},getSpecificTranslation:function(e){return e.data.specificType?"default."+e.data.specificType:null}}),mutations:Object(r["a"])({},us.mutations),actions:Object(r["a"])({},us.actions)}),ps=(n("3c61"),function(e){Object(Ee["a"])(n,e);var t=Object(Ve["a"])(n);function n(){return Object(P["a"])(this,n),t.call(this,"default.stepper.payment.title",6,"PaymentStep",(function(){return!0}),!0,!1,!0,!0,{method:"post",endpoint:"createOrder"})}return n}(V)),ms=new es;a["a"].use(d["a"]);var fs=new d["a"].Store({state:Object(r["a"])(Object(r["a"])({},ms.state),{},{data:Object(r["a"])(Object(r["a"])({},ms.state.data),{},{step:1,adopter:Object(r["a"])(Object(r["a"])({},ms.state.data.adopter),{},{company_name:"",siret:null}),donation:Object(r["a"])(Object(r["a"])({},ms.state.data.donation),{},{type:null,isCustom:!1}),selectedProduct:null,project:no.indonesia})}),getters:Object(r["a"])(Object(r["a"])({},ms.getters),{},{getCurrentStep:function(){return new ps}}),mutations:Object(r["a"])({},ms.mutations),actions:Object(r["a"])({},ms.actions)});a["a"].config.productionTip=!1,document.querySelector("#full-form")&&new a["a"]({vuetify:Gr,i18n:K,store:cs,render:function(e){return e(Nr,{})}}).$mount("#full-form"),document.querySelector("#donation-form")&&new a["a"]({vuetify:Gr,i18n:K,store:fs,render:function(e){return e(Ur,{})}}).$mount("#donation-form"),document.querySelector("#gift-code-form")&&new a["a"]({vuetify:Gr,i18n:K,store:ds,render:function(e){return e(Ha,{})}}).$mount("#gift-code-form")},"5ad7":function(e,t,n){},6920:function(e,t,n){"use strict";var a=n("0ba3"),o=n.n(a);o.a},"6eb6":function(e,t,n){"use strict";var a=n("d71a"),o=n.n(a);o.a},7344:function(e,t,n){},7805:function(e,t,n){"use strict";var a=n("a8b9"),o=n.n(a);o.a},"7a2e":function(e,t,n){"use strict";var a=n("f6f7"),o=n.n(a);o.a},"7b5d":function(e,t,n){},"7ccd":function(e,t,n){"use strict";var a=n("a4c8"),o=n.n(a);o.a},"806f":function(e,t,n){"use strict";var a=n("ffa7"),o=n.n(a);o.a},"83b0":function(e,t,n){"use strict";var a=n("4b5e"),o=n.n(a);o.a},"8c6c":function(e,t,n){},9467:function(e,t,n){"use strict";var a=n("bbc9"),o=n.n(a);o.a},9647:function(e,t,n){"use strict";var a=n("ad0f"),o=n.n(a);o.a},"9ccd":function(e,t,n){},"9d33":function(e,t,n){"use strict";var a=n("b8d1"),o=n.n(a);o.a},a339:function(e,t,n){},a3ee:function(e,t,n){"use strict";var a=n("d1c2"),o=n.n(a);o.a},a4c8:function(e,t,n){},a6bf:function(e,t,n){},a8b9:function(e,t,n){},a9a6:function(e,t,n){},ac7f:function(e,t,n){"use strict";var a=n("e5e8"),o=n.n(a);o.a},ad0f:function(e,t,n){},ae22:function(e,t,n){},b731:function(e,t,n){"use strict";var a=n("0ed7"),o=n.n(a);o.a},b89a:function(e,t,n){},b8d1:function(e,t,n){},bbc9:function(e,t,n){},bedd:function(e,t,n){},c262:function(e,t,n){"use strict";var a=n("dd44"),o=n.n(a);o.a},c28c:function(e,t,n){"use strict";var a=n("5ad7"),o=n.n(a);o.a},c962:function(e,t,n){},ca5a:function(e,t,n){},ce9a:function(e,t,n){"use strict";var a=n("ddfe"),o=n.n(a);o.a},d1c2:function(e,t,n){},d71a:function(e,t,n){},d894:function(e,t,n){"use strict";var a=n("52ee"),o=n.n(a);o.a},dd44:function(e,t,n){},ddfe:function(e,t,n){},e41f:function(e,t,n){"use strict";var a=n("eccd"),o=n.n(a);o.a},e5e8:function(e,t,n){},e7ce:function(e,t,n){"use strict";var a=n("b89a"),o=n.n(a);o.a},eccd:function(e,t,n){},ef96:function(e,t,n){"use strict";var a=n("4ec4"),o=n.n(a);o.a},f65e:function(e,t,n){"use strict";var a=n("555e"),o=n.n(a);o.a},f667:function(e,t,n){"use strict";var a=n("ca5a"),o=n.n(a);o.a},f6f7:function(e,t,n){},fd41:function(e,t,n){"use strict";var a=n("a339"),o=n.n(a);o.a},fe2b:function(e,t,n){"use strict";var a=n("7b5d"),o=n.n(a);o.a},ff10:function(e,t,n){"use strict";var a=n("a9a6"),o=n.n(a);o.a},ff45:function(e,t,n){},ffa7:function(e,t,n){}});
//# sourceMappingURL=app.cf472896.js.map